{"version":3,"sources":["redux/ActionTypes.js","helpers/constants.js","helpers/funcs.js","data/script.js","redux/ActionCreators.js","data/skins.js","data/gameobjects.js","data/Maps/town_center.js","data/Levels/1/_home.js","data/Maps/home.js","data/Levels/1/_bakery.js","data/Maps/bakery.js","data/Maps/town_north.js","data/Maps/cave.js","data/Maps/hell.js","data/Levels/1/_town_north.js","data/Levels/1/_cave.js","data/Levels/1/_hell.js","data/Maps/town_south.js","data/Maps/library.js","data/Maps/gameroom.js","data/Levels/1/_library.js","data/Levels/1/_gameroom.js","data/Maps/hotel.js","data/Levels/1/_town_south.js","data/Levels/1/_hotel.js","data/Maps/hospital.js","data/Levels/1/index.js","data/Levels/1/_town_center.js","data/Levels/1/_hostpital.js","components/LoadingComponent.js","components/BattleComponent.js","components/StatsComponent.js","components/PlayerComponent.js","components/NPCManagerComponent.js","components/GameObjectManagerComponent.js","components/MapComponent.js","components/ConversationDisplayComponent.js","components/InventoryComponent.js","components/CustomModalComponent.js","components/WorldComponent.js","components/GameComponent.js","components/MainMenuComponent.js","components/PlayerSelectComponent.js","data/resourcepaths.js","components/MainComponent.js","components/AudioEffectsComponent.js","redux/player.js","redux/map.js","redux/viewport.js","redux/npc.js","redux/gameobject.js","redux/dialog.js","redux/inventory.js","redux/statemanager.js","redux/battle.js","redux/ConfigureStore.js","App.js","serviceWorker.js","index.js"],"names":["ADD_MAP","LEFT","RIGHT","UP","DOWN","KEYCODES","ARROW_KEYCODES","SPACE_KEY","PICKUP_KEY","INVENTORY_KEY","ESC_KEY","VALID_KEYCODES","concat","PICKABLES","BOSS","GANG_MEMBER","SAVED_GAME","LEVEL_COLORS","L1","L2","L3","L4","L5","L6","MAP_NAMES","AUDIO_PATH","IMAGES_PATH","MAPS_BASE","CHARACTER_SPRITES_BASE","PROPS_PATH","DRIP_SOUND","BEEP_SOUND","BEEP_2_SOUND","BEEP_3_SOUND","BEEP_LONG_SOUND","PICK_SOUND","LASER_SOUND","MAIN_MENU_MUSIC","TOWN_CENTER_MUSIC","TOWN_NORTH_MUSIC","TOWN_SOUTH_MUSIC","HOME_MUSIC","BAKERY_MUSIC","HOTEL_MUSIC","LIBRARY_MUSIC","GAMEROOM_MUSIC","CAVE_MUSIC","HELL_MUSIC","BATTLE_MUSIC","BATTLE_BOSS_MUSIC","BATTLE_GM_MUSIC","BATTLE_END_MUSIC","BASE_FONT_SIZE","getViewportDim","screenWidth","screenHeight","width","height","viewportdim","Math","min","getFontSize","multiplier","mapToViewport","mappos","mapstart","tileToMapCoordinates","tile","TILE_SIZE","mapCoordinatesToTiles","position","intervalList","customSetInterval","func","delay","npcid","id","setInterval","clearIntervals","props","Object","keys","i","length","clearInterval","timeoutList","customSetTimeout","setTimeout","getValue","stateparam","payloadparam","centerBgImg","image","color","size","backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","solidBorder","radius","border","borderRadius","getKeyDiv","keycode","fontSize","style","padding","display","getLevelColor","level","getWinPercColor","winperc","playSoundEffect","src","Audio","play","PLAYERDIALOGS","Frank","follows","starts","battleAccept","battleAsk","battleWin","battleLose","Dad","Joey","Ace","Tia","Nathan","John","Samantha","Eden","Tracer","Koby","Betty","Gambit","Chop","Molly","Jordan","Grindel","Tori","Ghissu","Razor","Prick","LT","Ilaria","Felicity","Snyder","Kaloo","Goku","Misty","Trigger","Max","Maty","Damon","Patient","Tegan","Hunt","Void","Rock","Paper","Scissors","Beast","NPCDIALOGS","battleAcceptNeverDefeated","battleDeclineDefeated","battleDecline","observeMapBoundaries","newpos","mapwidth","mapheight","observeIdleNPC","npcList","filter","npc","isAnimating","observeAnimatingNPC","nextPosition","getNewPostion","oldpos","direction","movementSize","window","alert","getNewOrigin","start","getNPC","npclist","checkPortalEnter","playerdir","portaldir","UpdatePlayerPosition","keyCode","dispatch","getState","player","interacting","frozen","inBattle","VIEWPORT_WIDTH","viewport","viewportDims","VIEWPORT_HEIGHT","mapend","end","map","steps","skin","walkSpriteCount","movemap","frameMovementSize","UpdatePlayerDirectionAction","tiles","row","col","abs","observeImpassible","idlenpc","list","animatingnpc","UpdatePlayerAnimationAction","camera","viewportPos","observeCamera","viewportWidth","viewportHeight","mapScrollable","requestAnimationFrame","animatePlayer","nearbyNPC","UpdateNearbyNPCAction","battle","battleFlag","ForceBattleConversation","talkFlag","ForceNonBattleConversation","UpdatePlayerPositionAction","UpdateOriginAction","frameInterval","nearByNPC","checkNearbyIdleNPC","objects","getObjectForPickup","gameobjects","UpdateNearbyGameObjAction","nearbyGameObj","portals","getPortal","enabled","rotate","EnterPortal","getPositionEquality","pos1","pos2","gameobject","includes","type","getOppositeDirection","checkNearbyIdlePlayer","npcpos","observeIdlePlayer","playerpos","checkBattleEligibilty","playerlevel","npclevel","checkBossBattleEligibilty","defeatedGangMembersList","battlerType","defeatedGangMembers","oppdirection","UpdateNPCDirectionAction","SetConversationStatus","name","dialogs","dialog","replace","InitiateConversation","defeatedCount","UpdateConversation","speakerIdx","dialogIdx","person1","NextDialogAction","battleConversation","StartBattle","npcId","portal","checkEnablesPortal","EnablePortalAction","ResetConversationStatus","enablesPortal","UpdateNPCPosition","stationary","isWaiting","performance","now","lastUpdated","waitInterval","ResetNPCWaiting","curdirection","pathArr","defaultDirection","pathIdx","pathDir","newdirection","oldirection","getNewDirection","observePlayer","UpdateNPCAnimationAction","animateNPC","UpdateNPCPositionAction","SaveStateInitAction","saveStateandAddMap","SaveStateAction","AddMap","target","cpyPrevStates","statemanager","prevStates","oldState","pop","currentMap","currentGameobjects","currentMapNPCBattleStatus","checkandRestoreMap","LoadingMapAction","mapBg","Image","onload","RestoreStateAction","secondary","start_x","start_y","end_x","end_y","playerPosition","sm","AddMapAction","payload","BattleGetRandomMove","maxMove","floor","random","BattleGetNextMove","markovMatrix","lastMove","nextMove","predictedMoveIdx","reduce","maxIdx","currVal","currIdx","arr","move","BattleGetWinningMove","BattleMoveIndexToStr","BattleHandleMove","playerMove","playermove","npcmove","playerMarkovMatrix","playerLastMove","npcMove","winner","summary","playername","npcname","BattleSummary","UpdateBattleStatsAction","finalWinner","CheckBattleWinner","newexp","exp","getPlayerNewExp","score","newlevel","getPlayerLevel","EndBattle","gangMember","playerLevel","npcLevel","max","lives","battleWinner","updatedPlayerStats","CloseBattle","gameobjId","origin","person2","portalname","AddObjecttoInventory","object","state","SaveStateEndAction","currentMapInfo","mapinfo","RestoreStateFromDiskAction","getMergedNPCList","base","diff","diffnpc","vpstart","vpend","ActionTypes","audioSrc","SKINS","player_1","player_2","prof","friend_1","friend_2","friend_3","friend_4","friend_5","friend_6","friend_7","friend_8","friend_9","kid_1","kid_2","kid_3","nurse","chef","bully_1","crush_1","crush_2","crush_3","crush_4","tribe_1","tribe_2","tribe_3","tribe_4","tribe_5","boss","whitepuppy","brownpuppy","blackcat","whitecat","orangecat","baby","patient_1","ITEMS_URL","PORTAL_URL","ENTER_URL","LEAVE_URL","GAMEOBJECTS","srcpos","effects","PORTALS","townCenter","_home","moveInterval","_bakery","battleMusic","townNorth","cave","hell","_townNorth","townSouth","library","gameroom","_library","hotel","_townSouth","hospital","Loading","justifyContent","alignItems","flexDirection","className","alt","fontFamily","msg","HealthBar","timeout","this","blink","hb","classList","add","bind","clearTimeout","remove","ref","marginRight","currhealth","maxhealth","left","top","transform","Component","PlayerInfo","reverse","alignSelf","margin","maxLives","MoveDiv","push","imgStyle","Summary","text","idx","p","animate","innerHTML","substring","animateText","overflowWrap","BattleEnd","handleKeyDown","handleTouchEnd","continue","continueKey","isMobile","winnerStr","winnerClass","levelColor","levelArrow","initialStats","event","closeBattle","from","to","speed","count","cont","opacity","addEventListener","removeEventListener","marginLeft","marginBottom","marginTop","BattleIntro","BattleArena","handleMoveSelect","moveelements","document","getElementsByClassName","disabled","submitMove","lastWinner","flexWrap","onClick","Battle","inIntro","endIntro","UI_COMPONENT","AUDIO_COMPONENT","music","loop","html5","volume","inEnd","connect","parseInt","bgStyle","bgcolor","bordercolor","AwareComponent","instruction","Stats","handleSaveBtnClick","saveGame","num","borderLeft","borderRight","borderTop","won","lost","isNaN","round","paddingLeft","icon","faSave","saveStateToLocalStorage","npcAnimating","serializedState","JSON","stringify","localStorage","setItem","err","PlayerSprite","playerStyle","walkIndex","spriteLocation","zIndex","playermarkerstyle","faCaretDown","Player","NPC","battlerMarkerIcon","faExclamation","self","faSkull","updateNPCPosition","npcStyle","battlemarkerstylebase","messagestylebase","textAlign","faEnvelope","NPCManager","NPCObj","key","GameObject","objStyle","GameObjectManager","GameObj","Map","Dialog","animateConversation","next","content","objref","p1","p2","isOpen","person","cleanBoard","POS","right","bottom","ConversationDisplay","InventoryItem","imageStyle","divSize","InventoryRow","countObj","item","GetInventoryItemCounts","inventorylist","rendergameobjects","gameobj","boxShadow","writingMode","textOrientation","InventoryDialog","inventoryStyle","inventory","Inventory","CustomModal","show","confirmLink","faCheckSquare","cancelLink","faWindowClose","World","touchstartX","touchstartY","touchendX","touchendY","handleTouchStart","handleTouchMove","toggleExitModalState","showExitModal","setState","preventDefault","touches","clientX","clientY","xDiff","yDiff","updatePlayerPosition","handleConversation","stopImmediatePropagation","pickupObject","toggleInventory","overflow","world","handleBack","gobj","Game","initViewport","loadgame","loadGameFromDisk","loadMap","isLoading","savingState","Fragment","getItem","parse","dims","checkSavedGame","MenuBtn","basestyle","disbaledstyle","title","MainMenu","startNewGame","loadGame","SELECT_URL","CharacterPane","click","option","selected","bgColor","PlayerSelect","handleCharacterClick","handleNameChange","validateAndSend","character","errmsg","value","test","startNewJourney","initPlayerInfo","startJourney","borderBottom","htmlFor","onChange","skinIdx","SetPlayerInfoAction","RESOURCES","LoadingResources","done","total","ceil","Main","loading","menu","playerselect","game","screenDim","screen","resourceTotal","resourceDone","bg","handleStartNewGame","handleLoadGame","handleStartJourney","pictureUrls","callback","j","loaded","img","renderMenu","preloadPictures","PlayerSelectComponent","AudioEffects","preload","INITIAL_STATE","getUpdatedGangMembersList","newGangMember","newDefeatedGangMembers","HEALER","CURRENCY","EATABLE","squareMatrix","n","matrix","Array","fill","getLives","currRound","rootReducer","combineReducers","action","statecpy","cpyMatrix","ConfigureStore","createStore","composeWithDevTools","applyMiddleware","thunk","App","store","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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AAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,GAC5H,CAAG,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,IAC3H,CAAI,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3H,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,KAG/HnG,IAAI,GAAD,OAAKxF,EAAL,oBAEHoE,gBAAiB,UAEjBuT,SAAUhX,IC9BD8Z,GAAQ,CAGjBlL,KAAM1P,EAENuL,ICTgB,CAEhBO,MAAO,CACH,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3C,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC3C,CAAI,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,GAC5C,CAAI,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,GAC5C,CAAI,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,GAC5C,CAAI,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,GAC5C,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC5C,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC5C,CAAI,EAAK,EAAK,EAAI,GAAM,EAAI,GAAM,EAAK,EAAK,IAIhDnG,IAAI,GAAD,OAAKxF,EAAL,aAEHoE,gBAAiB,UAEjBuT,SAAU7W,IDPV4J,OAAQ,CACJ/H,SAAU,CAAC,EAAG,GACdgH,UAAW,MAIfN,IAAM,CACE,CAEIpG,GAAI,EACJsM,KAAM,MACNjE,KAAMsM,GAAK,KACXjO,UAAWrL,EACXqS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,GAAI,CAAC,EAAE,IACpB9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,IACd/D,UAAU,GAGd,CAEIhK,GAAI,EACJsM,KAAM,OACNjE,KAAMsM,GAAK,KACXjO,UAAWlL,EACXkS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,IACjD9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,IACdlE,QAAQ,EACR1H,MAAO,EACP8J,YPNe,mBOSnB,CAEIjM,GAAI,EACJsM,KAAM,MACNjE,KAAMsM,GAAK,WACXjO,UAAWlL,EACXkS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,GAAI,CAAC,EAAE,GAAG,CAAC,EAAE,IAC1B9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,MAM1BtD,YAAc,GAKdG,QAAS,CACL,CACIlL,SAAU,CAAC,EAAG,GACd4L,KAAMgM,GAAQ,GACdvM,OAAO,MEtEN2M,GAAU,CAGnBpL,KAAM1P,EAENuL,ICTkB,CAElBO,MAAO,CACH,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IACzE,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IACzE,CAAI,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAI,IACzE,CAAI,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,GAC1E,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC1E,CAAI,EAAK,EAAI,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAM,EAAK,GAC1E,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC1E,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC1E,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC1E,CAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,GAAM,EAAI,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,IAI9EnG,IAAI,GAAD,OAAKxF,EAAL,eAEHoE,gBAAiB,UAEjBuT,SAAU5W,IDRV2J,OAAQ,CACJ/H,SAAU,CAAC,EAAG,GACdgH,UAAW,MAIfN,IAAM,CACE,CAEIpG,GAAI,EACJsM,KAAM,UACNjE,KAAMsM,GAAK,SACXjO,UAAWpL,EACXoS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,IACb9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,KAElB,CAEI/N,GAAI,EACJsM,KAAM,QACNjE,KAAMsM,GAAK,SACXjO,UAAWrL,EACXqS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,IACb9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,KAElB,CAEI/N,GAAI,EACJsM,KAAM,WACNjE,KAAMsM,GAAK,QACXjO,UAAWpL,EACXoS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,GAAI,CAAC,EAAE,IACpB9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,IACdlE,QAAQ,EACR1H,MAAO,EACP8J,YThBe,mBSkBnB,CAEIjM,GAAI,EACJsM,KAAM,OACNjE,KAAMsM,GAAK,QACXjO,UAAWpL,EACXoS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,GAAI,CAAC,EAAE,IACpB9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,IACdlE,QAAQ,EACR1H,MAAO,EACP8J,YAAa9P,EACbwb,YAAarZ,IAGjB,CACI0B,GAAI,EACJsM,KAAM,OACNjE,KAAMsM,GAAK,MACXjO,UAAWnL,EACXmS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,KACb9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,IACdlE,QAAQ,EACR1H,MAAO,EACP8J,YT/Ce,mBSkDnB,CAEIjM,GAAI,EACJsM,KAAM,OACNjE,KAAMsM,GAAK,SACXjO,UAAWnL,EACXmS,YAAY,EACZQ,QAAS,CAAC,CAAC,EAAE,IAAK,CAAC,EAAE,KACrB9D,cAAe,IACfqN,aAAc,IACd1J,aAAc,MAK1BtD,YAAc,GAKdG,QAAS,CACL,CACIlL,SAAU,CAAC,EAAG,GACd4L,KAAMgM,GAAQ,GACdvM,OAAO,MElHN6M,GAAY,CAErBlP,MAAO,CACH,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GA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","file":"static/js/main.fff6e5f6.chunk.js","sourcesContent":["export const INIT_VIEWPORT_DIMS = \"INIT_VIEWPORT_DIMS\";\r\nexport const SET_PLAYER_INFO = \"SET_PLAYER_INFO\";\r\nexport const UPDATE_PLAYER_POSITION = \"UPDATE_PLAYER_POSITION\";\r\nexport const UPDATE_PLAYER_DIRECTION = \"UPDATE_PLAYER_DIRECTION\";\r\nexport const UPDATE_PLAYER_ANIMATION = \"UPDATE_PLAYER_ANIMATION\";\r\nexport const UPDATE_NEARBY_NPC = \"UPDATE_NEARBY_NPC\";\r\nexport const UPDATE_NEARBY_GAMEOBJ = \"UPDATE_NEARBY_GAMEOBJ\";\r\n\r\nexport const ADD_MAP = \"ADD_MAP\";\r\nexport const MAP_LOADING = \"MAP_LOADING\";\r\nexport const UPDATE_MAP_ORIGIN = \"UPDATE_MAP_ORIGIN\";\r\n\r\nexport const UPDATE_NPC_POSITION = \"UPDATE_NPC_POSITION\";\r\nexport const UPDATE_NPC_DIRECTION = \"UPDATE_NPC_DIRECTION\";\r\nexport const UPDATE_NPC_ANIMATION = \"UPDATE_NPC_ANIMATION\";\r\nexport const RESET_NPC_WAITING = \"RESET_NPC_WAITING\";\r\n\r\nexport const SET_DIALOG_STATUS = \"SET_DIALOG_STATUS\";\r\nexport const RESET_DIALOG_STATUS = \"RESET_DIALOG_STATUS\";\r\nexport const NEXT_DIALOG = \"NEXT_DIALOG\";\r\n\r\nexport const TOGGLE_INVENTORY_DISPLAY = \"TOGGLE_INVENTORY_DISPLAY\";\r\nexport const ADD_OBJECT_TO_INVENTORY = \"ADD_OBJECT_TO_INVENTORY\";\r\nexport const ENABLE_PORTAL = \"ENABLE_PORTAL\";\r\n\r\nexport const SAVE_STATE_INITIATED = \"SAVE_STATE_INITIATED\";\r\nexport const SAVE_STATE = \"SAVE_STATE\";\r\nexport const SAVE_STATE_END = \"SAVE_STATE_END\";\r\nexport const RESTORE_STATE = \"RESTORE_STATE\";\r\nexport const RESTORE_STATE_FROM_DISK = \"RESTORE_STATE_FROM_DISK\";\r\n\r\nexport const START_BATTLE = \"START_BATTLE\";\r\nexport const END_BATTLE_INTRO = \"END_BATTLE_INTRO\";\r\nexport const SUBMIT_MOVES = \"SUBMIT_MOVES\";\r\nexport const END_BATTLE = \"END_BATTLE\";\r\nexport const CLOSE_BATTLE = \"CLOSE_BATTLE\";\r\n\r\nexport const START_NEW_JOURNEY = \"START_NEW_JOURNEY\";","export const TILE_SIZE = 80;\r\nexport const TOTAL_MOVEMENT_SIZE = TILE_SIZE;\r\n\r\nexport const LEFT = \"LEFT\";\r\nexport const RIGHT = \"RIGHT\";\r\nexport const UP = \"UP\";\r\nexport const DOWN = \"DOWN\";\r\n\r\nexport const KEYCODES = {\r\n    left: 37,\r\n    up: 38,\r\n    right: 39,\r\n    down: 40,\r\n}\r\n\r\nexport const ARROW_KEYCODES = [37, 38, 39, 40];\r\nexport const SPACE_KEY = [32];\r\nexport const PICKUP_KEY = [80]; /* P */\r\nexport const INVENTORY_KEY = [73]; /* I */\r\nexport const ESC_KEY = [27]; /* R */\r\n\r\nexport const VALID_KEYCODES = ARROW_KEYCODES.concat(SPACE_KEY, PICKUP_KEY, INVENTORY_KEY, ESC_KEY);\r\n\r\nexport const PASSIBLE_INDEX = 5;\r\n\r\nexport const HEALER = \"HEALER\";\r\nexport const EATABLE = \"EATABLE\";\r\nexport const CURRENCY = \"CURRENCY\";\r\nexport const PORTAL = \"PORTAL\";\r\nexport const PICKABLES = [HEALER,EATABLE,CURRENCY];\r\n\r\nexport const ROCK = 0;\r\nexport const PAPER = 1;\r\nexport const SCISSORS = 2;\r\n\r\n\r\nexport const BATTLE_ELIGIBILITY_THRESHOLD = 1;\r\nexport const BATTLE_NUM_GANG_MEMBERS = 5;\r\nexport const BOSS_BATTLE_LEVEL = 6;\r\n\r\nexport const BOSS = \"BOSS\";\r\nexport const GANG_MEMBER = \"GANG_MEMBER\";\r\nexport const NON_GANG_MEMBER = \"NON_GANG_MEMBER\";\r\n\r\n\r\nexport const SAVED_GAME = \"SAVED GAME 1_1_0\";\r\n\r\nexport const LOADGAME = \"LOADGAME\";\r\nexport const NEWGAME = \"NEWGAME\";\r\n\r\nexport const MAIN_MENU = \"/menu\";\r\nexport const WORLD_BASE = \"/world\"\r\n\r\nexport const PORTAL_ENTER = \"enter\";\r\nexport const PORTAL_LEAVE = \"leave\";\r\n\r\nexport const MAX_LEVEL = 6;\r\nexport const LEVEL_COLORS =  {\r\n    L1: \"MediumSeaGreen\",\r\n    L2: \"RoyalBlue\",\r\n    L3: \"Turquoise\",\r\n    L4: \"darkorange\",\r\n    L5: \"red\",\r\n    L6: \"gold\"\r\n};\r\n\r\nexport const MAP_NAMES = {\r\n    hospital: \"Hospital\",\r\n    bakery: \"Bakery\",\r\n    cave: \"hauntedhouse\",\r\n    gameroom: \"Gameroom\",\r\n    hell: \"Hell\",\r\n    home: \"Home\",\r\n    hotel: \"Hotel\",\r\n    library: \"Library\",\r\n    town_center:\"TownCenter\",\r\n    town_north: \"NorthTown\",\r\n    town_south: \"SouthTown\",\r\n}\r\n\r\nconst ASSETS_PATH = \"assets\";\r\nconst AUDIO_PATH = `${ASSETS_PATH}/audio`;\r\nexport const IMAGES_PATH = `${ASSETS_PATH}/images`;\r\nexport const MAPS_BASE = `${IMAGES_PATH}/maps`;\r\nexport const CHARACTER_SPRITES_BASE = `${IMAGES_PATH}/80/characters`;\r\nexport const PROPS_PATH = `${IMAGES_PATH}/80/objectsAndProps`;\r\n\r\nexport const DRIP_SOUND = `${AUDIO_PATH}/effects/drip.wav`;\r\nexport const BEEP_SOUND = `${AUDIO_PATH}/effects/beep.wav`;\r\nexport const BEEP_2_SOUND = `${AUDIO_PATH}/effects/beep2.wav`;\r\nexport const BEEP_3_SOUND = `${AUDIO_PATH}/effects/beep3.wav`;\r\nexport const BEEP_LONG_SOUND = `${AUDIO_PATH}/effects/longbeep.wav`;\r\nexport const PICK_SOUND = `${AUDIO_PATH}/effects/getcoin.wav`;\r\nexport const LASER_SOUND = `${AUDIO_PATH}/effects/laser.wav`;\r\n\r\nexport const MAIN_MENU_MUSIC = `${AUDIO_PATH}/MainMenu.mp3`;\r\nexport const TOWN_CENTER_MUSIC = `${AUDIO_PATH}/TownCenter.mp3`;\r\nexport const TOWN_NORTH_MUSIC = `${AUDIO_PATH}/TownSouth.mp3`;\r\nexport const TOWN_SOUTH_MUSIC = `${AUDIO_PATH}/TownSouth.mp3`;\r\nexport const HOME_MUSIC = `${AUDIO_PATH}/Home.mp3`;\r\nexport const BAKERY_MUSIC = `${AUDIO_PATH}/Bakery.mp3`;\r\nexport const HOTEL_MUSIC = `${AUDIO_PATH}/Hotel.mp3`;\r\nexport const LIBRARY_MUSIC = `${AUDIO_PATH}/Library.mp3`;\r\nexport const GAMEROOM_MUSIC = `${AUDIO_PATH}/GameRoom.mp3`;\r\nexport const CAVE_MUSIC = `${AUDIO_PATH}/Cave.mp3`;\r\nexport const HELL_MUSIC = `${AUDIO_PATH}/Hell.mp3`;\r\nexport const BATTLE_MUSIC = `${AUDIO_PATH}/Battle.mp3`;\r\nexport const BATTLE_BOSS_MUSIC = `${AUDIO_PATH}/BattleBoss.mp3`;\r\nexport const BATTLE_GM_MUSIC = `${AUDIO_PATH}/BattleGangMember.mp3`;\r\nexport const BATTLE_END_MUSIC = `${AUDIO_PATH}/BattleEnd.mp3`;","import React from 'react';\r\nimport { MAX_LEVEL, LEVEL_COLORS } from './constants';\r\n\r\nexport const getRounded = (num) => {\r\n    return isNaN(num)? 0: Math.round(num);\r\n}\r\n\r\nlet BASE_FONT_SIZE = 10;\r\n\r\nexport const getViewportDim = (screenWidth, screenHeight) => {\r\n    const width = [960, 1200, 1440];\r\n    const height = [640, 720, 800];\r\n    let viewportdim = [];\r\n    if(screenWidth < 1200) {\r\n        viewportdim[0] = width[0];\r\n        BASE_FONT_SIZE = 8;\r\n    } else if(screenWidth < 1440) {\r\n        viewportdim[0] = width[1];\r\n        BASE_FONT_SIZE = 9;\r\n    } else {\r\n        viewportdim[0] = width[2];\r\n        BASE_FONT_SIZE = 10;\r\n    } \r\n    \r\n    if(screenHeight < 720) {\r\n        viewportdim[1] = height[0];\r\n        BASE_FONT_SIZE = Math.min(BASE_FONT_SIZE, 8);\r\n    } else if(screenHeight < 800) {\r\n        viewportdim[1] = height[1];\r\n        BASE_FONT_SIZE = Math.min(BASE_FONT_SIZE, 9);\r\n    } else {\r\n        viewportdim[1] = height[2];\r\n        BASE_FONT_SIZE = Math.min(BASE_FONT_SIZE, 10);\r\n    } \r\n    return viewportdim;\r\n}\r\n\r\nexport const getFontSize = (multiplier = 1) => {\r\n    return BASE_FONT_SIZE*multiplier;\r\n}\r\n\r\nexport const viewportToMap = (viewportpos, mapstart) => {\r\n    return([viewportpos[0] + (-1*mapstart[0]),viewportpos[1] + (-1*mapstart[1])]);\r\n}\r\n\r\n\r\nexport const mapToViewport = (mappos, mapstart) => {\r\n    return([mappos[0] + mapstart[0],mappos[1] + mapstart[1]]);\r\n}\r\n\r\nexport const tileToMapCoordinates = (tile, TILE_SIZE) => {\r\n    return([tile[1]*TILE_SIZE, tile[0]*TILE_SIZE]);\r\n}\r\n\r\nexport const mapCoordinatesToTiles = (position, TILE_SIZE) => {\r\n    return([position[1]/TILE_SIZE, position[0]/TILE_SIZE]);\r\n}\r\n\r\nexport let intervalList = {};\r\n\r\nexport const customSetInterval = (func, delay, npcid) => {\r\n    const id = setInterval(func, delay);\r\n    intervalList[\"_\"+npcid] = id;\r\n}\r\n\r\nexport const clearIntervals = () => {\r\n    var props = Object.keys(intervalList);\r\n    for (var i = 0; i < props.length; i++) {\r\n        clearInterval(intervalList[props[i]]);\r\n        delete intervalList[props[i]];\r\n    }\r\n}\r\n\r\nexport let timeoutList = {};\r\n\r\nexport const customSetTimeout = (func, delay, npcid) => {\r\n    const id = setTimeout(func, delay);\r\n    timeoutList[\"_\"+npcid] = id;\r\n}\r\n\r\nexport const clearTimeouts = () => {\r\n    var props = Object.keys(timeoutList);\r\n    for (var i = 0; i < props.length; i++) {\r\n        clearTimeout(timeoutList[props[i]]);\r\n        delete timeoutList[props[i]];\r\n    }\r\n}\r\n\r\nexport const printMatrix = (matrix) => {\r\n    let print = \"\";\r\n    for(let i=0; i<matrix.length;i++) {\r\n        for(let j=0; j<matrix[0].length;j++) {\r\n            print+=matrix[i][j]+\" ,\";\r\n        }\r\n        print+=\"\\n\";\r\n    }\r\n    console.log(print);\r\n}\r\n\r\nexport const getValue = (stateparam, payloadparam) => {\r\n    return(payloadparam!=null ? payloadparam: stateparam);\r\n}\r\n\r\nexport const centerBgImg = (image, color='white', size='contain') => {\r\n    return({\r\n        backgroundColor: color,\r\n        backgroundImage: `url('${image}')`, \r\n        backgroundRepeat: 'no-repeat', \r\n        backgroundPosition:'center',\r\n        backgroundSize: size,\r\n    });\r\n}\r\n\r\nexport const solidBorder = (size, color, radius) => {\r\n    return({\r\n        border: `${size}px solid ${color}`,\r\n        borderRadius: `${radius}px`,\r\n    });\r\n}\r\n\r\n\r\nexport const getKeyDiv = (keycode, fontSize=getFontSize(1.5)) => {\r\n    return(\r\n    <div style={{padding:'3px', border: '1px inset grey', borderRadius:'5px', backgroundColor:'white', display: 'inline-block', fontSize:`${fontSize}px`, color:'#5d5f5b' }}>\r\n        <div style={{backgroundColor:'lightgrey'}}>{keycode}</div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport const getLevelColor = (level) => {\r\n   if(level<1 || level>MAX_LEVEL) \r\n        return \"white\";\r\n    return(LEVEL_COLORS[`L${level}`]);\r\n}\r\n\r\nexport const getWinPercColor = (winperc) => {\r\n    if(winperc < 25)\r\n        return 'Red';\r\n    else if(winperc < 50) \r\n        return 'Crimson';\r\n    else if(winperc < 75)\r\n        return 'SpringGreen';\r\n    else \r\n        return 'ForestGreen'\r\n }\r\n\r\n export const playSoundEffect = (src) => {\r\n     const click = new Audio(src);\r\n     click.play();\r\n }\r\n","export const PLAYERDIALOGS = {\r\n    Frank: {\r\n        follows:[\"Hey Frank! I'm great.\", \r\n                 \"I'm a bit busy with my engineering exams. What about you?\", \r\n                 \"Oh wow! That's awesome.\", \r\n                 \"Ohh, thanks for informing :). I'll probably go now.\", \r\n                 \"BBye, Takecare.\"],\r\n        starts:[\"Hey! Whatsup!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Dad: {\r\n        follows:[\"It feels great to be back home. You look worried dad. Is everything fine?\", \r\n                 \"Yeah! The town seems a bit different. Someone refused to play Roshambo with me coz I was not on his level! I didn't get it.\",\r\n                 \"Markov tribe? That's an interesting name. And what are the new rules?\",\r\n                 \"And...\",\r\n                 \"Okay! Now I get it. But this isn't great for our town. We always had a 'free Roshambo for all' motto.\",\r\n                 \"How can we do that?\",\r\n                 \"I can do that dad. But I need some practice.\",\r\n                 \"Okay dad! I'll go and practice now. Big task ahead.\",\r\n                 \"Even I missed him. I'll surely play with him.\",\r\n                 \"Thats amazing! I'll grab an Eclair from there.\",\r\n                ],\r\n        starts:[\"Hey Dad! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Joey: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Okay Joey. Let's battle!\"],\r\n        battleAsk:[\"Hey Joey! you wanna play?\"],\r\n        battleWin:[\"Loser....\"],\r\n        battleLose:[\"I always let you win.\"],\r\n    },\r\n\r\n    Ace: {\r\n        follows:[\"I missed you too.....\"],\r\n        starts:[\"Ace!! Come here....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Tia: {\r\n        follows:[\"Hey Tia! I'm great. Came here to get some eclairs.\", \r\n                 \"Why so? I see the bakery is open.\", \r\n                 \"Its not their bakery! why are we being forced to battle him?\", \r\n                 \"Okay, I'll go inside and defeat him.\",\r\n                 \"Sure, I'll do that. See you!\",\r\n                ],\r\n        starts:[\"Hey Tia! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Nathan: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, lets go!\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks mate!\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    John: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, lets go!\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks mate!\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    Samantha: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, who doesn't like a freebie ;)\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks! I think I am ready to defeat him.\", \"Great! Now I have 2 reasons to defeat him haha.\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    Eden:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"I'm $PLAYERNAME. I'm not new, you are new here. Btw, I came here for an eclair.\",\r\n                      \"Really? I thought I need to have a Roshambo battle with you. Guess you are not that bad.\",\r\n                      \"And I thought for a moment that the tribe isn't that bad. Nevertheless, I can defeat you, pretty easily.\",\r\n                      \"Yup, lets go!!!\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"I'll take care of your boss later. I need my eclair now. Step aside.\", \r\n                   \"But you said so. And I believed you!\",\r\n                   \"F*** man. What else can I expect from the tribe! Where can I find your boss?\",\r\n                   \"Ughhhhhh.\"],\r\n        battleLose:[\"I'll be back in no time. \"],\r\n    },\r\n\r\n    Tracer: {\r\n        follows:[\"Hey Tracer. I'm looking for the tribe boss. Do you know where he lives?\",\r\n                 \"North? How do you know?\",\r\n                 \"And I'm John Snow. Stop joking. Are you sure about this info?\",\r\n                 \"No... sadly :( I'll probably go to the north.\",\r\n                 \"Thanks :) Hopefully.\"\r\n                ],\r\n        starts:[\"Hey Tracer! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Koby: {\r\n        follows:[\"Hey Koby! I'm great. What about you?\", \r\n                 \"She wasn't at her home, not sure where is she.\",\r\n                 \"Really!, Okay I should go to the library. Bbye.\"],\r\n        starts:[\"Hey Mo! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Betty: {\r\n        follows:[\"Hey Betty. I'm great. Hows the hospital?\",\r\n                 \"Why? What happened?\",\r\n                 \"Tell me!\",\r\n                 \"Who is Gambit? Why didn't you call the police for help?\",\r\n                 \"I knew it. A tribe member doing what tribe members do best, bully others. I'll teach him a lesson by defeating him in a Roshambo battle.\",\r\n                 \"I would like to try. Wish me luck.\",\r\n                 \"Yup, I will. Thanks.\"\r\n                ],\r\n        starts:[\"Hey Betty! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Gambit:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"No, this isn't your property. This is my friend Sean's property.\",\r\n                      \"I've got big hands as well. I challenge you for a Roshambo battle.\",\r\n                      \"One tribe defeated is one tribe less. Lets go\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated. I'll be back.\"],\r\n    },\r\n\r\n    Chop:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Molly: {\r\n        follows:[\"Hey Molly. Why are you outside the library?\",\r\n                 \"Have they occupied the library as well? I thought its just the bakery and the chinese van.\",\r\n                 \"Don't worry. I'll soon defeat their boss.\",\r\n                 \"Really! I didn't know that. I should go inside and battle them. Wish me luck.\",\r\n                 \"Thanks!\"],\r\n        starts:[\"Hey Molly! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Jordan: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, lets go!\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks mate!\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    Grindel:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Tori:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Definitely! I need to practice as well.\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"Losers will be losers\"],\r\n        battleLose:[\"I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Ghissu: {\r\n        follows:[\"Hey Ghissu. Done with all the ghisai?\",\r\n                 \"Molly told me the tribe has occupied the library as well. I'm looking for them.\",\r\n                 \"Atleast you have a source of entertainment now. Haha. Jokes aside, where are they?\",\r\n                 \"I should have known. Thanks! See you after the battle.\",\r\n                 \"Haha. Bbye.\"],\r\n        starts:[\"Hey Ghissu! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Razor:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Its a public TV, you can't watch something private here.\",\r\n                      \"Not for long. Soon I'll defeat your boss.\",\r\n                      \"You stole words from my mouth. I accept the challenge.\",\r\n                      \"Stop talking and start battling!\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated.\", \"I'll be back in no time.\"],\r\n    },\r\n\r\n    Prick:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Definitely! I need to practice as well.\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"Losers will be losers\"],\r\n        battleLose:[\"I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    LT: {\r\n        follows:[\"Okay... I get it.\"],\r\n        starts:[\"Hey! Can I play?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Ilaria: {\r\n        follows:[\"Hey Ilaria! Looking for the tribe members. On a quest to defeat them.\",\r\n                 \"Really? Okay...thanks for the lead.\",\r\n                 \"Its a been a while since meeting her. Okay, I'll go. Thanks again.\",\r\n                 \"Thanks!.\"],\r\n        starts:[\"Hey! Whatsup!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Felicity: {\r\n        follows:[\"Are they tribe members?\",\r\n                 \"As expected. Okay, I'll try to get her back.\",\r\n                 \"No problem.\"],\r\n        starts:[\"Hey! Did you get sparkle back?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n\r\n    Snyder:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Stop disturbing the dog. Leave her alone!\",\r\n                      \"Just like I'll teach your boss a lesson?\", \r\n                      \"I'll soon defeat him in Roshambo. But, let me defeat you first!\",\r\n                      \"If I win, you free the dog!\",\r\n                      \"Challenge accepted!\"],\r\n        battleAsk:[\"I want to challenge you for a battle.\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated.\", \"I'll be back in no time.\"],\r\n    },\r\n\r\n    Kaloo: {\r\n        follows:[\"Okay....\"],\r\n        starts:[\"Awwww......kaloooooo.\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Goku: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Misty: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww....Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Trigger: {\r\n        follows:[\"Who is Markov....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Max:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Definitely! I need to practice as well.\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"Losers will be losers\"],\r\n        battleLose:[\"You got real skills mate!\"],\r\n    },\r\n\r\n\r\n    Maty: {\r\n        follows:[\"Hey Maty! Yeah. How have you been?\", \r\n                 \"On my quest to defeat the tribe boss.\",\r\n                 \"Thanks :)! I should go and defeat him.\",\r\n                 \"Hehe. Thanks!\"],\r\n        starts:[\"Hey Maty!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Damon:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Patient:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n\r\n    Tegan:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"No! I was looking for you.\",\r\n                      \"So that I can defeat you first, before your boss!\",\r\n                      \"Challenge accepted! Let me throw you out of our town haha.\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated.\", \"I'll be back in no time.\"],\r\n    },\r\n\r\n    Hunt:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n\r\n    Void: {\r\n        follows:[\"I'm looking for the tribe boss. I want to battle him.\",\r\n                 \"Her!??! WTF. I'm not afraid of anyone. Let me go.\",\r\n                 \"Don't worry about me.\"],\r\n        starts:[\"Hey Void!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n\r\n    Rock: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Paper: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Scissors: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Beast:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Looking for the tribe boss. I want to battle her in Roshambo. Do you where is she?\",\r\n                      \"Ohh, my bad. How can I miss the biggest clue lol. Btw I'm $PLAYERNAME. I came here to challenge you for a Roshambo battle.\",\r\n                      \"There can be, like petting your cute cats.\",\r\n                      \"Yeah, they don't seem friendly, just like you.\",\r\n                      \"Yeah! Let's go!\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Really? You aren't mad?\",\r\n                   \"You're not as bad as I expected tbh.\",\r\n                   \"So?? Am I the boss now? How does it work? How can I reset the rules?\",\r\n                   \"I thought so. I thought that was the story of the game! When is the Roshambo championship?\",\r\n                   \"He???\",\r\n                   \"Wow. And what about my Eclairs?\",\r\n                   \"Fuck it!\"],\r\n        battleLose:[\"I'll be back with more practice\"],\r\n    },\r\n}\r\n\r\nexport const NPCDIALOGS = {\r\n    Frank:{\r\n        starts: [\"Hey $PLAYERNAME! Whatsup.\", \"Long time no see. Where are you these days?\", \r\n                \"I'm preparing for this year's RoShamBo competition.\", \r\n                \"BTW, your father is waiting for you inside. You should go and meet him.\", \r\n                \"Sure, see you.\"],\r\n        follows: [\"I'm great. You talked to your father right!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Dad:{\r\n        starts: [\"Hey kiddo! Glad you're back. It feels great seeing you!\",\r\n                 \"Did you notice anything weird outside?\", \r\n                 \"Its the markov tribe! Their boss won the Roshambo championship last year. Since then they have imposed new Roshambo rules in the town.\",\r\n                 \"Now there is a level system in Roshambo. Every Roshambo player starts at level 1 and can go till level 5.\",\r\n                 \"You can only battle a player who is at a lower or same level or 1 level higher than yours.\",\r\n                 \"Yes, and thats why we need to overthrow this tribe.\",\r\n                 \"We need to defeat their boss, only then we can remove these horrible rules.\",\r\n                 \"Thats my kid! Look around the town for some Roshambo battlers for practice. Battle them to gain exp and level up.\",\r\n                 \"Your baby brother missed you! Don't forget to play with him.\",\r\n                 \"Btw, your favourite Big Chill cakery has opened nearby. You should check it out.\"\r\n                ],\r\n        follows: [\"Key kiddo! You should probably go and defeat the tribe!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Joey:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"I wanna play!!!\"],\r\n        battleAcceptNeverDefeated:[\"Yayayayay! I'll defeat you again!\"],\r\n        battleDeclineDefeated:[\"I don't like playing with you!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You cheated!!!!\"],\r\n        battleWin: [\"I'm the best!!\"],\r\n    },\r\n\r\n    Ace:{\r\n        starts: [\"...\"],\r\n        follows: [\"Huff...I missed you..Huff....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n\r\n    Tia:{\r\n        starts: [\"Hey $PLAYERNAME! Whatsup!\", \r\n                 \"You won't be able to get anything from here.\", \r\n                 \"There is a markov tribe member inside. If you want an eclair, you need to defeat him in Roshambo first.\", \r\n                 \"Everything belongs to them now. They have weird rules tbh.\",\r\n                 \"I hope you have enough practice. You can battle my friend Samantha, she is inside the bakery.\"\r\n                ],\r\n        follows: [\"I hope you defeat the tribe member.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Nathan:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"You won't be able to defeat me. Do you have the guts to battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Cheers!.\"],\r\n        battleWin: [\"You're aweful. You need to practice.\"],\r\n    },\r\n\r\n    John:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"You won't be able to defeat me. Do you have the guts to battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Cheers!.\"],\r\n        battleWin: [\"You're aweful. You need to practice.\"],\r\n    },\r\n\r\n    Samantha:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! Do you wanna battle? Winner gets a swiss roll :p\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"I can't afford another brownie lol!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Now you need to defeat the tribe member to get the free swiss roll. Hehe.\",\r\n                     \"Really! You'll get a brownie as well if you defeat him.\"],\r\n        battleWin: [\"Gosh! You're aweful. You need to practice. I don't think I'll ever get the swiss roll lol.\"],\r\n    },\r\n\r\n    Eden:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey you! I think you're new here.\",\r\n                    \"Just an eclair? You can have one.\",\r\n                    \"No, I was kidding. You need to defeat me in Roshambo first.\",\r\n                    \"I like defeating overconfident kids, lets go!\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"I don't have time for losers!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go, battle and level up.\"],\r\n        battleLose:[\"You have defeated me, but you won't be able to defeat our boss.\", \r\n                    \"If you think you can get your eclair now, you are a fool!\",\r\n                    \"Ah, I lied. You need to defeat our boss in order to change the rules. Hahahahaha.\",\r\n                    \"Find him yourself. All the best. Hahahahahahahaha.\"],\r\n        battleWin: [\"Typical overconfident kid. You can never defeat me, nevermind our boss!!\"],\r\n    },\r\n\r\n    Tracer:{\r\n        starts: [\"Hey $PLAYERNAME! Where are you heading towards?\", \r\n                 \"I heard he lives in a cave somewhere in the north.\", \r\n                 \"I'm the master of whisperers. Haha.\", \r\n                 \"Hehe. Do you have any other option?\", \r\n                 \"All the best. May the luck be with you.\"],\r\n        follows: [\"Ohh, you are still alive!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Koby:{\r\n        starts: [\"Hey $PLAYERNAME! What's up?\", \r\n                 \"I'm doing great as well. Btw, did you meet Molly?\",\r\n                 \"Did you check the city library? She might be there.\"],\r\n        follows: [\"Go and meet Molly.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Betty:{\r\n        starts: [\"Hey $PLAYERNAME! Long time no see?\", \r\n                 \"Ummm...not great.\",\r\n                 \"Ummm....\",\r\n                 \"Gambit and his bully friends!\", \r\n                 \"He is a tribe member. That't why nobody is willing to help me.\", \r\n                 \"He's on level 4, I don't think you can defeat him. I don't want to give you any trouble.\", \r\n                 \"Be careful. All the best.\"],\r\n        follows: [\"Be careful of the tribe, $PLAYERNAME.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Gambit:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey kid! Stop wandering around here. This is tribe's property!\",\r\n                    \"Your big mouth will lead you into trouble.\",\r\n                    \"I can defeat you in 2 minutes. Challenge accepted.\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect!\"],\r\n        battleDeclineDefeated:[\"Go and battle our boss now!\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\"],\r\n    },\r\n\r\n    Chop:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Molly:{\r\n        starts: [\"Hey $PLAYERNAME. Glad you are here.\",\r\n                 \"There's a lot of noise inside. The tribe members you know.\",\r\n                 \"They are everywhere. We need to get rid of them.\",\r\n                 \"First you need to defeat all of the tribe members. Only then you can battle their boss. I hope you knew this.\",\r\n                 \"All the best! May the luck be with you.\"],\r\n        follows: [\"Not great. I hope you defeat the tribe soon.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Jordan:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"You won't be able to defeat me. Do you have the guts to battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Cheers!.\"],\r\n        battleWin: [\"You're aweful. You need to practice.\"],\r\n    },\r\n\r\n    Grindel:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Tori:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Test your Roshambo skills against a real player. Battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"I need to study now!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"So lucky you are! So lucky you are!\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Ghissu:{\r\n        starts: [\"Hey $PLAYERNAME! Whatsup!\", \r\n                 \"No! still 4th revision remaining. BTW, what are you doing here?\", \r\n                 \"Yeah, they play all sorts of horrible music here, and particularly during daytime.\",\r\n                 \"In the gameroom, first floor.\",\r\n                 \"Hopefully your Roshambo is better than your sense of humour.\"\r\n                ],\r\n        follows: [\"Hey! Get lost now. I have to study.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Razor:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! Stop disturbing me! I watching something important.\",\r\n                    \"Don't teach me the rules. I make the rules here.\",\r\n                    \"Stop day dreaming you idiot. I challenge you for a Roshambo battle.\",\r\n                    \"You won't dare to speak a word against the tribe after this.\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect!\"],\r\n        battleDeclineDefeated:[\"You don't have friends? Leave me alone now!\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\", \"Now shut up and FO!\"],\r\n    },\r\n\r\n    Prick:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey kid! Do you wanna battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"So lucky you are! So lucky you are!\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    LT:{\r\n        starts: [\"Hey you! Don't disturb Razor. He doesn't like interruptions in between a movie.\"],\r\n        follows: [\"Get lost from here.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    \r\n    Ilaria:{\r\n        starts: [\"Hey $PLAYERNAME! What's going on?\",\r\n                 \"Tribe members? Then you should go inside the city hotel. You'll find atleast one.\",\r\n                 \"And Felicity is there as well.\",\r\n                 \"No problem. May the luck be with you.\"],\r\n        follows: [\"I hope you defeat them all!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Felicity:{\r\n        starts: [\"Hey! Please help me get my sparkle back. Snyder and his friend are not letting her go.\",\r\n                 \"Yes.\",\r\n                 \"Thanks!\"],\r\n        follows: [\"She' still with them! :(\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Snyder:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey you! stop disturbing us.\",\r\n                    \"This isn't your dog, so stop bothering. Stay away from us, otherwise we'll teach you a lesson.\",\r\n                    \"Hahahahaha. You can't touch even him!\",\r\n                    \"Really? Challenge accepted!\",\r\n                    \"If you lose, you stay away from us!\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect!\"],\r\n        battleDeclineDefeated:[\"We don't have time for you now.\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\", \"Now get lost!\"],\r\n    },\r\n\r\n    Kaloo:{\r\n        starts: [\"Meoww...\"],\r\n        follows: [\"....Meow.....Fuck off.....Meow...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Goku:{\r\n        starts: [\"Meoww...Meoww...\"],\r\n        follows: [\"Grhhhhhh.....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Misty:{\r\n        starts: [\"Meoww...Meoww...\"],\r\n        follows: [\"Grhhhhhh.....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Trigger:{\r\n        starts: [\"Meoww...Long Live Markov...Meoww....\"],\r\n        follows: [\"Grhhhhhh.....Step aside.....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Max:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! Do you wanna battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"So lucky you are! So lucky you are!\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    \r\n\r\n    Maty:{\r\n        starts: [\"Hey $PLAYERNAME! Long time!\", \r\n                 \"I'm great! Never seen you on this side of town before?\", \r\n                 \"You're living dangerously. Btw, you can find one of the tribe members near the hammock by the pool.\",\r\n                 \"Yeah. Before he creates more havoc near the hammock lol. All the best\"],\r\n        follows: [\"Hey $PLAYERNAME. I hope you defeat the boss.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n    \r\n    Damon:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    \r\n    Patient:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"I may be sick, but I can a handful, wanna battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day, I'm tired!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Tegan:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey kid! I heard you are looking for the tribe boss.\", \r\n                    \"Me? Why?\",\r\n                    \"Keep dreaming kid. I challenge you for a battle. Let me bring you down to earth haha.\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect unless you want to go underground lol.\"],\r\n        battleDeclineDefeated:[\"I don't have time for you!\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\", \"Now shut up and FO!\"],\r\n    },\r\n\r\n\r\n    Hunt:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Void:{\r\n        starts: [\"Dude! Stop here. Where are you heading?\",\r\n                 \"Her. Battle her.  I would suggest not to. You'll be annihilated.\",\r\n                 \"You will definitely die, sexist.\"],\r\n        follows:[\"You are still alive!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n\r\n    Rock:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Meoww...Hail Markov...Meoww...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Paper:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Meoww..Markov greater Bayesian....Meoww...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Scissors:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Meoww...Hail Markov...Meoww...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Beast:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! What are you doing here?\",\r\n                    \"Is there anyone else over here wearing a semi-naked vamp costume? I'm the boss and my name is Beast.\",\r\n                    \"I know. There can be no other reason for you to be here.\",\r\n                    \"Oh you like cats? The black one is Rock, the white one is Paper and the ginger one is Scissors. Stay away from them.\",\r\n                    \"I thought you were here for the battle. Just being professional.\"],\r\n        battleAcceptNeverDefeated:[\"I hope you are prepared this time.\"],\r\n        battleDeclineDefeated:[\"Neh, not now. See you at the championships!\"],\r\n        battleDecline:[\"You need to defeat all my tribe members first! Plus you need to be on Level 5.\"],\r\n        battleLose:[\"You defeated me all fair and square. Kudos to you.\",\r\n                     \"No, you are a deserving winner. And I'm not a sore loser.\",\r\n                     \"Now I feel much better lol.\",\r\n                     \"You cannot just reset the rules! You need to defeat me in the Roshambo championship. You thought you could be the tribe boss on the basis of a friendly battle?\",\r\n                     \"Next year. He needs to start coding for the that.\",\r\n                     \"The developer of this game.\",\r\n                     \"Ask the developer.\"],\r\n        battleWin: [\"You really thought you got a chance here lol.\"],\r\n    },\r\n    \r\n}","import * as ActionTypes from './ActionTypes';\r\nimport { TOTAL_MOVEMENT_SIZE, LEFT, RIGHT, UP, DOWN, TILE_SIZE,\r\n        PASSIBLE_INDEX, PORTAL, ROCK, PAPER, SCISSORS, SAVED_GAME, PORTAL_LEAVE, PORTAL_ENTER, BATTLE_ELIGIBILITY_THRESHOLD, PICKABLES, BATTLE_NUM_GANG_MEMBERS, BOSS, GANG_MEMBER, NON_GANG_MEMBER, DRIP_SOUND, LASER_SOUND, PICK_SOUND} from '../helpers/constants';\r\nimport { tileToMapCoordinates, mapToViewport, mapCoordinatesToTiles, customSetTimeout, clearIntervals, playSoundEffect } from '../helpers/funcs';\r\nimport { PLAYERDIALOGS, NPCDIALOGS } from '../data/script';\r\n\r\n\r\nconst observeMapBoundaries = (newpos, mapwidth, mapheight) => {\r\n    return (newpos[0]>=0 && newpos[0]<=mapwidth - TILE_SIZE) &&\r\n            (newpos[1]>=0 && newpos[1]<=mapheight - TILE_SIZE);\r\n}\r\n\r\nconst observeImpassible = (tiles, newpos) => {\r\n    const tile = mapCoordinatesToTiles(newpos, TILE_SIZE);\r\n    const row = tile[0], col = tile[1];\r\n    return (Math.abs(tiles[row][col]) <= PASSIBLE_INDEX);\r\n}\r\n\r\nconst observeCamera = (position, direction, mapstart, camera) => {\r\n    const viewportPos = mapToViewport(position, mapstart);\r\n    if(direction===LEFT || direction===RIGHT)\r\n        return (viewportPos[0] >= camera[0][0]) && (viewportPos[0] <= camera[0][1])\r\n    else if(direction===UP || direction===DOWN)\r\n        return (viewportPos[1] >= camera[1][0]) && (viewportPos[1] <= camera[1][1])\r\n}\r\n\r\nconst observeIdleNPC = (newpos, npcList) => {\r\n    const npclist = npcList.filter( npc => {\r\n        if(!npc.isAnimating)\r\n            return (newpos[0] === npc.position[0]) && (newpos[1] === npc.position[1]);\r\n        else\r\n            return false;\r\n    });\r\n\r\n    return npclist;\r\n}\r\n\r\nconst observeAnimatingNPC = (newpos, npcList) => {\r\n    const npclist = npcList.filter( npc => {\r\n        if(npc.isAnimating)\r\n            return (newpos[0] === npc.nextPosition[0]) && (newpos[1] === npc.nextPosition[1]);\r\n        else \r\n            return false;\r\n    });\r\n\r\n    return npclist;\r\n}\r\n\r\nconst observeIdlePlayer = (newpos, player) => {\r\n    if(!player.isAnimating) \r\n        return (newpos[0] === player.position[0]) && (newpos[1] === player.position[1]);\r\n    else\r\n        return false;\r\n}\r\n\r\nconst observePlayer = (newpos, player) => {\r\n    if(!player.isAnimating) \r\n        return !((newpos[0] === player.position[0]) && (newpos[1] === player.position[1]));\r\n    else\r\n        return !((newpos[0] === player.nextPosition[0]) && (newpos[1] === player.nextPosition[1]));\r\n}\r\n\r\nconst mapScrollable = (direction, mapstart, mapend, viewportWidth, viewportHeight) => {\r\n    switch(direction) {\r\n        case LEFT:\r\n            return (mapstart[0] < 0);\r\n        case UP:\r\n            return (mapstart[1] < 0);\r\n        case RIGHT:\r\n            return (mapend[0] > viewportWidth);\r\n        case DOWN:\r\n            return (mapend[1] > viewportHeight);\r\n        default:\r\n            return false;\r\n        \r\n    }\r\n}\r\n\r\n\r\nconst getNewPostion = (oldpos, direction, movementSize) => {\r\n    switch(direction) {\r\n        case LEFT:\r\n            return [oldpos[0]-movementSize, oldpos[1]];\r\n        case RIGHT:\r\n            return [oldpos[0]+movementSize, oldpos[1]];\r\n        case UP:\r\n            return [oldpos[0], oldpos[1] - movementSize];\r\n        case DOWN:\r\n            return [oldpos[0], oldpos[1] + movementSize];\r\n        default:\r\n            window.alert(\"Something went wrong! Please relaunch the game.\");\r\n    }\r\n}\r\n\r\nconst getNewOrigin = (start, direction, movementSize) => {\r\n    switch(direction) {\r\n        case LEFT:\r\n            return [start[0]+movementSize, start[1]];\r\n        case RIGHT:\r\n            return [start[0]-movementSize, start[1]];\r\n        case UP:\r\n            return [start[0], start[1] + movementSize];\r\n        case DOWN:\r\n            return [start[0], start[1] - movementSize];\r\n        default:\r\n                window.alert(\"Something went wrong! Please relaunch the game.\");\r\n    }\r\n}\r\n\r\n\r\nconst getNPC = (npclist, npcid) => {\r\n    return(npclist.filter(npc => npc.id===npcid)[0]);\r\n}\r\n\r\n\r\nconst checkPortalEnter = (playerdir, portaldir) => {\r\n    if(playerdir===RIGHT && portaldir===0)\r\n        return true;\r\n    if(playerdir===DOWN && portaldir===90)\r\n        return true;\r\n    if(playerdir===LEFT && portaldir===180)\r\n        return true;\r\n    if(playerdir===UP && portaldir===270)\r\n        return true;\r\n    return false; \r\n}\r\n\r\n\r\nexport const UpdatePlayerPosition = (keyCode) => (dispatch, getState) => {\r\n    const player = getState().player;\r\n\r\n    if(player.interacting || player.isAnimating || player.frozen || player.inBattle)\r\n        return;\r\n\r\n    const VIEWPORT_WIDTH = getState().viewport.viewportDims[0], VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    let oldpos = player.position, newpos = [];\r\n    let mapstart = getState().viewport.start, mapend = getState().viewport.end;\r\n    const map = getState().map;\r\n    let direction, steps = player.skin.walkSpriteCount, movemap=false;\r\n    const frameMovementSize = TOTAL_MOVEMENT_SIZE/steps;\r\n\r\n    if(keyCode === 37) {\r\n        direction = LEFT;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    } else if(keyCode === 39) {\r\n        direction = RIGHT;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    } else if(keyCode === 38) {\r\n        direction = UP;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    } else if(keyCode === 40) {\r\n        direction = DOWN;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    }\r\n\r\n    if(player.direction!==direction)\r\n        dispatch(UpdatePlayerDirectionAction(direction));\r\n\r\n    if(observeMapBoundaries(newpos, map.width, map.height) && observeImpassible(getState().map.tiles, newpos)) {\r\n        const idlenpc = observeIdleNPC(newpos, getState().npc.list);\r\n        const animatingnpc = observeAnimatingNPC(newpos, getState().npc.list);\r\n        if(idlenpc.length === 0 && animatingnpc.length===0) {\r\n            dispatch(UpdatePlayerAnimationAction(true, newpos));\r\n                if(observeCamera(oldpos, direction, mapstart, getState().viewport.camera) && mapScrollable(direction, mapstart, mapend, VIEWPORT_WIDTH, VIEWPORT_HEIGHT)) {\r\n                    movemap = true;\r\n                    requestAnimationFrame(animatePlayer);\r\n                } else {\r\n                    movemap=false;\r\n                    requestAnimationFrame(animatePlayer);\r\n                }\r\n        } else if(idlenpc.length > 0) {\r\n            if(player.nearbyNPC!==idlenpc[0].id) {\r\n                dispatch(UpdateNearbyNPCAction(idlenpc[0].id));\r\n                if(idlenpc[0].battle && !idlenpc[0].battleFlag) {\r\n                    dispatch(ForceBattleConversation(getState().player, idlenpc[0]));\r\n                } else if(!idlenpc[0].talkFlag) {\r\n                    dispatch(ForceNonBattleConversation(getState().player, idlenpc[0]));\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        const idlenpc = observeIdleNPC(newpos, getState().npc.list);\r\n        if(idlenpc.length > 0) {\r\n            if(player.nearbyNPC!==idlenpc[0].id) {\r\n                dispatch(UpdateNearbyNPCAction(idlenpc[0].id));\r\n                if(idlenpc[0].battle && !idlenpc[0].battleFlag) {\r\n                    dispatch(ForceBattleConversation(getState().player, idlenpc[0]));\r\n                } else if(!idlenpc[0].talkFlag) {\r\n                    dispatch(ForceNonBattleConversation(getState().player, idlenpc[0]));\r\n                }\r\n            }\r\n        }else {\r\n            if(player.nearbyNPC!==null) {\r\n                dispatch(UpdateNearbyNPCAction());\r\n            }\r\n        }\r\n    }\r\n\r\n    function animatePlayer() {\r\n        if(steps === 0) {\r\n            //console.log(mapCoordinatesToTiles(getState().player.position, TILE_SIZE));\r\n            dispatch(UpdatePlayerAnimationAction(false));\r\n            const nearByNPC = checkNearbyIdleNPC(getState().player.position, getState().player.direction, getState().npc.list);\r\n            if(nearByNPC.length) {\r\n                dispatch(UpdateNearbyNPCAction(nearByNPC[0].id));\r\n                if(nearByNPC[0].battle && !nearByNPC[0].battleFlag) {\r\n                    dispatch(ForceBattleConversation(getState().player, nearByNPC[0]));\r\n                } else if(!nearByNPC[0].talkFlag) {\r\n                    dispatch(ForceNonBattleConversation(getState().player, nearByNPC[0]));\r\n                }\r\n            } else if(player.nearbyNPC!==null) {\r\n                dispatch(UpdateNearbyNPCAction());\r\n            }\r\n\r\n            const objects = getObjectForPickup(getState().player.position, getState().gameobjects);\r\n            if(objects.length) {\r\n                dispatch(UpdateNearbyGameObjAction(objects[0].id)); \r\n            } else if(player.nearbyGameObj!==null) {\r\n                dispatch(UpdateNearbyGameObjAction());\r\n            }\r\n\r\n            const portals = getPortal(getState().player.position, getState().gameobjects);\r\n            if(portals.length>0 && portals[0].enabled && checkPortalEnter(getState().player.direction, portals[0].rotate)) {\r\n                dispatch(EnterPortal(portals[0]));\r\n            }\r\n            return;\r\n        } \r\n        newpos = getNewPostion(oldpos, direction, frameMovementSize);\r\n        dispatch(UpdatePlayerPositionAction(newpos));\r\n        oldpos = newpos;\r\n        if(movemap) {\r\n            mapstart = getNewOrigin(mapstart, direction, frameMovementSize);\r\n            dispatch(UpdateOriginAction(mapstart));\r\n        }\r\n        steps--;\r\n        setTimeout(function() {requestAnimationFrame(animatePlayer)}, player.frameInterval);\r\n    }\r\n}\r\n\r\nconst getPositionEquality = (pos1, pos2) => (pos1[0]===pos2[0] && pos1[1]===pos2[1])\r\n\r\nconst getObjectForPickup = (position, gameobjects) => {\r\n    return(gameobjects.filter(gameobject => PICKABLES.includes(gameobject.type.type)  && getPositionEquality(position, gameobject.position)))\r\n}\r\n\r\nexport const PickupGameObject = () => (dispatch, getState) => {\r\n    const player = getState().player;\r\n    if(player.interacting)\r\n        return;\r\n    const gameobject = player.nearbyGameObj!==null? getState().gameobjects.filter( gobj => gobj.id === player.nearbyGameObj ): null;\r\n    if(gameobject!==null) {\r\n        playSoundEffect(PICK_SOUND);\r\n        dispatch(AddObjecttoInventory(gameobject[0]));\r\n        dispatch(UpdateNearbyGameObjAction()); \r\n    }\r\n}\r\n\r\nconst getOppositeDirection = (direction) => {\r\n    switch(direction) {\r\n        case UP: return DOWN;\r\n        case RIGHT: return LEFT;\r\n        case DOWN: return UP;\r\n        case LEFT: return RIGHT;\r\n        default:\r\n            window.alert(\"Something went wrong! Please relaunch the game.\");\r\n    }\r\n}\r\n\r\nconst checkNearbyIdlePlayer = (npcpos, direction, player) => {\r\n    const nextPosition = getNewPostion(npcpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    return observeIdlePlayer(nextPosition, player);\r\n}\r\n\r\nconst checkNearbyIdleNPC = (playerpos, direction, npcList) => {\r\n    const nextPosition = getNewPostion(playerpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    const nearByNPC = observeIdleNPC(nextPosition, npcList);\r\n    return nearByNPC;\r\n}\r\n\r\nconst checkBattleEligibilty = (playerlevel, npclevel) => {\r\n    return(npclevel - playerlevel <= BATTLE_ELIGIBILITY_THRESHOLD);\r\n}\r\n\r\nconst checkBossBattleEligibilty = (defeatedGangMembersList) => {\r\n    return(Object.keys(defeatedGangMembersList).length===BATTLE_NUM_GANG_MEMBERS);\r\n}\r\n\r\nconst ForceBattleConversation = (player, npc) => (dispatch, getState) => {\r\n    \r\n    const VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n\r\n    if(!checkBattleEligibilty(player.battle.level, npc.level))\r\n        return;\r\n\r\n    if(npc.battlerType===BOSS) {\r\n        if(!checkBossBattleEligibilty(player.battle.defeatedGangMembers)) \r\n            return;\r\n    }\r\n   \r\n    const oppdirection = getOppositeDirection(player.direction);\r\n    if(npc.direction!==oppdirection) {\r\n        dispatch(UpdateNPCDirectionAction(npc.id, oppdirection));\r\n    }\r\n\r\n    dispatch(SetConversationStatus(npc.id, \r\n        {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n        {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAccept.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n        mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", true));\r\n}\r\n\r\nconst ForceNonBattleConversation = (player, npc) => (dispatch, getState) => {\r\n   \r\n    const VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    const oppdirection = getOppositeDirection(player.direction);\r\n\r\n    if(npc.direction!==oppdirection) {\r\n        dispatch(UpdateNPCDirectionAction(npc.id, oppdirection));\r\n    }\r\n    dispatch(SetConversationStatus(npc.id, \r\n        {name: npc.name, dialogs: NPCDIALOGS[npc.name].starts.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n        {name: player.name, dialogs: PLAYERDIALOGS[npc.name].follows.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))},\r\n        mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n}\r\n\r\n\r\nexport const HandleConversation = () => (dispatch, getState) => {\r\n    const player = getState().player;\r\n    if(!player.interacting)\r\n        dispatch(InitiateConversation());\r\n    else \r\n        dispatch(UpdateConversation());\r\n}\r\n\r\nconst InitiateConversation = () => (dispatch, getState) => {\r\n    const player = getState().player;\r\n    const npc = player.nearbyNPC!==null? getNPC(getState().npc.list, player.nearbyNPC):null;\r\n    const VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    if(npc && !npc.isAnimating) {\r\n        const oppdirection = getOppositeDirection(player.direction);\r\n        if(npc.direction!==oppdirection) {\r\n            dispatch(UpdateNPCDirectionAction(npc.id, oppdirection));\r\n        }\r\n        if(npc.battle) {\r\n            if(checkBattleEligibilty(player.battle.level, npc.level)) {\r\n                if(npc.battlerType===BOSS) {\r\n                    if(checkBossBattleEligibilty(player.battle.defeatedGangMembers)) {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleAcceptNeverDefeated.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", true));\r\n                    } else {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleDecline.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n                    }\r\n                \r\n                } else {\r\n                    if(npc.defeatedCount > 0) {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs:  NPCDIALOGS[npc.name].battleDeclineDefeated.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n                    } else {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleAcceptNeverDefeated.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", true));\r\n                    }\r\n                }\r\n            } else {\r\n                dispatch(SetConversationStatus(npc.id, \r\n                    {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                    {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleDecline.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                    mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n            }\r\n        } else {\r\n            dispatch(SetConversationStatus(npc.id, \r\n                                        {name: player.name, dialogs: npc.name in PLAYERDIALOGS? PLAYERDIALOGS[npc.name].starts.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name)): [\"Hey! Whatsup!\"]}, \r\n                                        {name: npc.name, dialogs: npc.name in NPCDIALOGS? NPCDIALOGS[npc.name].follows.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name)): [\"Ehh! Leave me alone!\"]}, \r\n                                        mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nconst UpdateConversation = () => (dispatch, getState) => {\r\n    const dialog = getState().dialog;\r\n    if(dialog.speakerIdx===0) {\r\n        dispatch(NextDialogAction());\r\n        return;\r\n    }\r\n\r\n    let nextcontentIdx = dialog.dialogIdx + 1;\r\n    if(nextcontentIdx<dialog.person1.dialogs.length) {\r\n        dispatch(NextDialogAction());\r\n    } else {\r\n        if(dialog.battleConversation) {\r\n            dispatch(StartBattle(getState().player, getNPC(getState().npc.list, dialog.npcId)));\r\n        }\r\n        const portal = checkEnablesPortal(getNPC(getState().npc.list, dialog.npcId));\r\n        if(portal!==null)\r\n            dispatch(EnablePortalAction(portal));\r\n        dispatch(ResetConversationStatus(dialog.npcId));\r\n    }\r\n}\r\n\r\nconst checkEnablesPortal = (npc) => {\r\n    return \"enablesPortal\" in npc? npc.enablesPortal: null;\r\n}\r\n\r\nconst getNewDirection = (oldpos, newpos, oldirection) => {\r\n    if(oldpos[0] === newpos[0]) {\r\n        if(oldpos[1] > newpos[1])\r\n            return UP;\r\n        else if(oldpos[1] < newpos[1])\r\n            return DOWN;\r\n        else return oldirection;\r\n    } else if(oldpos[1] === newpos[1]) {\r\n        if(oldpos[0] > newpos[0])\r\n            return LEFT;\r\n        else if(oldpos[0] < newpos[0])\r\n            return RIGHT;\r\n    } else return oldirection;\r\n}\r\n\r\nexport const UpdateNPCPosition = (npcId) => (dispatch, getState) => {\r\n    let npc = getNPC(getState().npc.list, npcId);\r\n    \r\n    if(npc.stationary ||  npc.isAnimating || npc.interacting || npc.inBattle)\r\n        return;\r\n    \r\n    if(npc.isWaiting) {\r\n        if((performance.now() - npc.lastUpdated) < npc.waitInterval) {\r\n            return;\r\n        }\r\n        else \r\n            dispatch(ResetNPCWaiting(npcId));\r\n    }\r\n     \r\n    npc = getNPC(getState().npc.list, npcId);\r\n\r\n    let curdirection = npc.direction;\r\n    if(npc.pathArr.length < 2) {\r\n        if(curdirection!==npc.defaultDirection)\r\n            dispatch(UpdateNPCDirectionAction(npcId, npc.defaultDirection));\r\n        return;\r\n    } \r\n\r\n    let steps = npc.skin.walkSpriteCount, oldpos = npc.position;\r\n    const frameMovementSize = TOTAL_MOVEMENT_SIZE/steps;\r\n    let newpos = tileToMapCoordinates(npc.pathArr[npc.pathIdx + npc.pathDir], TILE_SIZE);\r\n    let newdirection = getNewDirection(oldpos, newpos, curdirection);\r\n    if(curdirection!==newdirection) {\r\n        dispatch(UpdateNPCDirectionAction(npcId, newdirection));\r\n    }\r\n\r\n    npc = getNPC(getState().npc.list, npcId);\r\n\r\n    const map = getState().map;\r\n    \r\n    if(observeMapBoundaries(newpos, map.width, map.height)){\r\n\r\n        if(observePlayer(newpos, getState().player)) {\r\n            const idlenpc = observeIdleNPC(newpos, getState().npc.list);\r\n            const animatingnpc = observeAnimatingNPC(newpos, getState().npc.list);\r\n            if(idlenpc.length === 0 && animatingnpc.length===0) {\r\n                dispatch(UpdateNPCAnimationAction(npcId, true, newpos));\r\n                requestAnimationFrame(animateNPC)\r\n            }\r\n        } else {\r\n            if(getState().player.nearByNPC!==npc.id) {\r\n                if(getState().player.direction===getOppositeDirection(npc.direction)) {\r\n                    dispatch(UpdateNearbyNPCAction(npc.id));\r\n                    if(npc.battle && !npc.battleFlag) {\r\n                        dispatch(ForceBattleConversation(getState().player, npc));\r\n                    }else if(!npc.talkFlag) {\r\n                        dispatch(ForceNonBattleConversation(getState().player, npc));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function animateNPC() {\r\n        if(steps === 0) {\r\n            dispatch(UpdateNPCAnimationAction(npcId, false));\r\n            let npc = getNPC(getState().npc.list, npcId);\r\n            if(checkNearbyIdlePlayer(npc.position, npc.direction, getState().player)) {\r\n                if(getState().player.direction===getOppositeDirection(npc.direction)) {\r\n                    dispatch(UpdateNearbyNPCAction(npc.id));\r\n                    if(npc.battle && !npc.battleFlag) {\r\n                        dispatch(ForceBattleConversation(getState().player, npc));\r\n                    }else if(!npc.talkFlag) {\r\n                        dispatch(ForceNonBattleConversation(getState().player, npc));\r\n                    }\r\n                }\r\n            } else if(getState().player.nearbyNPC===npc.id) {\r\n                dispatch(UpdateNearbyNPCAction());\r\n            }\r\n            return;\r\n        } \r\n        newpos = getNewPostion(oldpos, newdirection, frameMovementSize);\r\n        dispatch(UpdateNPCPositionAction(npcId, newpos));\r\n        oldpos = newpos;\r\n        steps--;\r\n        customSetTimeout(function() {requestAnimationFrame(animateNPC)}, npc.frameInterval, npc.id);\r\n    }\r\n}\r\n\r\nconst getPortal = (position, gameobjects) => {\r\n    return(gameobjects.filter(gameobject => gameobject.type.type===PORTAL && getPositionEquality(position, gameobject.position)))\r\n}\r\n\r\nconst EnterPortal = (portal) => (dispatch, getState) =>{\r\n    if(portal!==null) {\r\n        if(portal.type.name===PORTAL_ENTER) {\r\n    \r\n            dispatch(SaveStateInitAction());\r\n            clearIntervals();\r\n            \r\n            saveStateandAddMap();\r\n            \r\n                function saveStateandAddMap() { \r\n                    const npcList = getState().npc.list;\r\n                    const npcAnimating = npcList.filter( npc => npc.isAnimating);\r\n                    if(npcAnimating.length > 0) {\r\n                        setTimeout(saveStateandAddMap, 500);\r\n                    } else {\r\n                        dispatch(SaveStateAction(getState())); \r\n                        dispatch(AddMap(portal.target, true));\r\n                    }\r\n                }\r\n        } else if(portal.type.name===PORTAL_LEAVE) {\r\n            const cpyPrevStates = [...getState().statemanager.prevStates];\r\n            if(!cpyPrevStates.length)\r\n                return;\r\n\r\n            const oldState = cpyPrevStates.pop();\r\n            const currentMap = getState().map.name;\r\n            const currentGameobjects = getState().gameobjects.map( gameobject => {\r\n                return({\r\n                    ...gameobject,\r\n                    position: mapCoordinatesToTiles(gameobject.position, TILE_SIZE),});\r\n                });\r\n            const currentMapNPCBattleStatus = getState().npc.list.map( npc => {\r\n                return({ id: npc.id,\r\n                        battleFlag: npc.battleFlag,\r\n                        defeatedCount: npc.defeatedCount});\r\n                });\r\n            dispatch(SaveStateInitAction()); \r\n            clearIntervals();\r\n            checkandRestoreMap();\r\n                \r\n                function checkandRestoreMap() { \r\n                    const npcList = getState().npc.list;\r\n                    const npcAnimating = npcList.filter( npc => npc.isAnimating);\r\n                    if(npcAnimating.length > 0) {\r\n                        setTimeout(checkandRestoreMap, 500);\r\n                    } else {\r\n                        dispatch(LoadingMapAction());\r\n                        const mapBg = new Image();\r\n                        mapBg.onload = renderMap;\r\n                        mapBg.src = oldState.map.src;\r\n                        function renderMap(){\r\n                            dispatch(RestoreStateAction({map: currentMap, gameobjects: currentGameobjects, npc: currentMapNPCBattleStatus}, oldState, cpyPrevStates));\r\n                        }  \r\n                    }\r\n                }\r\n            }   \r\n    }\r\n}\r\n\r\nexport const SaveGameToDisk = () => (dispatch, getState) => {\r\n    \r\n    dispatch(SaveStateInitAction());\r\n    clearIntervals();\r\n    saveStateToLocalStorage();\r\n        \r\n    function saveStateToLocalStorage() { \r\n        const npcList = getState().npc.list;\r\n        const npcAnimating = npcList.filter( npc => npc.isAnimating);\r\n        if(npcAnimating.length > 0) {\r\n            setTimeout(saveStateToLocalStorage, 500);\r\n        } else {\r\n            try {\r\n                const serializedState = JSON.stringify(getState());\r\n                localStorage.setItem(SAVED_GAME, serializedState);\r\n                alert(\"Game saved successfully!\");\r\n              } catch (err) {\r\n                alert(\"Saving state failed! Try starting a new game.\");\r\n              } \r\n            dispatch(SaveStateEndAction());\r\n        }\r\n    }\r\n}\r\n\r\nexport const LoadGameFromDisk = () => (dispatch) => {\r\n    try {\r\n        const serializedState = localStorage.getItem(SAVED_GAME);\r\n    \r\n        if (serializedState === null) {\r\n          return undefined;\r\n        }\r\n    \r\n        const state =  JSON.parse(serializedState);\r\n        dispatch(LoadingMapAction());\r\n        const mapBg = new Image();\r\n        mapBg.onload = renderMap;\r\n        mapBg.src = state.map.src;\r\n        function renderMap(){\r\n            dispatch(RestoreStateFromDiskAction(state));\r\n        }  \r\n    \r\n      } catch (err) {\r\n            alert(\"Loading state failed. Start a new game!\");\r\n            return undefined;\r\n      }\r\n      return 1;\r\n}\r\n\r\nexport const AddMap = (level, secondary=false) => (dispatch, getState) => {\r\n    dispatch(LoadingMapAction());\r\n\r\n    const width = level.map.tiles[0].length*TILE_SIZE, height= level.map.tiles.length*TILE_SIZE;\r\n    const playerPosition = tileToMapCoordinates(level.player.position, TILE_SIZE);\r\n    const VIEWPORT_WIDTH = getState().viewport.viewportDims[0], VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    let start_x, start_y, end_x, end_y;\r\n    if(width <= VIEWPORT_WIDTH) {\r\n        start_x = VIEWPORT_WIDTH/2 - width/2;\r\n        end_x = start_x + width;\r\n    } else {\r\n        start_x = (VIEWPORT_WIDTH/2) - playerPosition[0] - TILE_SIZE;\r\n        start_x = start_x >=0? 0: start_x;\r\n        end_x = start_x + width;\r\n        if(end_x < VIEWPORT_WIDTH) {\r\n            end_x = VIEWPORT_WIDTH;\r\n            start_x = end_x - width;\r\n        }\r\n    }\r\n    if(height <= VIEWPORT_HEIGHT) {\r\n        start_y = VIEWPORT_HEIGHT/2 - height/2;\r\n        end_y = start_y + height;\r\n    } else {\r\n        start_y = (VIEWPORT_HEIGHT/2)-playerPosition[1] - TILE_SIZE;\r\n        start_y = start_y >=0? 0: start_y;\r\n        end_y = start_y + height\r\n        if(end_y < VIEWPORT_HEIGHT) {\r\n            end_y = VIEWPORT_HEIGHT;\r\n            start_y = end_y - height;\r\n        }\r\n    }\r\n    \r\n    let start = [ start_x, start_y ];\r\n    let end = [end_x, end_y];\r\n\r\n    let oldState = null;\r\n    if(secondary) {\r\n        const sm = getState().statemanager;\r\n        oldState = level.name in sm? sm[level.name]: null; \r\n    }\r\n\r\n    const mapBg = new Image();\r\n    mapBg.onload = renderMap;\r\n    mapBg.src = level.map.src;\r\n\r\n    function renderMap(){\r\n        dispatch(AddMapAction(level, width, height, playerPosition, start, end, oldState, secondary));\r\n    }\r\n}\r\n\r\n\r\nexport const SetPlayerInfoAction = (name, skinIdx) => {\r\n    return({\r\n        type: ActionTypes.SET_PLAYER_INFO,\r\n        payload : {\r\n            name,\r\n            skinIdx\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const StartNewJourneyAction = () => {\r\n    return({\r\n        type: ActionTypes.START_NEW_JOURNEY,\r\n    });\r\n}\r\n\r\n\r\nexport const InitViewportAction = (viewportDims) => {\r\n    const camera = [[(viewportDims[0]/2) - (TILE_SIZE*2), (viewportDims[0]/2) + (TILE_SIZE)], [(viewportDims[1]/2) - (TILE_SIZE*2), (viewportDims[1]/2) + (TILE_SIZE)]];\r\n    return({\r\n        type: ActionTypes.INIT_VIEWPORT_DIMS,\r\n        payload: {\r\n            viewportDims,\r\n            camera,\r\n        }\r\n    });\r\n}\r\n\r\n\r\nconst StartBattle = (player, npc) => {\r\n    return({\r\n        type: ActionTypes.START_BATTLE,\r\n        payload: {\r\n            player,\r\n            npc,\r\n        }\r\n    });\r\n} \r\n\r\nconst BattleGetRandomMove = (maxMove) => {\r\n    return (Math.floor(Math.random() * (maxMove+1)) % (maxMove+1));\r\n}\r\n\r\nconst BattleGetPredictedMoveIdx = (arr) => {\r\n    return(arr.reduce((maxIdx, currVal, currIdx, arr) => currVal > arr[maxIdx]? currIdx: maxIdx, 0));\r\n}\r\n\r\nconst BattleGetWinningMove = (move, maxMove) => {\r\n    switch(move) {\r\n        case ROCK: return PAPER;\r\n        case PAPER: return SCISSORS;\r\n        case SCISSORS: return ROCK;\r\n        default: return BattleGetRandomMove(maxMove);\r\n    }\r\n}\r\n\r\nconst BattleGetNextMove = (battlerType, markovMatrix, lastMove) => {\r\n    const maxMove = markovMatrix.length - 1;\r\n    let nextMove, predictedMoveIdx;\r\n    if(battlerType===NON_GANG_MEMBER ||  lastMove===null) {\r\n        nextMove = BattleGetRandomMove(maxMove);\r\n    } else {\r\n        predictedMoveIdx = BattleGetPredictedMoveIdx(markovMatrix[lastMove]);\r\n        if(markovMatrix[lastMove][predictedMoveIdx]===0) {\r\n            nextMove = BattleGetRandomMove(maxMove);\r\n        } else {\r\n            nextMove =  BattleGetWinningMove(predictedMoveIdx);\r\n        }\r\n    }\r\n    return nextMove;\r\n}\r\n\r\nconst BattleGetWinner = (playermove, npcmove) => {\r\n        if(playermove===ROCK) {\r\n            if(npcmove===SCISSORS) \r\n                return 1; //player won\r\n            else if(npcmove===PAPER)\r\n                return -1; //npc won\r\n            else \r\n                return 0 //draw\r\n        } else if(playermove===PAPER) {\r\n            if(npcmove===ROCK) \r\n                return 1; //player won\r\n            else if(npcmove===SCISSORS)\r\n                return -1; //npc won\r\n            else\r\n                return 0 //draw\r\n        } else if(playermove===SCISSORS) {\r\n            if(npcmove===PAPER)\r\n                return 1; //player won\r\n            else if(npcmove===ROCK)\r\n                return -1; //npc won\r\n            else\r\n                return 0 //draw\r\n        }\r\n}\r\n\r\nexport const BattleMoveIndexToStr = (move) => {\r\n    switch(move) {\r\n        case 0: return \"ROCK\";\r\n        case 1: return \"PAPER\";\r\n        case 2: return \"SCISSORS\";\r\n        default: return \"Undefined\";\r\n    }\r\n}\r\n\r\nconst BattleSummary = (playername, playermove, npcname, npcmove, winner) => {\r\n    const playerline = playername + \" chose \"+ BattleMoveIndexToStr(playermove) + \". \";\r\n    const npcline = npcname+ \" chose \"+ BattleMoveIndexToStr(npcmove)+\". \";\r\n    let winnerline; \r\n    if(winner===1) {\r\n        winnerline = playername + \" wins this round!\";\r\n    } else if(winner===-1) {\r\n        winnerline = npcname+ \" wins this round!\";\r\n    } else {\r\n        winnerline = \"Its a DRAW!\";\r\n    }\r\n    return(playerline+npcline+winnerline);\r\n}\r\n\r\nexport const BattleHandleMove = (playerMove) => (dispatch, getState) => {\r\n    \r\n    playSoundEffect(LASER_SOUND);\r\n    let battle = getState().battle;\r\n    const playerMarkovMatrix = battle.player.markovMatrix;\r\n    const playerLastMove = battle.player.lastMove;\r\n    const npcMove = BattleGetNextMove(battle.npc.battlerType, playerMarkovMatrix, playerLastMove);\r\n    const winner = BattleGetWinner(playerMove, npcMove);\r\n    const summary = BattleSummary(battle.player.name, playerMove, battle.npc.name, npcMove, winner);\r\n    dispatch(UpdateBattleStatsAction(playerMove, npcMove, winner, summary));\r\n\r\n    const finalWinner = CheckBattleWinner(getState().battle);\r\n    if(finalWinner!==0) {\r\n        battle = getState().battle;\r\n        let newexp = battle.player.exp + getPlayerNewExp(battle.player.score, battle.player.level, battle.npc.level, finalWinner);\r\n        let newlevel = getPlayerLevel(newexp);\r\n        setTimeout( function() { \r\n            dispatch(EndBattle(finalWinner, {newlevel, newexp, gangMember:finalWinner===1 && battle.npc.battlerType===GANG_MEMBER?battle.npc.name:null}, battle.npc.id));\r\n        }, 1200);\r\n    }\r\n}\r\n\r\nconst getPlayerNewExp = (score, playerLevel, npcLevel, winner) => {\r\n    const BASE_EXP = 5, LEVEL_MULTIPLIER = 10, WIN_BONUS=10;\r\n    if(winner===1)\r\n        return(BASE_EXP + score + Math.max((npcLevel - (playerLevel-1))*LEVEL_MULTIPLIER, LEVEL_MULTIPLIER) + WIN_BONUS);\r\n    else \r\n        return(BASE_EXP + score);\r\n}\r\n\r\nconst getPlayerLevel = (exp) => {\r\n    if(exp < 60) \r\n        return 1;\r\n    else if(exp < 180)\r\n        return 2;\r\n    else if(exp < 360)\r\n        return 3;\r\n    else if(exp < 540)\r\n        return 4;\r\n    else if(exp < 1000)\r\n        return 5;\r\n    else \r\n        return 6;\r\n}\r\n\r\nconst CheckBattleWinner = (battle) => {\r\n    if(battle.player.lives===0) {\r\n        return -1;\r\n    } else if(battle.npc.lives===0) {\r\n        return 1;\r\n    } else {\r\n        return 0;\r\n    }\r\n}\r\n\r\nconst EndBattle = (battleWinner, updatedPlayerStats, npcId) => {\r\n    return({\r\n        type: ActionTypes.END_BATTLE,\r\n        payload: {\r\n            battleWinner,\r\n            player: updatedPlayerStats,\r\n            npcId,\r\n        }\r\n    });\r\n}\r\n\r\nexport const CloseBattleSequence = () => (dispatch, getState) => {\r\n    const npc = getNPC(getState().npc.list, getState().battle.npc.id), player = getState().player;\r\n    const VIEWPORT_HEIGHT=getState().viewport.viewportDims[1];\r\n    dispatch(CloseBattle());\r\n    \r\n    if(getState().battle.finalWinner===1) {\r\n        dispatch(SetConversationStatus(npc.id, \r\n            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleLose.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleWin.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n    } else {\r\n        dispatch(SetConversationStatus(npc.id, \r\n            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleWin.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleLose.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n    }\r\n    \r\n} \r\n\r\nconst CloseBattle = () => {\r\n    return({\r\n        type: ActionTypes.CLOSE_BATTLE,\r\n    });\r\n}\r\n\r\nexport const BattleEndIntro = () => {\r\n    return({\r\n        type: ActionTypes.END_BATTLE_INTRO,\r\n    });\r\n}\r\n\r\n\r\n\r\nconst UpdateBattleStatsAction = (playermove, npcmove, winner, summary) => {\r\n    return({\r\n        type: ActionTypes.SUBMIT_MOVES,\r\n        payload: {\r\n            playermove,\r\n            npcmove,\r\n            winner,\r\n            summary,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdatePlayerAnimationAction = (isAnimating, newpos = []) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_PLAYER_ANIMATION,\r\n        payload: {\r\n            isAnimating,\r\n            newpos,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNPCAnimationAction = (id, isAnimating, newpos = []) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NPC_ANIMATION,\r\n        payload: {\r\n            id,\r\n            isAnimating,\r\n            newpos,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdatePlayerPositionAction = (position) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_PLAYER_POSITION,\r\n        payload: {\r\n            position,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNPCPositionAction = (npcId, position) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NPC_POSITION,\r\n        payload: {\r\n            id: npcId,\r\n            position,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdatePlayerDirectionAction = (direction) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_PLAYER_DIRECTION,\r\n        payload: {\r\n            direction,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNearbyNPCAction = (npcId=null) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NEARBY_NPC,\r\n        payload: {\r\n            npcId: npcId,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNearbyGameObjAction = (gameobjId=null) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NEARBY_GAMEOBJ,\r\n        payload: {\r\n            id: gameobjId,\r\n        }\r\n    });\r\n}\r\n\r\n\r\nconst UpdateNPCDirectionAction = (npcId, direction) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NPC_DIRECTION,\r\n        payload: {\r\n            id: npcId,\r\n            direction,\r\n        }\r\n    });\r\n}\r\n\r\nconst ResetNPCWaiting = (npcId) => {\r\n    return({\r\n        type: ActionTypes.RESET_NPC_WAITING,\r\n        payload: {\r\n            id: npcId,\r\n        }\r\n    });\r\n}\r\n\r\nexport const UpdateOriginAction = (origin) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_MAP_ORIGIN,\r\n        payload: {\r\n            origin\r\n        },\r\n    });\r\n}\r\n\r\n\r\nconst SetConversationStatus = (npcId, person1, person2, position, battleConversation) => {\r\n    playSoundEffect(DRIP_SOUND);\r\n    return({\r\n        type: ActionTypes.SET_DIALOG_STATUS,\r\n        payload: {\r\n            person1,\r\n            person2,\r\n            npcId,\r\n            position,\r\n            battleConversation,\r\n        }\r\n    });\r\n}\r\n\r\nconst ResetConversationStatus = (npcId) => {\r\n    return({\r\n        type: ActionTypes.RESET_DIALOG_STATUS,\r\n        payload: {\r\n            npcId,\r\n        }\r\n    });\r\n}\r\n\r\nconst NextDialogAction = () => {\r\n    playSoundEffect(DRIP_SOUND);\r\n    return({\r\n        type: ActionTypes.NEXT_DIALOG,\r\n    })\r\n}\r\n\r\nconst EnablePortalAction = (portalname) => {\r\n    playSoundEffect(PICK_SOUND);\r\n    return({\r\n        type: ActionTypes.ENABLE_PORTAL,\r\n        payload: {\r\n            portalname,\r\n        }\r\n    })\r\n}\r\n\r\nexport const ToggleInventory = () => {\r\n    playSoundEffect(PICK_SOUND);\r\n    return({\r\n        type: ActionTypes.TOGGLE_INVENTORY_DISPLAY,\r\n    })\r\n}\r\n\r\nconst AddObjecttoInventory = (object) => {\r\n    return({\r\n        type: ActionTypes.ADD_OBJECT_TO_INVENTORY,\r\n        payload: {\r\n            object,\r\n        }\r\n    });\r\n}\r\n\r\n\r\nconst SaveStateInitAction = () => {\r\n    return({\r\n        type: ActionTypes.SAVE_STATE_INITIATED,\r\n    })\r\n}\r\n\r\nconst SaveStateAction = (state) => {\r\n    return({\r\n        type: ActionTypes.SAVE_STATE,\r\n        payload: {\r\n            state,\r\n        }\r\n    })\r\n}\r\n\r\nconst SaveStateEndAction = () => {\r\n    return({\r\n        type: ActionTypes.SAVE_STATE_END,\r\n    })\r\n}\r\n\r\n\r\nconst RestoreStateAction = (currentMapInfo, state, prevStates) => {\r\n    return({\r\n        type: ActionTypes.RESTORE_STATE,\r\n        payload: {\r\n            mapinfo: currentMapInfo,\r\n            state,\r\n            prevStates,\r\n        }\r\n    })\r\n}\r\n\r\nconst RestoreStateFromDiskAction = (state) => {\r\n    return({\r\n        type: ActionTypes.RESTORE_STATE_FROM_DISK,\r\n        payload: {\r\n            state,\r\n        }\r\n    })\r\n}\r\n\r\nconst LoadingMapAction = () => {\r\n    return({\r\n        type: ActionTypes.MAP_LOADING,\r\n    });\r\n}\r\n\r\nconst getMergedNPCList = (base, diff) => {\r\n    let diffnpc = null;\r\n    return(base.map( npc => {\r\n                diffnpc = getNPC(diff, npc.id);\r\n                return({\r\n                    ...npc,\r\n                    battleFlag: diffnpc.battleFlag,\r\n                    defeatedCount: diffnpc.defeatedCount,\r\n                });\r\n            })\r\n    );\r\n}\r\n\r\nconst AddMapAction = (level, width, height ,playerPosition, vpstart, vpend, oldState, secondary) => { \r\n    return({\r\n        type: ActionTypes.ADD_MAP,\r\n        payload: {\r\n            secondary,\r\n            name: level.name,\r\n            tiles: level.map.tiles,\r\n            width,\r\n            height,\r\n            src: level.map.src,\r\n            audioSrc: level.map.audioSrc,\r\n            viewport: {\r\n                start: vpstart,\r\n                end: vpend,\r\n            },\r\n            player: {\r\n                ...level.player,\r\n                position: playerPosition,\r\n            },\r\n            npc: oldState? getMergedNPCList(level.npc, oldState.npc) : level.npc,\r\n            gameobjects: oldState? oldState.gameobjects: level.gameobjects.concat(level.portals),\r\n        },\r\n    });\r\n}","import { CHARACTER_SPRITES_BASE } from '../helpers/constants';\r\n\r\nconst _80 = 80;\r\nconst BASE_URL = CHARACTER_SPRITES_BASE;\r\n\r\nexport const SKINS = {\r\n    player_1: {  \r\n        src: BASE_URL + \"/player_1\",\r\n        width: 80,\r\n        height: 60,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    player_2: {\r\n        /*5*/\r\n        src: BASE_URL + \"/player_2\",\r\n        width: 80,\r\n        height: 60,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    prof: {\r\n        /*1*/\r\n        src: BASE_URL+\"/prof\",\r\n        width: _80,\r\n        height: _80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_1: {\r\n        /*2*/\r\n        src: BASE_URL + \"/friend_1\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_2:  {\r\n        /*3*/\r\n        src: BASE_URL+\"/friend_2\",\r\n        width: 70,\r\n        height: 70,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n    friend_3: {\r\n        /*4*/\r\n        src: BASE_URL + \"/friend_3\",\r\n        width: 70,\r\n        height: 70,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_4: {\r\n        /*4*/\r\n        src: BASE_URL + \"/friend_4\",\r\n        width: 70,\r\n        height: 70,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_5: {  \r\n        /*11*/\r\n       src: BASE_URL + \"/friend_5\",\r\n       width: 64,\r\n       height: 64,\r\n       UP: 1,\r\n       RIGHT: 2,\r\n       DOWN: 0,\r\n       LEFT: 3,\r\n       walkSpriteCount: 4,\r\n   },\r\n\r\n   friend_6: {  \r\n    /*11*/\r\n        src: BASE_URL + \"/friend_6\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_7: {  \r\n    /*11*/\r\n        src: BASE_URL + \"/friend_7\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_8: {  \r\n    /*11*/\r\n        src: BASE_URL + \"/friend_8\",\r\n        width: 64,\r\n        height: 91,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_9: {  \r\n        /*11*/\r\n            src: BASE_URL + \"/friend_9\",\r\n            width: 68,\r\n            height: 72,\r\n            UP: 1,\r\n            RIGHT: 2,\r\n            DOWN: 0,\r\n            LEFT: 3,\r\n            walkSpriteCount: 4,\r\n    },\r\n\r\n\r\n    kid_1: {   \r\n        /*6*/\r\n        src: BASE_URL + \"/kid_1\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    kid_2: {  \r\n         /*7*/\r\n        src: BASE_URL + \"/kid_2\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n    \r\n    kid_3: {  \r\n         /*8*/\r\n        src: BASE_URL + \"/kid_3\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    nurse: {  \r\n         /*9*/\r\n        src: BASE_URL + \"/nurse\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    chef: {  \r\n        /*9*/\r\n       src: BASE_URL + \"/chef\",\r\n       width: 80,\r\n       height: 80,\r\n       UP: 1,\r\n       RIGHT: 2,\r\n       DOWN: 0,\r\n       LEFT: 3,\r\n       walkSpriteCount: 4,\r\n   },\r\n\r\n    bully_1: {  \r\n        /*10*/\r\n        src: BASE_URL + \"/bully_1\",\r\n        width: 48,\r\n        height: 60,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n   },\r\n\r\n   crush_1: {  \r\n         /*11*/\r\n        src: BASE_URL + \"/crush_1\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    crush_2: {  \r\n        /*11*/\r\n       src: BASE_URL + \"/crush_2\",\r\n       width: 68,\r\n       height: 72,\r\n       UP: 1,\r\n       RIGHT: 2,\r\n       DOWN: 0,\r\n       LEFT: 3,\r\n       walkSpriteCount: 4,\r\n   },\r\n\r\n   crush_3: {  \r\n            /*11*/\r\n        src: BASE_URL + \"/crush_3\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    crush_4: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/crush_4\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_1: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/tribe_1\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_2: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/tribe_2\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_3: {  \r\n        /*10*/\r\n        src: BASE_URL + \"/tribe_3\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n        },\r\n\r\n    tribe_4: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/tribe_4\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_5: {  \r\n        /*11*/\r\n            src: BASE_URL + \"/tribe_5\",\r\n            width: 80,\r\n            height: 80,\r\n            UP: 1,\r\n            RIGHT: 2,\r\n            DOWN: 0,\r\n            LEFT: 3,\r\n            walkSpriteCount: 4,\r\n    },\r\n\r\n    boss: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/boss\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    whitepuppy: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/puppy_white\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    brownpuppy: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/puppy_brown\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    blackcat: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/cat_black\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    whitecat: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/cat_white\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    orangecat: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/cat_orange\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    baby: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/baby\",\r\n        width: 30,\r\n        height: 45,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    patient_1: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/patient_1\",\r\n        width: 40,\r\n        height: 50,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n}","import { HEALER, EATABLE, CURRENCY, PORTAL, PORTAL_ENTER, PORTAL_LEAVE, PROPS_PATH } from \"../helpers/constants\";\r\n\r\nconst ITEMS_URL =  `${PROPS_PATH}/items.png`;\r\nconst PORTAL_URL = `${PROPS_PATH}/portal.png`; \r\nconst ENTER_URL = `${PROPS_PATH}/enter.png`; \r\nconst LEAVE_URL = `${PROPS_PATH}/leave.png`; \r\n\r\n\r\nexport const GAMEOBJECTS = [\r\n    {\r\n        /*0*/\r\n        id: 0,\r\n        name: \"redpotion\",\r\n        src: ITEMS_URL,\r\n        srcpos: [0,0],\r\n        width: 40,\r\n        height: 40,\r\n        type: HEALER,\r\n    },\r\n\r\n    {\r\n        /*1*/\r\n        id: 1,\r\n        name: \"vaccine\",\r\n        src: ITEMS_URL,\r\n        srcpos: [200,0],\r\n        width: 40,\r\n        height: 40,\r\n        type: HEALER,\r\n    },\r\n\r\n    {\r\n        /*2*/\r\n        id: 2,\r\n        name: \"water\",\r\n        src: ITEMS_URL,\r\n        srcpos: [240,0],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*3*/\r\n        id: 3,\r\n        name: \"berry\",\r\n        src: ITEMS_URL,\r\n        srcpos: [240,280],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*4*/\r\n        id: 4,\r\n        name: \"diamond\",\r\n        src: ITEMS_URL,\r\n        srcpos: [240,200],\r\n        width: 40,\r\n        height: 40,\r\n        type: CURRENCY,\r\n    },\r\n\r\n    {\r\n        /*5*/\r\n        id: 5,\r\n        name: \"meat\",\r\n        src: ITEMS_URL,\r\n        srcpos: [280,160],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*6*/\r\n        id: 6,\r\n        name: \"bone\",\r\n        src: ITEMS_URL,\r\n        srcpos: [200,160],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*7*/\r\n        id: 7,\r\n        name: \"goldcoin\",\r\n        src: ITEMS_URL,\r\n        srcpos: [280,120],\r\n        width: 40,\r\n        height: 40,\r\n        type: CURRENCY,\r\n    },\r\n\r\n    {\r\n        id:8,\r\n        name:'hen',\r\n        src:'assets/images/80/objectsAndProps/hen.png',\r\n        srcpos: [0,0],\r\n        width: 32,\r\n        height: 36,\r\n        effects: \"spotanimate\",\r\n        type: \"HEN\",\r\n    },\r\n];\r\n\r\nexport const PORTALS = [\r\n\r\n    {   /*0*/\r\n        id: 0,\r\n        name: PORTAL_ENTER,\r\n        src: ENTER_URL,\r\n        srcpos: [0,0],\r\n        width: 40,\r\n        height: 40,\r\n        //effects: \"blink\",\r\n        type: PORTAL,\r\n    },\r\n\r\n    {   /*1*/\r\n        id: 1,\r\n        name: PORTAL_LEAVE,\r\n        src: LEAVE_URL,\r\n        srcpos: [0,0],\r\n        width: 40,\r\n        height: 40,\r\n       // effects: \"blink\",\r\n        type: PORTAL,\r\n    },\r\n\r\n    {   /*2*/\r\n        id: 2,\r\n        name: \"portal\",\r\n        src: PORTAL_URL,\r\n        srcpos: [0,0],\r\n        width: 64,\r\n        height: 64,\r\n        effects: \"rotate\",\r\n        type: PORTAL,\r\n    },\r\n    \r\n]","import { TOWN_CENTER_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const townCenter = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,  10,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/town_center.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: TOWN_CENTER_MUSIC,\r\n}","import { DOWN, NON_GANG_MEMBER, LEFT, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { home } from '../../Maps/home';\r\n\r\n\r\nexport const _home = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.home,\r\n\r\n    map: home,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [7, 4],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //informational\r\n                id: 0,\r\n                name: \"Dad\",\r\n                skin: SKINS[\"prof\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[6,3], [6,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 1,\r\n                name: \"Joey\",\r\n                skin: SKINS[\"baby\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[4,7],[4,8],[5,8],[6,8],[6,7],[5,7],[4,7]],\r\n                frameInterval: 200,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n                battle: true,\r\n                level: 1,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 2,\r\n                name: \"Ace\",\r\n                skin: SKINS[\"brownpuppy\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[3,1], [4,1],[5,1]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [8, 4],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { HOME_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const home = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,  10,  10,  10,  10,  10,  10,  10,   0,],\r\n        [   0,   0,  10,  10,  10,  10,  10,  10,   0,],\r\n        [   0,   0,  10,  10,  10,  10,  10,   0,   0,],\r\n        [   0,   0,  10,  10,  10,  10,  10,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,  10,   0,  10,   0,   0,   0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/home.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HOME_MUSIC,\r\n}","import { LEFT, RIGHT, NON_GANG_MEMBER, GANG_MEMBER, BATTLE_GM_MUSIC, UP, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { bakery } from '../../Maps/bakery';\r\n\r\n\r\nexport const _bakery = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.bakery,\r\n\r\n    map: bakery,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [8, 7],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //prop\r\n                id: 0,\r\n                name: \"Vincent\",\r\n                skin: SKINS[\"friend_3\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[3,0]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n            { \r\n                //prop\r\n                id: 1,\r\n                name: \"Chase\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[3,1]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n            { \r\n                //battler\r\n                id: 2,\r\n                name: \"Samantha\",\r\n                skin: SKINS[\"crush_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[6,3], [6,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 4000,\r\n                battle: true,\r\n                level: 2,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n            { \r\n                //tribe\r\n                id: 3,\r\n                name: \"Eden\",\r\n                skin: SKINS[\"tribe_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[4,7], [4,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 3,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {  //battler\r\n                id: 4,\r\n                name: \"John\",\r\n                skin: SKINS[\"kid_1\"],\r\n                direction: UP,\r\n                stationary: false,\r\n                pathArr: [[2,13]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: 1,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n\r\n            { \r\n                //prop\r\n                id: 5,\r\n                name: \"Cena\",\r\n                skin: SKINS[\"friend_4\"],\r\n                direction: UP,\r\n                stationary: false,\r\n                pathArr: [[2,11], [2,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 6000,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [9, 7],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { BAKERY_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const bakery = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,   0,   0,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,  10,  10,  10,  10,   0,   0,   0,  10,  10,  10,  10,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,  10,   0,  10,   0,   0,   0,   0,   0,   0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/bakery.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: BAKERY_MUSIC,\r\n}","import { TOWN_NORTH_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const townNorth = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,  10,  10,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/town_north.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: TOWN_NORTH_MUSIC,\r\n\r\n}","import { CAVE_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const cave = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,  10,],\r\n\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/cave.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n    audioSrc: CAVE_MUSIC,\r\n}","import { HELL_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const hell = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,   0,   0,   0,  10,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,  10,  10,  10,],\r\n        [  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/hell.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HELL_MUSIC,\r\n\r\n}","import { DOWN, RIGHT, GANG_MEMBER, BATTLE_GM_MUSIC, LEFT, NON_GANG_MEMBER, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { townNorth } from '../../Maps/town_north';\r\nimport { _cave } from \"./_cave\";\r\n\r\n\r\n\r\nexport const _townNorth = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.town_north,\r\n\r\n    map: townNorth,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [19, 14],\r\n        direction: 'LEFT',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            {   //prop\r\n                id: 0,\r\n                name: \"Kaloo\",\r\n                skin: SKINS[\"blackcat\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[8,5],[8,6],[8,7]],\r\n                frameInterval: 50,\r\n                moveInterval: 250,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 1,\r\n                name: \"Goku\",\r\n                skin: SKINS[\"whitecat\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[10,7], [10,6], [10,5],[11,5],[12,5],[13,5], [14,5],[15,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 2,\r\n                name: \"bruno\",\r\n                skin: SKINS[\"brownpuppy\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[10,6], [10,5],[11,5],[12,5],[13,5], [14,5],[15,5],[16,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:3,\r\n                name: \"Maty\",\r\n                skin: SKINS[\"crush_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[13,11], [13,12]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {\r\n                //tribe\r\n                id:4,\r\n                name: \"Tegan\",\r\n                skin: SKINS[\"tribe_4\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[19, 6], [19,7], [19,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                battle: true,\r\n                level: 5,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {   //prop\r\n                id: 5,\r\n                name: \"Matt\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[11,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n            \r\n            {   //battler\r\n                id: 6,\r\n                name: \"Damon\",\r\n                skin: SKINS[\"friend_3\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[11,7]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:7,\r\n                name: \"Void\",\r\n                skin: SKINS[\"kid_2\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[6,6], [6,5], [7,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.cave,\r\n            },\r\n\r\n            {   //battler\r\n                id: 8,\r\n                name: \"Hunt\",\r\n                skin: SKINS[\"bully_1\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[7,14]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [6, 6],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _cave,\r\n        },\r\n        {\r\n            position: [19, 15],\r\n            type: PORTALS[1],\r\n            rotate:0,\r\n        },\r\n    ]\r\n};","import { DOWN, RIGHT, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { cave } from '../../Maps/cave';\r\nimport { _hell } from \"./_hell\";\r\n\r\n\r\nexport const _cave = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.cave,\r\n\r\n    map: cave,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [3, 2],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //props\r\n                id: 0,\r\n                name: \"Misty\",\r\n                skin: SKINS[\"blackcat\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[1,0], [2,0], [3,0], [4,0],],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 1,\r\n                name: \"Trigger\",\r\n                skin: SKINS[\"orangecat\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[1,1], [1,2], [1,3], [1,4],],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.hell,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [1, 2],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _hell,\r\n        },\r\n        {\r\n            position: [4, 2],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { BOSS_BATTLE_LEVEL, BOSS, BATTLE_BOSS_MUSIC, RIGHT, LEFT, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { hell } from '../../Maps/hell';\r\n\r\n\r\nexport const _hell = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.hell,\r\n\r\n    map: hell,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [7, 4],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //tribe\r\n                id: 0,\r\n                name: \"Beast\",\r\n                skin: SKINS[\"boss\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[2,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: BOSS_BATTLE_LEVEL,\r\n                battlerType: BOSS,\r\n                battleMusic: BATTLE_BOSS_MUSIC,\r\n            },\r\n            { \r\n                //props\r\n                id: 1,\r\n                name: \"Rock\",\r\n                skin: SKINS[\"blackcat\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[5,3], [5,2], [4,2], [3,2], [3,3], [3,4], [3,5], [3,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            { \r\n                //props\r\n                id: 2,\r\n                name: \"Paper\",\r\n                skin: SKINS[\"whitecat\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[2,4], [2,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n\r\n            { \r\n                //props\r\n                id: 3,\r\n                name: \"Scissors\",\r\n                skin: SKINS[\"orangecat\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[4,2], [4,3],[4,4],[4,5],[4,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [8, 4],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { TOWN_SOUTH_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const townSouth = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,   0,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,   0,   0,   0,   0,   0,   0,  10,  10,   0,],\r\n        [  10,  10,  10,   0,   0,   0,   0,   0,  10,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n       \r\n    ],\r\n\r\n    src: `${MAPS_BASE}/town_south.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: TOWN_SOUTH_MUSIC,\r\n\r\n}","import { LIBRARY_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const library = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,    0,   0,  10,  10,  10,  10,  10,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,    0,   0,   0,   0,   0,   0,   0,   0,  10,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,    0,   0,   0,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,  10,  10,  10,  10,  10,  10,  10,],\r\n        [    0,   0,   0,   0,  0,  0,   0,  0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [  0,   0,   0,   0,  0,  0,   0,  0,   0,  0,  0,   0,   0,   0,   0,   10,  10,  10, ],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,  10,  0,   0,  0,  0,   0,  0,  0,  0,  0,  0,  0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,   0,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,   0,  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,  0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,  10,  10,   0,   0,   0,  0,   0,  0,  0,   0,   0,  10,  10,   0,   0,   0,],\r\n        [   0,   0,   0,  10,  10,   0,   0,  0,   0,  0,  0,   0,  10,  10,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,  10,   0, 10,  10,   0,  0,  0,  0,  0,  0,  0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/library.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: LIBRARY_MUSIC,\r\n\r\n}","import { GAMEROOM_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const gameroom = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,  10,],\r\n        [  10,   0,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,  10,   0,  10,   0,],\r\n\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/gameroom.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: GAMEROOM_MUSIC,\r\n}","import { DOWN, UP, LEFT, RIGHT, NON_GANG_MEMBER, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { library } from '../../Maps/library';\r\nimport { _gameroom } from \"./_gameroom\";\r\n\r\n\r\nexport const _library = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.library,\r\n\r\n    map: library,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [16, 8],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n        { \r\n            //prop\r\n            id: 0,\r\n            name: \"Jordan\",\r\n            skin: SKINS[\"kid_2\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[14,0], [14,1], [14,2]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 3000,\r\n            battle: true,\r\n            level: 3,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 1,\r\n            name: \"Prick\",\r\n            skin: SKINS[\"friend_5\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[14,16]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 2,\r\n            name: \"Pom\",\r\n            skin: SKINS[\"friend_3\"],\r\n            direction: LEFT,\r\n            stationary: false,\r\n            pathArr: [[14,17]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 3,\r\n            name: \"Bam\",\r\n            skin: SKINS[\"friend_6\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[10,13], [10,14], [9,14]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 4,\r\n            name: \"Boo\",\r\n            skin: SKINS[\"friend_2\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[7,16]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        {   //battler\r\n            id: 5,\r\n            name: \"Tori\",\r\n            skin: SKINS[\"kid_3\"],\r\n            direction: DOWN,\r\n            stationary: false,\r\n            pathArr: [[8,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            battle: true,\r\n            level: 2,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n\r\n        {\r\n            //informational\r\n            id:6,\r\n            name: \"Ghissu\",\r\n            skin: SKINS[\"kid_1\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[4,3], [4,4], [4,5]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 1500,\r\n            talkFlag: false,\r\n            enablesPortal: MAP_NAMES.gameroom,\r\n        },\r\n\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [4, 15],\r\n            type: PORTALS[0],\r\n            rotate: 0,\r\n            target: _gameroom,\r\n        },\r\n        {\r\n            position: [17, 8],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { DOWN, GANG_MEMBER, BATTLE_GM_MUSIC, UP, NON_GANG_MEMBER, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { gameroom } from '../../Maps/gameroom';\r\n\r\n\r\nexport const _gameroom = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.gameroom,\r\n\r\n    map: gameroom,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [3, 2],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n        {   //tribe\r\n            id: 0,\r\n            name: \"Razor\",\r\n            skin: SKINS[\"tribe_3\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[1,2]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            battle: true,\r\n            level: 4,\r\n            battlerType: GANG_MEMBER,\r\n            battleMusic: BATTLE_GM_MUSIC,\r\n        },\r\n        { \r\n            //prop\r\n            id: 1,\r\n            name: \"Prick\",\r\n            skin: SKINS[\"friend_1\"],\r\n            direction: DOWN,\r\n            stationary: false,\r\n            pathArr: [[1,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            battle: true,\r\n            level: 3,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n        { \r\n            //prop\r\n            id: 2,\r\n            name: \"Abu\",\r\n            skin: SKINS[\"friend_4\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[3,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n        { \r\n            //informational\r\n            id: 3,\r\n            name: \"LT\",\r\n            skin: SKINS[\"friend_7\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[3,4]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            talkFlag: false,\r\n        },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [4, 2],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { HOTEL_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const hotel = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,   0,   0,   0,  10,   0,  10,   0,   0,   0,  10,  10,],\r\n        [  10,  10,  10,   0,  10,  10,   0,  10,   0,   0,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,   0,  10,  10,   0,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/hotel.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HOTEL_MUSIC,\r\n\r\n}","import { LEFT, RIGHT, NON_GANG_MEMBER, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { townSouth } from '../../Maps/town_south';\r\nimport { _library } from \"./_library\";\r\nimport { _hotel } from \"./_hotel\";\r\n\r\n\r\nexport const _townSouth = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.town_south,\r\n\r\n    map: townSouth,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [14, 1],\r\n        direction: 'RIGHT',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //informational\r\n                id: 0,\r\n                name: \"Molly\",\r\n                skin: SKINS[\"crush_2\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[6,3], [6,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.library,\r\n            },\r\n\r\n            { \r\n                //prop\r\n                id: 1,\r\n                name: \"Chambers\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[4,11]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            \r\n            { \r\n                //prop\r\n                id: 2,\r\n                name: \"Ozil\",\r\n                skin: SKINS[\"friend_3\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[4,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            { \r\n                //battler\r\n                id: 3,\r\n                name: \"Grindel\",\r\n                skin: SKINS[\"friend_8\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[1,8], [2,8], [2,9], [1,9]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 3,\r\n                battlerType: NON_GANG_MEMBER,\r\n                //battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 4,\r\n                name: \"Ilaria\",\r\n                skin: SKINS[\"crush_3\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[22,3], [22,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.hotel,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [4, 5],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _library,\r\n        },\r\n        {\r\n            position: [19, 7],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _hotel,\r\n        },\r\n        {\r\n            position: [14, 0],\r\n            type: PORTALS[1],\r\n            rotate:180,\r\n        },\r\n    ]\r\n};","import { DOWN, RIGHT, LEFT, GANG_MEMBER, BATTLE_GM_MUSIC, NON_GANG_MEMBER, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { hotel } from '../../Maps/hotel';\r\n\r\n\r\nexport const _hotel = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.hotel,\r\n\r\n    map: hotel,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [11, 6],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            {   //prop\r\n                id: 0,\r\n                name: \"Cruz\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: RIGHT,\r\n                stationary: true,\r\n                pathArr: [[12,2]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 1,\r\n                name: \"Lillie\",\r\n                skin: SKINS[\"crush_1\"],\r\n                direction: LEFT,\r\n                stationary: true,\r\n                pathArr: [[12,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 2,\r\n                name: \"Lil\",\r\n                skin: SKINS[\"kid_2\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[12,9], [12,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            }, \r\n            {   //prop\r\n                id: 3,\r\n                name: \"Wayne\",\r\n                skin: SKINS[\"friend_7\"],\r\n                direction: DOWN,\r\n                stationary: true,\r\n                pathArr: [[8,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 4,\r\n                name: \"Spark\",\r\n                skin: SKINS[\"kid_3\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[8,8], [8,9]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 5,\r\n                name: \"Sparkle\",\r\n                skin: SKINS[\"whitepuppy\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[6,9], [6,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //tribe\r\n                id: 6,\r\n                name: \"Snyder\",\r\n                skin: SKINS[\"tribe_5\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[6,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: 5,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n                \r\n            },\r\n\r\n            {   //prop\r\n                id: 7,\r\n                name: \"Weisley\",\r\n                skin: SKINS[\"bully_1\"],\r\n                direction: LEFT,\r\n                stationary: true,\r\n                pathArr: [[6,11]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //informational\r\n                id: 8,\r\n                name: \"Felicity\",\r\n                skin: SKINS[\"crush_3\"],\r\n                direction: DOWN,\r\n                stationary: true,\r\n                pathArr: [[5,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {   //battler\r\n                id: 9,\r\n                name: \"Max\",\r\n                skin: SKINS[\"friend_6\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[7,2], [7,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [12, 6],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { HOME_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const hospital = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,   0,  10,  10,],\r\n        [   0,   0,   0,  10,  10,  10,  10,   0,   0,   0,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,  10,   0,  10,   0,   0,   0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/hospital.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HOME_MUSIC,\r\n}","import {_townCenter} from \"./_town_center\";\r\n\r\n\r\nexport const level = _townCenter;","import { DOWN, NON_GANG_MEMBER, LEFT, RIGHT, MAP_NAMES } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { townCenter } from '../../Maps/town_center';\r\nimport { _home } from \"./_home\";\r\nimport { _bakery } from \"./_bakery\";\r\nimport { _townNorth } from \"./_town_north\";\r\nimport { _townSouth } from \"./_town_south\";\r\nimport { _hospital } from \"./_hostpital\";\r\n\r\nexport const _townCenter = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.town_center,\r\n\r\n    map: townCenter,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [14, 15],\r\n        direction: 'RIGHT',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //informational\r\n                id: 0,\r\n                name: \"Frank\",\r\n                skin: SKINS[\"friend_5\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[14,16], [14,15]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.home,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 1,\r\n                name: \"Tia\",\r\n                skin: SKINS[\"crush_4\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[7,6], [7,7]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.bakery,\r\n            },\r\n\r\n            {\r\n                //battler\r\n                id:2,\r\n                name: \"Nathan\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[3,6], [4,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                battle: true,\r\n                level: 1,\r\n                battlerType: NON_GANG_MEMBER,\r\n                //battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:3,\r\n                name: \"Tracer\",\r\n                skin: SKINS[\"friend_7\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[11,2], [12,2], [13,2], [14,2], [14,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.town_north,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:4,\r\n                name: \"Betty\",\r\n                skin: SKINS[\"nurse\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[21,12], [21,13], [21,14]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.hospital,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:8,\r\n                name: \"Koby\",\r\n                skin: SKINS[\"friend_9\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[15,21], [16,21], [17,21]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n                enablesPortal: MAP_NAMES.town_south,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [12, 15],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _home,\r\n        },\r\n        {\r\n            position: [6, 10],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _bakery,\r\n        },\r\n        {\r\n            position: [19, 0],\r\n            type: PORTALS[0],\r\n            rotate:180,\r\n            target: _townNorth,\r\n        },\r\n        {\r\n            position: [14, 24],\r\n            type: PORTALS[0],\r\n            rotate:0,\r\n            target: _townSouth,\r\n        },\r\n        {\r\n            position: [21, 17],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _hospital,\r\n        }\r\n\r\n    ]\r\n};","import { NON_GANG_MEMBER, LEFT, MAP_NAMES, GANG_MEMBER, BATTLE_GM_MUSIC, RIGHT } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { hospital } from '../../Maps/hospital';\r\n\r\n\r\nexport const _hospital = {\r\n    /* Compulsory */\r\n\r\n    name: MAP_NAMES.hospital,\r\n\r\n    map: hospital,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [6, 5],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n        {\r\n            //tribe\r\n            id: 0,\r\n            name: \"Gambit\",\r\n            skin: SKINS[\"tribe_2\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[3, 8]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 1500,\r\n            battle: true,\r\n            level: 4,\r\n            battlerType: GANG_MEMBER,\r\n            battleMusic: BATTLE_GM_MUSIC,\r\n        },\r\n\r\n        {   //prop\r\n            id: 1,\r\n            name: \"Rocky\",\r\n            skin: SKINS[\"friend_8\"],\r\n            direction: LEFT,\r\n            stationary: false,\r\n            pathArr: [[3,9]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 3000,\r\n        },\r\n\r\n        {\r\n            //battler\r\n            id: 2,\r\n            name: \"Patient\",\r\n            skin: SKINS[\"patient_1\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[3,0], [3, 1], [3,2]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 1500,\r\n            battle: true,\r\n            level: 2,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n\r\n        {   //prop\r\n            id: 3,\r\n            name: \"Luke\",\r\n            skin: SKINS[\"friend_2\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[6,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 3000,\r\n        },\r\n\r\n        {   //prop\r\n            id: 4,\r\n            name: \"Skywalker\",\r\n            skin: SKINS[\"friend_3\"],\r\n            direction: LEFT,\r\n            stationary: false,\r\n            pathArr: [[6,1]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 3000,\r\n        },\r\n\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [7, 5],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import React from 'react';\r\nimport { PROPS_PATH } from '../helpers/constants';\r\nimport { getFontSize } from '../helpers/funcs';\r\n\r\nconst Loading = (props) => {\r\n    return(\r\n    <div style={{width: '100%', height:'100%', display:'flex', justifyContent:'center', alignItems:'center'}}>\r\n        <div id=\"loading\" style={{display:'flex', flexDirection:'column', padding: '5px', alignItems:'center'}}>\r\n            <div  style={{}}><img className=\"rotate\" style={{width:250, height:250}} src={`${PROPS_PATH}/loading.png`} alt=\"Loading\"></img></div>\r\n            <p style={{fontSize: getFontSize(2.5), fontFamily:'gameboy', color:'white'}}> {props.msg}</p>\r\n        </div>\r\n    </div>);\r\n}\r\n\r\nexport default Loading;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ROCK, PAPER, SCISSORS, SPACE_KEY, BATTLE_END_MUSIC, BEEP_SOUND, PROPS_PATH } from '../helpers/constants';\r\nimport { BattleHandleMove, BattleMoveIndexToStr, BattleEndIntro, CloseBattleSequence } from '../redux/ActionCreators';\r\nimport { centerBgImg, solidBorder, getKeyDiv, getLevelColor, playSoundEffect, getFontSize } from '../helpers/funcs';\r\nimport ReactHowler from 'react-howler';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        battle: state.battle,\r\n    })\r\n}\r\n\r\nconst mapDispatchtoProps = dispatch => {\r\n    return({\r\n        submitMove: (move) => { dispatch(BattleHandleMove(parseInt(move))); } ,\r\n        endIntro: () => {dispatch(BattleEndIntro());}, \r\n        closeBattle: () => {dispatch(CloseBattleSequence())},\r\n    })\r\n}\r\n\r\nclass HealthBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = null;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.props.blink) {\r\n            this.timeout = setTimeout(function(){\r\n                this.hb.classList.add('blinkmomentary');\r\n            }.bind(this), 600);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    render() {\r\n        if(this.hb) {\r\n            this.hb.classList.remove('blinkmomentary');\r\n        }\r\n\r\n        return(\r\n            <div ref={hb => this.hb = hb} style={{width:'90%', height: '50%', display: 'flex', flexDirection: 'row', justifyContent:'space-between', alignItems:'center' }}>\r\n                <div style={{fontSize: getFontSize(2), marginRight:'10px'}}>HP</div>\r\n                <div style={{ position: 'relative', width:'90%', height: '30%',...solidBorder(1, 'white', 0), backgroundColor: 'white' }}>\r\n                    <div style={{ width:`${(this.props.currhealth/this.props.maxhealth)*100}%`, height:'100%', ...solidBorder(0, 'white', 0), backgroundImage: 'linear-gradient(mediumseagreen, forestgreen, mediumseagreen)'}}>\r\n                    </div>\r\n                    <div style={{position:'absolute', left:'50%', top:'50%', transform: 'translate(-50%, -50%)',fontSize:getFontSize(2)}}>{Math.floor((this.props.currhealth/this.props.maxhealth)*100)}%</div>\r\n                </div>\r\n            </div>\r\n        );\r\n     }\r\n}\r\n\r\n\r\nconst PlayerInfo = (props) => {\r\n\r\n    const style = {\r\n        width: '40%',\r\n        height: '100%',\r\n        backgroundColor: getLevelColor(props.player.level),\r\n        ...solidBorder(2, 'black', 5),\r\n        color: 'black',\r\n        fontSize: getFontSize(2.5),\r\n        fontFamily: 'gameboy_lg',\r\n        display: 'flex',\r\n        flexDirection: props.reverse? 'row-reverse' : 'row',\r\n        justifyContent:'space-between'\r\n    }\r\n    return(\r\n        <div style={style}>\r\n            <div style={{width:'30%', height:'90%', alignSelf:'center', margin: '5px', ...centerBgImg(`${props.player.src}/head.png`, \"lightgrey\"), ...solidBorder(2, 'grey', 5) }}/>\r\n            <div style={{width:'70%', height:'100%', display:'flex', flexDirection:'column', justifyContent:'space-around', alignSelf:'center', margin: '5px'}}>\r\n                <div style={{display: 'flex', justifyContent:'space-between'}}>\r\n                    <div>{props.player.name}</div>\r\n                    <div style={{color:'yellow', fontSize:getFontSize(2)}}>Lvl:{props.player.level}</div>\r\n                </div>\r\n                <HealthBar maxhealth={props.player.maxLives} currhealth={props.player.lives} blink={props.blink}/>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nclass MoveDiv extends Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = [];\r\n        this.className = this.props.reverse? \"moveInRL\": \"moveInLR\";\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.image.style.backgroundImage = `url('${PROPS_PATH}/${BattleMoveIndexToStr(this.props.move)}.png')`;\r\n        this.image.classList.add(this.className);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.timeout = [];\r\n        this.timeout.push(setTimeout(function() {\r\n            if(this.image) {\r\n                this.image.style.backgroundImage = `url('${PROPS_PATH}/${BattleMoveIndexToStr(this.props.move)}.png')`;\r\n                this.image.classList.add(this.className);\r\n            }\r\n        }.bind(this), 50));\r\n        if(this.props.blink) {\r\n            this.timeout.push(setTimeout(function() {\r\n                if(this.image) {\r\n                    this.image.classList.add(\"blinkmomentary\");\r\n                }\r\n            }.bind(this), 600));\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.timeout.map(timeout => clearTimeout(timeout));\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            position: \"relative\",\r\n            width: '50%',\r\n            height: '100%',\r\n        }\r\n\r\n        const imgStyle = {\r\n            width: '100%',\r\n            height: '100%',\r\n            position: \"absolute\",\r\n            backgroundRepeat: 'no-repeat', \r\n            backgroundPosition:'center',\r\n            backgroundSize: 'contain',\r\n            transform: this.props.reverse? 'rotate(180deg)' : 'rotate(0deg)',\r\n        }\r\n\r\n        if(this.image) {\r\n            this.image.classList.remove(this.className);\r\n            this.image.classList.remove(\"blinkmomentary\");\r\n        };\r\n\r\n        return(\r\n                <div style={style}>\r\n                    <div ref={image => this.image=image} style={imgStyle}></div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Summary extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = null;\r\n    }\r\n\r\n    animateText(text) {\r\n        let idx = 0; const p = this.p;\r\n        const animate = function() {\r\n            if(idx > text.length)\r\n                return;\r\n            p.innerHTML = text.substring(0, idx);\r\n            idx++;\r\n            this.timeout = setTimeout(animate, 10);\r\n        }.bind(this);\r\n        animate();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.animateText(this.props.summary);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        clearTimeout(this.timeout);\r\n        this.animateText(this.props.summary);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    render() {\r\n\r\n        const style = {\r\n            border: '10px solid #db5435',\r\n            borderRadius:'20px',\r\n            width: '70%',\r\n            padding: '5px',\r\n            backgroundColor: '#639aa1',\r\n            color: 'white',\r\n            fontSize: getFontSize(3),\r\n            fontFamily: 'gameboy',\r\n            overflowWrap: 'break-word',\r\n        };\r\n\r\n        return(\r\n            <div id=\"summary\" style={style}>\r\n                <p ref={p => this.p = p}></p>\r\n            </div>\r\n        );\r\n    }     \r\n}\r\n\r\n\r\n\r\nclass BattleEnd extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n        this.handleTouchEnd = this.handleTouchEnd.bind(this);\r\n        this.continue = false;\r\n        this.continueKey = isMobile? \"TAP\": \"SPACE\";\r\n        if(this.props.winner===1) {\r\n            this.winnerStr =  `${this.props.player.name} WON!`;\r\n            this.winnerClass = \"wonBlink\";\r\n        } else {\r\n            this.winnerStr = `${this.props.player.name} LOST!`;\r\n            this.winnerClass = \"lostBlink\";\r\n        }\r\n        this.levelColor =  getLevelColor(this.props.player.level);\r\n        this.levelArrow = this.props.player.level>this.props.player.initialStats.level?` <i class=\"fa fa-arrow-up blink\"></i>`:\"\";\r\n        this.animateText = this.animateText.bind(this);\r\n        this.timeout = null;\r\n    }\r\n\r\n    handleKeyDown(event) {        \r\n        if(SPACE_KEY.includes( event.keyCode) && this.continue)\r\n            this.props.closeBattle();\r\n    }\r\n\r\n    handleTouchEnd() {\r\n        this.props.closeBattle();\r\n    }\r\n\r\n\r\n    animateText(base, from, to, speed, ref, count) {\r\n        const animate = function() {\r\n            if(from>to) {\r\n                count++;\r\n                if(count===1) {\r\n                    this.timeout = setTimeout(function() {this.animateText(\"Exp\", this.props.player.initialStats.exp, this.props.player.exp, 40, this.exp, count)}.bind(this), 200);\r\n                } else if(count===2) {\r\n                    this.timeout = setTimeout(function() {this.animateText(\"Level\", this.props.player.initialStats.level, this.props.player.level, 100, this.level, count);}.bind(this),200);\r\n                } else if (count===3) {\r\n                    this.level.style.color = this.levelColor;\r\n                    this.level.innerHTML+=this.levelArrow;\r\n                    this.cont.style.opacity = 1;\r\n                    this.continue = true;\r\n                }\r\n                return;\r\n            }\r\n            playSoundEffect(BEEP_SOUND);\r\n            ref.innerHTML = `${base}: ${from}`;\r\n            from++;\r\n            this.timeout = setTimeout(animate, speed);\r\n        }.bind(this);\r\n\r\n        animate();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        window.addEventListener('touchend', this.handleTouchEnd);\r\n        this.timeout = setTimeout(function(){this.animateText(\"Score\", 0, this.props.player.score, 40, this.score, 0)}.bind(this), 600);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n        window.removeEventListener('touchend', this.handleTouchEnd);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div  id=\"battleEnd\" className=\"moveInLR\" style={{position:'absolute', width:'100%', height:'100%', display:'flex', flexDirection:'column', justifyContent:'center', fontSize: getFontSize(2.5) ,fontFamily:'gameboy',  backgroundImage: 'repeating-linear-gradient(#def3c6, #def3c6 20px, #e7f6db 20px, #e7f6db 23px)'}}>\r\n                <div style={{width:'100%', height:'60%', display:'flex', justifyContent:'center'}}>\r\n                    <div style={{width:'60%', height: '100%', display:'flex', justifyContent:'center', backgroundColor: '#f7f8f7',...solidBorder(10, '#00b1b7', 10), color:'#5d5f5b'}}> \r\n                            <div style={{width:'40%', height:'60%', display:'flex', flexDirection:'column', alignSelf:'center'}}>\r\n                                <div style={{width:'240px', height:'240px', alignSelf:'center', ...centerBgImg(`${this.props.player.src}/head.png`, \"lightgrey\"), ...solidBorder(2, 'grey', 5) }}/>\r\n                                <div style={{alignSelf:'center', fontSize: getFontSize(3)}}>{this.props.player.name}</div>\r\n                            </div> \r\n                            <div style={{width:'50%', height:'60%', display:'flex', flexDirection:'column', alignSelf:'center', marginLeft:10, fontSize: getFontSize(2.5)}}>\r\n                                <div className={this.winnerClass} style={{alignSelf:'center', fontSize: getFontSize(3.5), marginBottom:'20px'}}>{this.winnerStr}</div>\r\n                                <div ref={score => this.score=score} style={{margin:'5px 0px 0px 10px'}}></div>\r\n                                <div  ref={exp => this.exp=exp}  style={{margin:'5px 0px 0px 10px'}}></div>\r\n                                <div  ref={level => this.level=level} style={{margin:'5px 0px 0px 10px', color: this.levelColor}}></div>\r\n                            </div>\r\n                    </div>\r\n                </div> \r\n                <div className=\"blinkContinue\" ref={cont => this.cont=cont} style={{alignSelf:'center', marginTop:'40px', opacity:0, color:'#5d5f5b'}}>{getKeyDiv(this.continueKey, 25)} to continue...</div>          \r\n            </div> \r\n        );\r\n    }\r\n}\r\n\r\nclass BattleIntro extends Component {\r\n\r\n    render() {\r\n\r\n        const character_bg = 'lightgrey';\r\n\r\n        const style={\r\n            position:'absolute', \r\n            width:'100%', height:'100%',\r\n            display:'flex', flexDirection:'column', justifyContent:'space-between',\r\n            fontFamily:'gameboy', fontSize: getFontSize(6),\r\n            backgroundColor:'white'\r\n        }\r\n\r\n        return(\r\n            <div id=\"battleIntro\" style={style}>\r\n                <div style={{position:'relative', height: '35%', backgroundColor: character_bg}}>\r\n                    <div  className=\"battleIntroRL\" style={{position:'absolute', top: '30%', width: '120px', height: '120px', ...centerBgImg(`${this.props.npc.src}/head.png`), backgroundColor: character_bg, }}></div>\r\n                </div>\r\n                <div style={{position:'relative', height: '30%', display: 'flex', alignItems:'center', justifyContent:'center'}}>\r\n                    <div className=\"battleIntroVS\">\r\n                        VS\r\n                    </div>\r\n                </div>\r\n                <div style={{position:'relative', height: '35%', backgroundColor: character_bg}}>\r\n                    <div  className=\"battleIntroLR\" style={{position:'absolute', top: '30%', width: '120px', height: '120px', ...centerBgImg(`${this.props.player.src}/head.png`), backgroundColor: character_bg}} />\r\n                </div> \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass BattleArena extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleMoveSelect = this.handleMoveSelect.bind(this);\r\n    }\r\n\r\n    handleMoveSelect(move) {\r\n        var moveelements = document.getElementsByClassName(\"move\");\r\n        for(var i = 0; i < moveelements.length; i++) {\r\n            moveelements[i].disabled = true;\r\n        }\r\n\r\n        this.props.submitMove(move);\r\n        setTimeout(function() {\r\n            var moveelements = document.getElementsByClassName(\"move\");\r\n            for(var i = 0; i < moveelements.length; i++) {\r\n                moveelements[i].disabled = false;\r\n            }\r\n        }, 1100);\r\n    }\r\n\r\n    render() {\r\n            return(\r\n                <div  id=\"battle\" style={{position:'absolute', width:'100%', height:'100%', display:'flex', flexDirection:'column', justifyContent:'space-between', backgroundImage: 'repeating-linear-gradient(#def3c6, #def3c6 20px, #e7f6db 20px, #e7f6db 23px)'}}>\r\n                    <div style={{display: 'flex', flexDirection: 'row', justifyContent:'space-between', width:'100%', height: '25%', marginBottom: '5px'}}>\r\n                         <PlayerInfo player={this.props.battle.player} reverse={false} blink={this.props.battle.lastWinner===-1} />    \r\n                         <PlayerInfo player={this.props.battle.npc} reverse={true} blink={this.props.battle.lastWinner===1}/>\r\n                    </div>\r\n                    <div style={{display: 'flex', flexDirection: 'row', justifyContent:'space-between', width:'100%', height: '50%', marginBottom: '5px'}}>\r\n                        <MoveDiv move={this.props.battle.player.lastMove} reverse={false} blink={this.props.battle.lastWinner===-1}/>\r\n                        <MoveDiv move={this.props.battle.npc.lastMove} reverse={true} blink={this.props.battle.lastWinner===1}/>\r\n                    </div>\r\n                    <div style={{display: 'flex', width: '100%', height: '25%'}}>\r\n                        <div style={{display:'flex', flexDirection:'column', justifyContent:'space-around', flexWrap:'nowrap' ,width: '30%', backgroundColor:'#f9f6d6', ...solidBorder(8, '#4d655e', 10)}}>\r\n                            <button className=\"move\" onClick={() => this.handleMoveSelect(ROCK)} style={{height:'32%',  fontFamily:'gameboy_lg', fontSize: getFontSize(3)}}>Rock</button>\r\n                            <button className=\"move\" onClick={() => this.handleMoveSelect(PAPER)} style={{height:'32%', fontFamily:'gameboy_lg', fontSize: getFontSize(3)}}>Paper</button>\r\n                            <button className=\"move\" onClick={() => this.handleMoveSelect(SCISSORS)} style={{height:'32%', fontFamily:'gameboy_lg', fontSize: getFontSize(3)}}>Scissors</button>\r\n                        </div>\r\n                        <Summary summary={this.props.battle.summary} />\r\n                    </div>\r\n                </div> \r\n            );\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Battle extends Component {\r\n\r\n    componentDidMount() {\r\n        if(this.props.battle.inIntro){\r\n            setTimeout(function() {\r\n                if(this.props) \r\n                    this.props.endIntro();\r\n            }.bind(this), 3000);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        let UI_COMPONENT = null, AUDIO_COMPONENT = null;\r\n        if(this.props.battle.inIntro) {\r\n               UI_COMPONENT =  <BattleIntro player={this.props.battle.player} npc={this.props.battle.npc} />;\r\n               AUDIO_COMPONENT = <ReactHowler src={this.props.battle.music} loop={true} html5={false} volume={0.5}/>;\r\n\r\n        } else if(this.props.battle.inEnd) {\r\n                UI_COMPONENT = <BattleEnd player={this.props.battle.player} winner={this.props.battle.finalWinner} closeBattle={this.props.closeBattle} />;\r\n                AUDIO_COMPONENT = <ReactHowler src={BATTLE_END_MUSIC} volume={0.3}/>;\r\n        \r\n        } else {\r\n               UI_COMPONENT = <BattleArena battle={this.props.battle} submitMove={this.props.submitMove} />;\r\n               AUDIO_COMPONENT = <ReactHowler src={this.props.battle.music} loop={true} html5={false} volume={0.5}/>;\r\n        } \r\n        return(\r\n            <div>\r\n                {UI_COMPONENT}\r\n                {AUDIO_COMPONENT}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Battle);","import React, { Component } from 'react';\r\nimport { BATTLE_NUM_GANG_MEMBERS} from '../helpers/constants';\r\nimport {connect} from 'react-redux';\r\nimport { solidBorder, centerBgImg, getRounded, getKeyDiv, getLevelColor, getWinPercColor, getFontSize } from '../helpers/funcs';\r\nimport { SaveGameToDisk } from '../redux/ActionCreators';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        player: state.player,\r\n    });\r\n}\r\n\r\nconst mapDispatchtoProps = dispatch => {\r\n    return({\r\n        saveGame: () => { dispatch(SaveGameToDisk()); },\r\n    });\r\n}\r\n\r\nconst bgStyle = (bgcolor, bordercolor='white') => {\r\n    return({\r\n        padding: '5px',\r\n        backgroundColor: bgcolor,\r\n        ...solidBorder(2, bordercolor , 5),\r\n    });\r\n}\r\n\r\nconst AwareComponent = (props) => {\r\n\r\n    let instruction = props.player.nearbyNPC!==null? <div>{isMobile? getKeyDiv(\"TAP\"): getKeyDiv(\"SPACE\")} to talk</div> : null;\r\n    instruction = props.player.nearbyGameObj!==null? <div>{getKeyDiv(\"P\")} to pickup</div> : instruction;\r\n\r\n    return(\r\n        <div id=\"aware\" style={{display:props.player.interacting?'none':'block'}}>\r\n            {instruction}\r\n        </div>\r\n    );\r\n}\r\n\r\nclass Stats extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSaveBtnClick = this.handleSaveBtnClick.bind(this);\r\n    }\r\n\r\n\r\n    handleSaveBtnClick() {\r\n        this.props.saveGame();\r\n    }\r\n\r\n    render() {\r\n\r\n        const bg_color = 'lightgrey';\r\n\r\n        const style = {\r\n            width:  this.props.width,\r\n            height: 80,\r\n            margin:  'auto',\r\n            marginTop: '20px',\r\n            borderLeft:'10px solid white',\r\n            borderRight:'10px solid white',\r\n            borderTop: '5px solid white',\r\n            backgroundColor: bg_color,\r\n            color: 'black',\r\n            fontFamily: 'gameboy',\r\n            fontSize: getFontSize(1.5),\r\n            display:'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems:'center',\r\n        }\r\n\r\n        const level = this.props.player.battle.level;\r\n        const winperc = getRounded(this.props.player.battle.won*100/(this.props.player.battle.won + this.props.player.battle.lost))\r\n\r\n        return(\r\n            <div id=\"stats\" style={style}>\r\n                <div style={{width:'55%', display:'flex', alignItems:'center'}}>\r\n                    <div style={{width:80, height:80, ...centerBgImg( `${this.props.player.skin.src}/head.png`), backgroundColor:bg_color}}/>\r\n                    <div style={{display:'flex', flexDirection:'column', justifyContent:'center'}}>\r\n                        <div style={{margin:'5px', alignSelf:'flex-start'}}> {this.props.player.name} </div>\r\n                        <div style={{display:'flex'}}>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle(getLevelColor(level))}}> Lvl:{level} </div>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle(getLevelColor(level))}}> Exp:{this.props.player.battle.exp} </div>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle(getWinPercColor(winperc))}}> Win%:{winperc}</div>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle('orange')}}>{`Tribes Defeated: ${Object.keys(this.props.player.battle.defeatedGangMembers).length}/${BATTLE_NUM_GANG_MEMBERS}`}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{width:'35%', height:'70%', ...solidBorder(2, '#DB5435', 10), backgroundColor:'#639AA1', color:'white', display:'flex', flexDirection:'column', justifyContent:'center', paddingLeft:'10px'}}>\r\n                    <AwareComponent player={this.props.player}/>\r\n                </div>\r\n                <div style={{display:'flex', alignItems: 'center'}}>\r\n                    <button disabled={(this.props.player.isAnimating || this.props.player.frozen || this.props.player.inBattle || this.props.player.interacting)} \r\n                            style={{margin:'5px', ...bgStyle(\"#FD974F\" , '#57ABB3'), backgroundColor: '#FD974F', fontFamily:'gameboy'}} onClick={this.handleSaveBtnClick}><FontAwesomeIcon style={{color:\"white\", marginBottom:'4px'}} size=\"2x\" icon={faSave}/> Save\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Stats);","import React, { Component } from 'react';\r\nimport { TILE_SIZE } from '../helpers/constants';\r\nimport { connect } from 'react-redux';\r\nimport { mapToViewport, getLevelColor } from '../helpers/funcs';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        player: state.player,\r\n    });\r\n}\r\n\r\nconst PlayerSprite = (props) => {\r\n    \r\n    const position = mapToViewport(props.player.position, props.viewport.start);\r\n    const playerStyle = {\r\n        position: 'absolute',\r\n        width: props.player.skin.width,\r\n        height: props.player.skin.height, \r\n        backgroundImage: `url('${props.player.skin.src}/sprite.png')`,\r\n        left: isNaN(position[0] + TILE_SIZE/2 - props.player.skin.width/2) ? 0: position[0] + (TILE_SIZE/2 - props.player.skin.width/2),\r\n        top: isNaN(position[1] + TILE_SIZE/2 - props.player.skin.height/2) ? 0: position[1] + (TILE_SIZE/2 - props.player.skin.height/2),\r\n        backgroundPosition: `${props.player.walkIndex * props.player.skin.width}px ${props.player.spriteLocation * props.player.skin.height}px`,\r\n        zIndex: 2,\r\n    };\r\n\r\n    const playermarkerstyle = {\r\n        position: 'absolute',\r\n        width: 25,\r\n        height: 25, \r\n        left: position[0],\r\n        top:  position[1],\r\n        transform: 'translate(110%, -60%)',\r\n        display: !props.player.interacting? 'block': 'none',\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div id=\"player\" style={playerStyle} />\r\n            <div style={playermarkerstyle}>\r\n                <FontAwesomeIcon className=\"wind\" style={{color:getLevelColor(props.player.battle.level), position:'absolute', left:'50%', top:'50%'}} icon={faCaretDown} size=\"2x\"/>\r\n            </div>\r\n        </div>\r\n       \r\n    );\r\n}\r\n\r\nclass Player extends Component {\r\n\r\n    \r\n    render() {\r\n\r\n        return(\r\n            <PlayerSprite player={this.props.player} viewport={this.props.viewport}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps)(Player);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSkull, faExclamation, faEnvelope } from '@fortawesome/free-solid-svg-icons'\r\nimport { UpdateNPCPosition } from '../redux/ActionCreators';\r\nimport { TILE_SIZE, GANG_MEMBER, BOSS } from '../helpers/constants';\r\nimport { customSetInterval, intervalList, clearIntervals, getLevelColor, solidBorder } from '../helpers/funcs';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        npc: state.npc,\r\n    });\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n        updateNPCPosition: function(){ dispatch(UpdateNPCPosition(this.props.self.id));},\r\n    });\r\n}\r\n\r\nclass NPC extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.battlerMarkerIcon = faExclamation;\r\n        if(this.props.self.battle) {\r\n            if(this.props.self.battlerType===BOSS || this.props.self.battlerType===GANG_MEMBER)\r\n                this.battlerMarkerIcon = faSkull;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        customSetInterval(this.props.updateNPCPosition.bind(this), this.props.self.moveInterval, this.props.self.id);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(!this.props.frozen) {\r\n            if(!(\"_\"+this.props.self.id in intervalList)) {\r\n                customSetInterval(this.props.updateNPCPosition.bind(this), this.props.self.moveInterval, this.props.self.id);\r\n            }\r\n        }\r\n    }\r\n    \r\n    render() {\r\n\r\n        const npcStyle = {\r\n            position: 'absolute',\r\n            width: this.props.self.skin.width,\r\n            height: this.props.self.skin.height, \r\n            backgroundImage: `url('${this.props.self.skin.src}/sprite.png')`,\r\n            left: this.props.self.position[0] + ((TILE_SIZE/2) - (this.props.self.skin.width/2)),\r\n            top: this.props.self.position[1] + ((TILE_SIZE/2) - (this.props.self.skin.height/2)),\r\n            backgroundPosition: `${this.props.self.walkIndex * this.props.self.skin.width}px ${this.props.self.spriteLocation * this.props.self.skin.height}px`,\r\n        }\r\n\r\n        const battlemarkerstylebase = {\r\n            position: 'absolute',\r\n            width: 25,\r\n            height: 25, \r\n            left: this.props.self.position[0],\r\n            top: this.props.self.position[1],\r\n            transform: 'translate(100%, -100%)',\r\n            display: !this.props.self.interacting && this.props.self.battle && this.props.self.defeatedCount===0 ? 'block':'none',\r\n        }\r\n\r\n        const messagestylebase = {\r\n            position: 'absolute',\r\n            width: 25,\r\n            height: 25, \r\n            left: this.props.self.position[0],\r\n            top: this.props.self.position[1],\r\n            transform: 'translate(100%, -100%)',\r\n            display: !this.props.self.interacting && !this.props.self.talkFlag? 'block':'none',\r\n        }\r\n    \r\n        return(\r\n            <div>\r\n                <div id={`NPC${this.props.self.id}`} style={npcStyle}/>\r\n                <div className=\"blink\" style={battlemarkerstylebase}>\r\n                    <div style={{position:'relative', width:'100%', height:'100%', textAlign:'center',backgroundColor:getLevelColor(this.props.self.level), ...solidBorder(1,'black',5)}}><FontAwesomeIcon icon={this.battlerMarkerIcon}/></div>\r\n                </div>\r\n                <div className=\"blink\" style={messagestylebase}>\r\n                    <FontAwesomeIcon style={{color:\"white\",  position:'absolute', left:'50%', top:'50%', transform: 'translate(-50%, -50%)'}} size=\"lg\" icon={faEnvelope}/>\r\n                </div>\r\n            </div> \r\n        ); \r\n    }  \r\n}    \r\n\r\nclass NPCManager extends Component {\r\n\r\n    componentWillUnmount() {\r\n        clearIntervals();\r\n    }\r\n    \r\n    render() {\r\n        const NPCObj = this.props.npc.list.map( npc => <NPC self={npc}  key={npc.id} updateNPCPosition={this.props.updateNPCPosition} frozen={this.props.npc.frozen}/> );\r\n\r\n        return(\r\n            <ul id=\"NPCList\">\r\n                {NPCObj}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(NPCManager);","import React, { Component } from 'react';\r\nimport { TILE_SIZE } from '../helpers/constants';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        gameobjects: state.gameobjects,\r\n    });\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n\r\n    });\r\n}\r\n\r\n    \r\nconst GameObject = (props) => {\r\n    const objStyle = {\r\n        position: 'absolute',\r\n        width: props.self.type.width,\r\n        height: props.self.type.height, \r\n        backgroundImage: `url('${props.self.type.src}')`,\r\n        left: props.self.position[0] + (TILE_SIZE/2 - props.self.type.width/2),\r\n        top: props.self.position[1] + (TILE_SIZE/2 - props.self.type.height/2),\r\n        backgroundPosition: `${props.self.type.srcpos[0]}px ${props.self.type.srcpos[1]}px`,\r\n        backgroundSize: 'contain',\r\n        transform: `rotate(${props.self.rotate}deg)`,\r\n        display: props.self.enabled? 'block':'none',\r\n    }\r\n\r\n    return(\r\n        <div id={`GObj${props.self.id}`} className={props.self.type.effects} style={objStyle}/>\r\n    ); \r\n}      \r\n\r\nclass GameObjectManager extends Component {\r\n    \r\n    render() {\r\n        const GameObj = this.props.gameobjects.map( gameobject => <GameObject self={gameobject}  key={gameobject.id} /> );\r\n\r\n        return(\r\n            <ul id=\"GameObjList\">\r\n                {GameObj}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(GameObjectManager);","import React, { Component } from 'react';\r\nimport NPCManager from './NPCManagerComponent';\r\nimport GameObjectManager from './GameObjectManagerComponent';\r\nimport ReactHowler  from 'react-howler';\r\n\r\n\r\n\r\nclass Map extends Component {\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"map\" ref={map => this.map = map} style={{width: this.props.map.width,\r\n                        height: this.props.map.height, \r\n                        left: `${this.props.viewport.start[0]}px`,\r\n                        top: `${this.props.viewport.start[1]}px`,\r\n                        position: \"absolute\",\r\n                        backgroundImage: `url('${this.props.map.src}')`,\r\n                        backgroundRepeat: 'no-repeat',\r\n                        backgroundColor: 'black', }}>\r\n                <GameObjectManager />\r\n                <NPCManager />\r\n                <ReactHowler src={this.props.map.audioSrc} loop={true} volume={0.4} html5={false}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Map;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getKeyDiv, getFontSize } from '../helpers/funcs';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return({\r\n        dialog: state.dialog,\r\n    });\r\n}\r\n\r\nconst FONT_ANIMATION = 25;\r\n\r\nclass Dialog extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.animateConversation = this.animateConversation.bind(this);\r\n        this.timeout = null;\r\n        this.next = isMobile? \"TAP\": \"SPACE\";\r\n    }\r\n\r\n    animateConversation(speakerIdx, name, content, idx, objref) {\r\n        \r\n        const animate = function() {\r\n            if(idx>content.length) {\r\n                return;\r\n            }\r\n            if(speakerIdx!==this.props.speakerIdx) {\r\n                if(speakerIdx===0) {\r\n                    objref.innerHTML = name + \": \" + content;\r\n                    return;\r\n                } else {\r\n                    objref.innerHTML = \"\";\r\n                    return;\r\n                }\r\n            }\r\n            objref.innerHTML = name + \": \" + content.substring(0, idx);\r\n            idx++;\r\n            this.timeout = setTimeout(animate, FONT_ANIMATION);\r\n        }.bind(this);\r\n        animate();\r\n    }\r\n\r\n    cleanBoard() {\r\n        this.p1.innerHTML = \"\";\r\n        this.p2.innerHTML = \"\";\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.props.isOpen) {\r\n            if(this.props.speakerIdx===0) {\r\n                const person = this.props.person1;\r\n                this.cleanBoard();\r\n                this.animateConversation(0, person.name, person.dialogs[this.props.dialogIdx], 1, this.p1);\r\n            } else {\r\n                const person = this.props.person2;\r\n                this.animateConversation(1, person.name, person.dialogs[this.props.dialogIdx], 1, this.p2);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    render() {\r\n\r\n        let POS = {};\r\n        if(this.props.position===\"top\") {\r\n            POS[\"top\"] = 0;\r\n        } else {\r\n            POS[\"bottom\"] = 0;\r\n        }\r\n\r\n        const style = {\r\n            position: 'absolute',\r\n            height: '25%',\r\n            border: '10px solid #00b4bc',\r\n            left: 0,\r\n            right: 0,\r\n            borderRadius: '10px',\r\n            padding: '5px',\r\n            backgroundColor: '#f7f8f7',\r\n            color: '#5d5f5b',\r\n            fontSize: getFontSize(2),\r\n            fontFamily: 'gameboy_lg',\r\n            display: this.props.isOpen? 'block': 'none',\r\n            overflowWrap: 'break-word',\r\n            ...POS,\r\n        };\r\n\r\n        return(\r\n            <div id=\"conversation\" style={style}>\r\n                <div style={{position:\"relative\", width:'100%', height:'100%'}}>\r\n                    <p ref={p1 => this.p1 = p1}></p>\r\n                    <p ref={p2 => this.p2 = p2}></p>\r\n                    <div className='blink' style={{position:'absolute', right:20, bottom:20}}>{getKeyDiv(this.next)}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConversationDisplay extends Component {\r\n\r\n    render() {\r\n        const dialog = this.props.dialog;\r\n        return(\r\n            <Dialog isOpen={dialog.isOpen}\r\n                    position={dialog.position}\r\n                    person1={dialog.person1}\r\n                    person2={dialog.person2}\r\n                    dialogIdx={dialog.dialogIdx}\r\n                    speakerIdx={dialog.speakerIdx}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(ConversationDisplay);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { EATABLE, HEALER, CURRENCY } from '../helpers/constants';\r\nimport { GAMEOBJECTS } from '../data/gameobjects';\r\nimport { getFontSize } from '../helpers/funcs';\r\n\r\n\r\n\r\nfunction GetInventoryItemCounts(list) {\r\n    let countObj = {}, item;\r\n    for(item of list) {\r\n        if(item.type.name in countObj)\r\n            countObj[item.type.name]+=1;\r\n        else\r\n            countObj[item.type.name] = 1;\r\n    }\r\n    return countObj;\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        inventory: state.inventory,\r\n    })\r\n}\r\n\r\nconst InventoryItem = (props) => {\r\n\r\n    const divSize = 120;\r\n\r\n    const imageStyle = {\r\n        backgroundImage: `url('${props.self.src}')`,\r\n        backgroundPosition: `${props.self.srcpos[0]}px ${props.self.srcpos[1]}px`,\r\n        width: props.self.width,\r\n        height: props.self.height,\r\n        position: 'absolute',\r\n        left: divSize/2 - props.self.width/2,\r\n        top: divSize/2 - props.self.height/2,\r\n    };\r\n\r\n    return(\r\n        <div className=\"inventorybtn\">\r\n            <div style={imageStyle}/>\r\n            <p style={{fontSize: getFontSize(2), position: 'absolute', margin: '5px', left: 5, bottom: 5}}>{props.count}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst InventoryRow = (props) => {\r\n\r\n    const countObj = GetInventoryItemCounts(props.inventorylist);\r\n    const validgameobjects = GAMEOBJECTS.filter(gameobj => gameobj.type === props.type);\r\n\r\n    const rendergameobjects = validgameobjects.map( gameobj => <InventoryItem self={gameobj} key={gameobj.id} count={ (gameobj.name in countObj)? countObj[gameobj.name]:0} />);\r\n\r\n    const style = {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        margin: '5px',\r\n        padding: '6px',\r\n        backgroundColor: 'forestgreen',\r\n        boxShadow: 'inset 0 0 5px black',\r\n        borderRadius: '10px'\r\n    };\r\n\r\n    return(\r\n        <div style={style}>\r\n            <div style={{ writingMode: 'vertical-lr', textOrientation: 'sideways-right', margin:'auto 5px', padding: '5px' }} >{props.type}</div>\r\n            {rendergameobjects}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst InventoryDialog = (props) => {\r\n\r\n    const inventoryStyle = {\r\n        position: 'absolute',\r\n        left: '50%',\r\n        top: '50%',\r\n        transform: 'translate(-50%,-50%)',\r\n        backgroundColor: 'darkgreen',\r\n        border: '5px solid white',\r\n        borderRadius: '10px',\r\n        boxShadow: 'inset 0 0 5px black',\r\n        fontFamily: 'gameboy',\r\n        color: 'white',\r\n        padding: \"5px\",\r\n        zIndex: 5,\r\n        display: props.inventory.isOpen? 'inline-block' : 'none',\r\n    };\r\n\r\n    return(\r\n            <div id=\"inventory\" style={inventoryStyle}>\r\n                <div style={{ fontSize: getFontSize(2), padding: '5px', margin:'5px', textAlign: 'center'}}>\r\n                    <p style={{ fontSize: getFontSize(2), padding: '3px', margin:'0px', display:'inline-block', border: '2px groove white'}}>Inventory</p>\r\n                </div>\r\n                <div style={{display: 'flex', padding: '5px', flexDirection: 'column', justifyContent: 'center'}}>\r\n                    <InventoryRow type={HEALER} inventorylist={props.inventory[HEALER]} />\r\n                    <InventoryRow type={EATABLE} inventorylist={props.inventory[EATABLE]} />\r\n                    <InventoryRow type={CURRENCY} inventorylist={props.inventory[CURRENCY]} />\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\n\r\nclass Inventory extends Component {\r\n\r\n    render() {\r\n        return( \r\n            <InventoryDialog inventory={this.props.inventory} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps)(Inventory);\r\n","import React from 'react';\r\nimport { solidBorder, getFontSize } from '../helpers/funcs';\r\nimport { faCheckSquare, faWindowClose } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst bgStyle = (bgcolor, bordercolor) => {\r\n    return({\r\n        padding: '5px',\r\n        backgroundColor: bgcolor,\r\n        ...solidBorder(2, bordercolor, 5),\r\n    });\r\n}\r\n\r\nconst CustomModal = (props) => {\r\n    const style = {\r\n        position: 'absolute',\r\n        width: 600,\r\n        height: 250,\r\n        ...solidBorder(5, 'grey', 5), \r\n        left:'50%',\r\n        top:'50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        zIndex: 5,\r\n        backgroundColor:'whitesmoke',\r\n        display: props.show? \"flex\": \"none\",\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around',\r\n        alignItems: 'center',\r\n        fontFamily: 'gameboy',\r\n        fontSize: getFontSize(2.5),\r\n    };\r\n\r\n    return(\r\n        <div style={style}>\r\n            <p style={{color:'black'}}>Exit to Main Menu?</p>\r\n            <div style={{display:'flex', justifyContent:'space-between'}}>\r\n                <button style={{width:'230px',  fontFamily:'gameboy', fontSize: getFontSize(2.3), ...bgStyle('MediumSeaGreen', 'green'), margin:'10px'}} onClick={props.confirmLink}>\r\n                    Confirm <FontAwesomeIcon style={{color:\"white\"}} size=\"1x\" icon={faCheckSquare}/></button>\r\n                <button style={{width:'230px', fontFamily:'gameboy', fontSize: getFontSize(2.3), ...bgStyle('OrangeRed', 'red'), margin:'10px'}} onClick={props.cancelLink}>\r\n                    Cancel <FontAwesomeIcon style={{color:\"white\"}} size=\"1x\" icon={faWindowClose}/></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomModal;","import React, {Component} from 'react';\r\nimport Player from './PlayerComponent';\r\nimport Map from './MapComponent';\r\nimport ConversationDisplay from './ConversationDisplayComponent';\r\nimport Inventory from './InventoryComponent';\r\nimport { UpdatePlayerPosition, PickupGameObject, ToggleInventory, HandleConversation } from '../redux/ActionCreators';\r\nimport { VALID_KEYCODES, ARROW_KEYCODES, SPACE_KEY, PICKUP_KEY, INVENTORY_KEY, ESC_KEY, BEEP_3_SOUND, KEYCODES } from '../helpers/constants';\r\nimport CustomModal from './CustomModalComponent';\r\nimport { playSoundEffect } from '../helpers/funcs';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n        updatePlayerPosition: (keyCode) => { dispatch(UpdatePlayerPosition(keyCode)); },\r\n        handleConversation: () => { dispatch(HandleConversation()); },\r\n        pickupObject: () => { dispatch(PickupGameObject()); },\r\n        toggleInventory: () => { dispatch(ToggleInventory()); },\r\n    });\r\n}\r\n\r\nclass World extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.touchstartX = null;\r\n        this.touchstartY = null;\r\n        this.touchendX = null;\r\n        this.touchendY = null;\r\n\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n        this.handleTouchStart = this.handleTouchStart.bind(this);\r\n        this.handleTouchMove = this.handleTouchMove.bind(this);\r\n        this.handleTouchEnd = this.handleTouchEnd.bind(this);\r\n        this.toggleExitModalState = this.toggleExitModalState.bind(this);\r\n        this.state = {\r\n            showExitModal: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        window.addEventListener('touchstart', this.handleTouchStart, false);\r\n        window.addEventListener('touchmove', this.handleTouchMove, false);\r\n        window.addEventListener('touchend', this.handleTouchEnd, false);\r\n    }\r\n    \r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n        window.removeEventListener('touchstart', this.handleTouchStart);\r\n        window.removeEventListener('touchmove', this.handleTouchMove);\r\n        window.removeEventListener('touchend', this.handleTouchEnd);\r\n\r\n    }\r\n\r\n    toggleExitModalState() {\r\n        playSoundEffect(BEEP_3_SOUND);\r\n        this.setState({\r\n            showExitModal: !this.state.showExitModal,\r\n        })\r\n    }\r\n\r\n\r\n    handleTouchStart(event) {\r\n        event.preventDefault();\r\n        this.touchstartX = this.touchendX = event.touches[0].clientX;\r\n        this.touchstartY = this.touchendY = event.touches[0].clientY;\r\n    }\r\n\r\n    handleTouchMove(event) {\r\n        event.preventDefault();\r\n        this.touchendX = event.touches[0].clientX;\r\n        this.touchendY = event.touches[0].clientY;\r\n        var xDiff = this.touchendX - this.touchstartX, \r\n            yDiff = this.touchendY - this.touchstartY;\r\n        if(Math.abs(xDiff) > Math.abs(yDiff)) {\r\n            if(xDiff > 0) {\r\n                this.props.updatePlayerPosition(KEYCODES.right);\r\n            } else if(xDiff < 80) {\r\n                this.props.updatePlayerPosition(KEYCODES.left);\r\n            }\r\n        } else {\r\n            if(yDiff > 0) {\r\n                this.props.updatePlayerPosition(KEYCODES.down);\r\n            } else if(yDiff < 0) {\r\n                this.props.updatePlayerPosition(KEYCODES.up);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleTouchEnd() {\r\n        var xDiff = Math.abs(this.touchendX - this.touchstartX), \r\n            yDiff = Math.abs(this.touchendY - this.touchstartY);\r\n        if(xDiff===0 && yDiff===0)\r\n            this.props.handleConversation();\r\n    }\r\n\r\n    handleKeyDown(event) {\r\n        var keyCode = event.keyCode;\r\n        //console.log(keyCode);\r\n        if(VALID_KEYCODES.includes(keyCode)) {\r\n            //console.log(keyCode);\r\n            event.preventDefault();\r\n            event.stopImmediatePropagation();\r\n            if(ARROW_KEYCODES.includes(keyCode)) {\r\n                this.props.updatePlayerPosition(keyCode);\r\n            } else if(SPACE_KEY.includes(keyCode)) {\r\n                this.props.handleConversation();\r\n            } else if(PICKUP_KEY.includes(keyCode)) {\r\n                this.props.pickupObject();\r\n            } else if(INVENTORY_KEY.includes(keyCode)) {\r\n                this.props.toggleInventory();\r\n            } else if(ESC_KEY.includes(keyCode)) {\r\n                this.toggleExitModalState();\r\n            }\r\n        } \r\n    }\r\n\r\n   \r\n\r\n\r\n    render() {\r\n        \r\n        const style = {\r\n            position: 'relative',\r\n            margin:  'auto',\r\n            width: this.props.width,\r\n            height: this.props.height,\r\n            border: '10px solid white',\r\n            overflow: 'hidden',\r\n            backgroundColor: 'black',\r\n        }\r\n\r\n        return(\r\n            <div ref={world => this.world = world} id=\"world\" style={style}>\r\n                    <Map map={this.props.map} viewport={this.props.viewport}/>\r\n                    <Player viewport={this.props.viewport} />\r\n                    <ConversationDisplay />\r\n                    <Inventory />\r\n                    <CustomModal show={this.state.showExitModal} confirmLink={this.props.handleBack} cancelLink={this.toggleExitModalState} />\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(World);","import React, {Component} from 'react';\r\nimport { AddMap, LoadGameFromDisk, InitViewportAction  } from '../redux/ActionCreators';\r\nimport { level } from '../data/Levels/1/index';\r\nimport { connect } from 'react-redux';\r\nimport Loading from './LoadingComponent';\r\nimport Battle from './BattleComponent';\r\nimport Stats from './StatsComponent';\r\nimport World from './WorldComponent';\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        map: state.map,\r\n        viewport: state.viewport,\r\n        battle: state.battle,\r\n        statemanager: state.statemanager,\r\n    });\r\n}\r\n\r\nconst mapDispatchtoProps = dispatch => {\r\n    return({\r\n        loadMap: (level) => { dispatch(AddMap(level)); },\r\n        loadGameFromDisk: () => { dispatch(LoadGameFromDisk()); },\r\n        initViewport: (dims) => { dispatch(InitViewportAction(dims)); },\r\n    });\r\n}\r\n\r\nclass Game extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initViewport([this.props.width, this.props.height]);\r\n        if(!this.props.loadgame)\r\n            this.props.loadMap(level);\r\n        else {\r\n            this.props.loadGameFromDisk()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        \r\n        const style = {\r\n            position: 'relative',\r\n            margin:  'auto',\r\n            width: this.props.width,\r\n            height: this.props.height,\r\n            border: '10px solid white',\r\n            overflow: 'hidden',\r\n            backgroundColor: 'black',\r\n        }\r\n\r\n        if(this.props.map.isLoading) {\r\n            return(\r\n                <div id=\"game\"  style={{...style, backgroundColor:'SlateGrey', marginTop:'60px'}}>\r\n                    <Loading msg=\"Loading Map\"/>\r\n                </div>\r\n            );\r\n        } else if (this.props.statemanager.savingState) {\r\n            return(\r\n                <div id=\"game\"  style={{...style, backgroundColor:'SlateGrey',marginTop:'60px'}}>\r\n                    <Loading msg=\"Freezing state\"/>\r\n                </div>\r\n            );\r\n        } else if(this.props.battle.isOpen) {\r\n            return(\r\n                <div id=\"game\"  style={{...style, marginTop:'60px'}}>\r\n                    <Battle battle={this.props.battle} />\r\n                </div> \r\n            );\r\n        } \r\n        else {\r\n            return(\r\n                <React.Fragment>\r\n                    <Stats width={this.props.width} />\r\n                    <World width={this.props.width} height={this.props.height} map={this.props.map} viewport={this.props.viewport} handleBack={this.props.handleBack} />\r\n                </React.Fragment>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Game);","import React, {Component} from 'react';\r\nimport { SAVED_GAME, PROPS_PATH } from '../helpers/constants';\r\nimport { solidBorder, centerBgImg, getFontSize } from '../helpers/funcs';\r\n\r\n\r\n\r\nconst checkSavedGame = () => {\r\n    try {\r\n        const serializedState = localStorage.getItem(SAVED_GAME);\r\n        return serializedState!==null;\r\n      } catch (err) {\r\n        alert(\"Issue accessing local storage. There will be problem in saving the game!\");\r\n        return false;\r\n      }\r\n}\r\n\r\n\r\n\r\nconst MenuBtn = (props) => {\r\n    \r\n    const basestyle = {\r\n        width:'350px',\r\n        padding: '10px',\r\n        fontFamily: 'pixel',\r\n        fontSize: getFontSize(2),\r\n        margin:'10px',\r\n        backgroundColor: '#FD974F',\r\n        ...solidBorder(2, '#57ABB3', 5),\r\n    };\r\n\r\n    const disbaledstyle = {\r\n        ...basestyle,\r\n        color: 'black',\r\n        opacity: '0.5',\r\n    };\r\n\r\n    if(props.disabled) {\r\n        return(\r\n            <button disabled style={disbaledstyle}>{props.title}</button>\r\n        )\r\n    } else {\r\n        return(\r\n            <button onClick={function() {props.onClick();}} style={basestyle}>{props.title}</button>\r\n        )\r\n    }\r\n}\r\n\r\nclass MainMenu extends Component {\r\n    render() {\r\n\r\n        const style = {\r\n            position: 'absolute',\r\n            left: 0, top: 0,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent:'center',\r\n            alignItems: 'center',\r\n        }\r\n\r\n        return(\r\n            <div style={{...style, width: this.props.width, height: this.props.height}}>\r\n                <div style={{position:'relative', width:'100%', height: '60%', overflow:'hidden'}}>\r\n                    <div className=\"animateTitle\" style={{position:'absolute',width:\"100%\", height:\"100%\",...centerBgImg(`${PROPS_PATH}/title.png`, null, 'auto')}}/>\r\n                </div>\r\n                <div className=\"showMenu\" style={{position:'relative', width:'100%', height: '40%', display:'flex', flexDirection:'column', alignItems:'center', opacity:0}}>\r\n                    <MenuBtn title=\"Start New Game\" disabled={false} onClick={this.props.startNewGame}/>\r\n                    <MenuBtn title=\"Load Game\" disabled={!checkSavedGame()} onClick={this.props.loadGame}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainMenu;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { centerBgImg, solidBorder, playSoundEffect, getFontSize } from '../helpers/funcs';\r\nimport { SetPlayerInfoAction, StartNewJourneyAction } from '../redux/ActionCreators';\r\nimport { BEEP_3_SOUND, PROPS_PATH } from '../helpers/constants';\r\n\r\nconst SELECT_URL = `${PROPS_PATH}/playerselect/`;\r\nconst NAME_MIN = 3, NAME_MAX = 15;\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n        initPlayerInfo: ({name, character}) => { dispatch(SetPlayerInfoAction(name, character)) },\r\n        startNewJourney: () => { dispatch(StartNewJourneyAction()); },\r\n    });\r\n}\r\n\r\nconst checkName = (name) => {\r\n    var pattern = /^[a-z]{3,15}$/i;\r\n    return pattern.test(name);\r\n}\r\n\r\nconst CharacterPane = (props) => {\r\n    return(\r\n        <div style={{width:220, height:300}} onClick={function(){ props.click(props.option);}} >\r\n            <button className={props.option===props.selected?\"selected\":\"\"}  style={{width:'100%', height:'100%', ...centerBgImg(`${SELECT_URL}${props.option}.png`, props.bgColor, 'crop')}}></button>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass PlayerSelect extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleCharacterClick = this.handleCharacterClick.bind(this);\r\n        this.handleNameChange = this.handleNameChange.bind(this);\r\n        this.validateAndSend = this.validateAndSend.bind(this);\r\n        this.state = {\r\n            character: null,\r\n            name: \"\",\r\n            errmsg:\"\"\r\n        }\r\n    }\r\n\r\n    handleNameChange(event) {\r\n        playSoundEffect(BEEP_3_SOUND);\r\n        this.setState({\r\n            name: event.target.value,\r\n            errmsg:\"\"\r\n        })\r\n    }\r\n\r\n    handleCharacterClick(option) {\r\n        playSoundEffect(BEEP_3_SOUND);\r\n        this.setState({\r\n            character: option,\r\n            errmsg:\"\"\r\n        });\r\n    }\r\n\r\n    validateAndSend() {\r\n        if(this.state.character===null) {\r\n            this.setState(\r\n                { errmsg: \"Please select an avatar!\", }\r\n            );\r\n            return;\r\n        } else if(!checkName(this.state.name)) {\r\n            this.setState(\r\n                { errmsg: `Invalid Name!`,}\r\n            );\r\n            return;\r\n        } else {\r\n            this.props.startNewJourney();\r\n            this.props.initPlayerInfo(this.state);\r\n            this.props.startJourney();\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const style = {\r\n            position: 'absolute',\r\n            left: '50%',\r\n            marginTop: 10,\r\n            transform: 'translate(-50%, 0%)',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            fontFamily: 'pixel',\r\n            fontSize: getFontSize(3),\r\n        }\r\n\r\n        return(\r\n            <div className=\"animateTitle\" style={{...style, width: '100%', height: '100%'}}>\r\n                <button onClick= {this.props.handleBack} style={{padding:'5px', marginLeft:'5px', backgroundColor: '#FD974F', alignSelf:'flex-start',...solidBorder(1, '#57ABB3', 5)}}><i className=\"fa fa-arrow-left fa-2x\"></i></button>\r\n                <div style={{margin:'20px', padding:'10px', color:'black', backgroundColor:'#FD974F', borderTop:'2px #57ABB3 solid', borderBottom:'2px #57ABB3 solid'}}>Select Your Avatar</div>\r\n                <div style={{width:'80%', height:'60%', display: 'flex', flexDirection: 'row', justifyContent:'space-between', alignItems: 'center',}}>\r\n                    <CharacterPane option=\"player_1\" click={this.handleCharacterClick} selected={this.state.character} bgColor='#FFE0C9'/>\r\n                    <CharacterPane option=\"player_2\" click={this.handleCharacterClick} selected={this.state.character} bgColor='#B0F8FF'/>\r\n                </div>\r\n                <div style={{width:'90%', height: '50px' , margin:'10px',display:'flex', justifyContent:'center', alignItems:'center'}}>\r\n                    <label htmlFor = \"player\" style={{marginRight:'20px', fontSize:getFontSize(2), color:'black'}}> Avatar name </label> \r\n                    <div style={{width:'60%', fontFamily:'pixel',}}>\r\n                        <input onChange={this.handleNameChange} type = \"text\" name = \"player\" id = \"player\" style={{width:'100%', fontFamily:'pixel' ,fontSize:getFontSize(2), color:'#57ABB3'}} value={this.state.name}/>\r\n                        <div style={{width:'100%', fontSize: getFontSize(1), color:'grey'}}>{NAME_MIN} to {NAME_MAX} english alphabet characters</div>\r\n                    </div>\r\n                </div>\r\n                <button onClick={this.validateAndSend} style={{width:350, fontFamily:'pixel',fontSize:getFontSize(2.5), margin:'50px', padding:'10px' ,backgroundColor: '#FD974F', ...solidBorder(2, '#57ABB3', 5),}}>Start Journey</button>\r\n                <p style={{color:'red', fontSize:getFontSize(2)}}>{this.state.errmsg}</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(PlayerSelect);","export const RESOURCES = [\r\n    'assets/images/80/characters/baby/head.png',\r\n    'assets/images/80/characters/baby/sprite.png',\r\n    'assets/images/80/characters/boss/head.png',\r\n    'assets/images/80/characters/boss/sprite.png',\r\n    'assets/images/80/characters/bully_1/head.png',\r\n    'assets/images/80/characters/bully_1/sprite.png',\r\n    'assets/images/80/characters/cat_black/sprite.png',\r\n    'assets/images/80/characters/cat_orange/sprite.png',\r\n    'assets/images/80/characters/cat_white/sprite.png',\r\n    'assets/images/80/characters/chef/sprite.png',\r\n    'assets/images/80/characters/crush_1/head.png',\r\n    'assets/images/80/characters/crush_1/sprite.png',\r\n    'assets/images/80/characters/crush_2/head.png',\r\n    'assets/images/80/characters/crush_2/sprite.png',\r\n    'assets/images/80/characters/crush_3/head.png',\r\n    'assets/images/80/characters/crush_3/sprite.png',\r\n    'assets/images/80/characters/crush_4/head.png',\r\n    'assets/images/80/characters/crush_4/sprite.png',\r\n    'assets/images/80/characters/extras/player_tmp/head.png',\r\n    'assets/images/80/characters/extras/player_tmp/sprite_long.png',\r\n    'assets/images/80/characters/extras/player_tmp/sprite_tmp.png',\r\n    'assets/images/80/characters/extras/prof/head.png',\r\n    'assets/images/80/characters/extras/prof/professor_80.png',\r\n    'assets/images/80/characters/extras/prof/sprite.png',\r\n    'assets/images/80/characters/friend_1/head.png',\r\n    'assets/images/80/characters/friend_1/sprite.png',\r\n    'assets/images/80/characters/friend_2/head.png',\r\n    'assets/images/80/characters/friend_2/sprite.png',\r\n    'assets/images/80/characters/friend_3/head.png',\r\n    'assets/images/80/characters/friend_3/sprite.png',\r\n    'assets/images/80/characters/friend_4/head.png',\r\n    'assets/images/80/characters/friend_4/sprite.png',\r\n    'assets/images/80/characters/friend_5/head.png',\r\n    'assets/images/80/characters/friend_5/sprite.png',\r\n    'assets/images/80/characters/friend_6/head.png',\r\n    'assets/images/80/characters/friend_6/sprite.png',\r\n    'assets/images/80/characters/friend_7/head.png',\r\n    'assets/images/80/characters/friend_7/sprite.png',\r\n    'assets/images/80/characters/friend_8/head.png',\r\n    'assets/images/80/characters/friend_8/sprite.png',\r\n    'assets/images/80/characters/friend_9/head.png',\r\n    'assets/images/80/characters/friend_9/sprite.png',\r\n    'assets/images/80/characters/kid_1/head.png',\r\n    'assets/images/80/characters/kid_1/sprite.png',\r\n    'assets/images/80/characters/kid_2/head.png',\r\n    'assets/images/80/characters/kid_2/sprite.png',\r\n    'assets/images/80/characters/kid_3/head.png',\r\n    'assets/images/80/characters/kid_3/sprite.png',\r\n    'assets/images/80/characters/nurse/head.png',\r\n    'assets/images/80/characters/nurse/sprite.png',\r\n    'assets/images/80/characters/player_1/head.png',\r\n    'assets/images/80/characters/player_1/sprite.png',\r\n    'assets/images/80/characters/player_2/head.png',\r\n    'assets/images/80/characters/player_2/sprite.png',\r\n    'assets/images/80/characters/prof/head.png',\r\n    'assets/images/80/characters/prof/sprite.png',\r\n    'assets/images/80/characters/puppy_brown/sprite.png',\r\n    'assets/images/80/characters/puppy_white/head.png',\r\n    'assets/images/80/characters/puppy_white/sprite.png',\r\n    'assets/images/80/characters/tribe_1/head.png',\r\n    'assets/images/80/characters/tribe_1/sprite.png',\r\n    'assets/images/80/characters/tribe_2/head.png',\r\n    'assets/images/80/characters/tribe_2/sprite.png',\r\n    'assets/images/80/characters/tribe_3/head.png',\r\n    'assets/images/80/characters/tribe_3/sprite.png',\r\n    'assets/images/80/characters/tribe_4/head.png',\r\n    'assets/images/80/characters/tribe_4/sprite.png',\r\n    'assets/images/80/characters/tribe_5/head.png',\r\n    'assets/images/80/characters/tribe_5/sprite.png',\r\n    'assets/images/80/objectsAndProps/enter.png',\r\n    'assets/images/80/objectsAndProps/hen.png',\r\n    'assets/images/80/objectsAndProps/items.png',\r\n    'assets/images/80/objectsAndProps/leave.png',\r\n    'assets/images/80/objectsAndProps/loading.png',\r\n    'assets/images/80/objectsAndProps/PAPER.png',\r\n    'assets/images/80/objectsAndProps/portal.png',\r\n    'assets/images/80/objectsAndProps/ROCK.png',\r\n    'assets/images/80/objectsAndProps/SCISSORS.png',\r\n    'assets/images/80/objectsAndProps/title.png',\r\n    'assets/images/80/objectsAndProps/town.png',\r\n    'assets/images/80/objectsAndProps/playerselect/player_1.png',\r\n    'assets/images/80/objectsAndProps/playerselect/player_2.png',\r\n]","import React, {Component} from 'react';\r\nimport Game from './GameComponent';\r\nimport MainMenu from './MainMenuComponent';\r\nimport PlayerSelectComponent from './PlayerSelectComponent';\r\nimport { getViewportDim, playSoundEffect, centerBgImg} from '../helpers/funcs';\r\nimport ReactHowler from 'react-howler';\r\nimport { MAIN_MENU_MUSIC, BEEP_2_SOUND, BEEP_LONG_SOUND, PROPS_PATH } from '../helpers/constants';\r\nimport Loading from './LoadingComponent';\r\nimport { RESOURCES } from '../data/resourcepaths';\r\n\r\n\r\nconst LoadingResources = (props) => {\r\n\r\n    const style = {\r\n        position: 'relative',\r\n        margin: '60px auto',\r\n        border: '10px solid white',\r\n        overflow: 'hidden',\r\n        width: props.width,\r\n        height: props.height,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor:'black',\r\n    }\r\n\r\n    return(\r\n        <div style={style}>\r\n            <div style={{width:'100%', height:'60%'}}>\r\n                <Loading msg={props.msg}/>\r\n            </div>\r\n            <div style={{width:'60%', height:'40%'}}>\r\n                <progress style={{position:'relative', width:'100%', height:20}} value={props.done} max={props.total}>\r\n                    {`${Math.ceil(props.done/props.total*100)}%`}\r\n                </progress>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            menu: false,\r\n            playerselect: false,\r\n            game: false,\r\n            loadgame: false,\r\n            screenDim: getViewportDim(window.screen.width, window.screen.height),\r\n            resourceTotal: RESOURCES.length,\r\n            resourceDone: 0,\r\n        }\r\n        this.bg = `${PROPS_PATH}/town.png`;\r\n        this.handleStartNewGame = this.handleStartNewGame.bind(this);\r\n        this.handleLoadGame = this.handleLoadGame.bind(this);\r\n        this.handleStartJourney = this.handleStartJourney.bind(this);\r\n        this.handleBack = this.handleBack.bind(this);\r\n    }\r\n\r\n    \r\n\r\n    preloadPictures (pictureUrls, callback) {\r\n        let i,\r\n            j,\r\n            loaded = 0;\r\n    \r\n        for (i = 0, j = pictureUrls.length; i < j; i++) {\r\n            (function (img, src) {\r\n                img.onload = function () {\r\n                    this.setState({\r\n                        resourceDone: ++loaded,\r\n                    });                               \r\n                    if (loaded >= pictureUrls.length && callback) {\r\n                        callback();\r\n                    }\r\n                }.bind(this);\r\n                img.src = src;\r\n            }.bind(this) (new Image(), pictureUrls[i]));\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        \r\n        const renderMenu = function() {\r\n            this.setState({\r\n                loading: false,\r\n                menu: true,\r\n                playerselect: false,\r\n                game: false,\r\n                loadgame: false,\r\n            });\r\n        }.bind(this);\r\n\r\n        this.preloadPictures(RESOURCES, renderMenu);\r\n    }\r\n\r\n    handleStartNewGame() {\r\n        playSoundEffect(BEEP_2_SOUND);\r\n        this.setState({\r\n            menu: false,\r\n            playerselect: true,\r\n            game: false,\r\n            loadgame: false,\r\n        });\r\n    }\r\n\r\n    handleLoadGame() {\r\n        playSoundEffect(BEEP_LONG_SOUND);\r\n        this.setState({\r\n            menu: false,\r\n            playerselect: false,\r\n            game: true,\r\n            loadgame: true,\r\n        });\r\n    }\r\n\r\n    handleStartJourney() {\r\n        playSoundEffect(BEEP_LONG_SOUND);\r\n        this.setState({\r\n            menu: false,\r\n            playerselect: false,\r\n            game: true,\r\n            loadgame: false,\r\n        })\r\n    }\r\n\r\n    handleBack() {\r\n        playSoundEffect(BEEP_2_SOUND);\r\n        this.setState({\r\n            menu: true,\r\n            playerselect: false,\r\n            game: false,\r\n            loadgame: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        \r\n        const style = {\r\n            position: 'relative',\r\n            margin: '60px auto',\r\n            border: '10px solid white',\r\n            overflow: 'hidden',\r\n            width: this.state.screenDim[0],\r\n            height: this.state.screenDim[1],\r\n            ...centerBgImg(this.bg, 'black', 'cover'),\r\n        }\r\n\r\n        let UI_COMPONENT = null, AUDIO_COMPONENT = null;\r\n\r\n        if(this.state.loading) {\r\n            UI_COMPONENT = <LoadingResources width={this.state.screenDim[0]} height={this.state.screenDim[1]} msg=\"Loading Resources\" total={this.state.resourceTotal} done={this.state.resourceDone}/>;\r\n            AUDIO_COMPONENT = null;\r\n        } else if(this.state.menu) {\r\n            UI_COMPONENT = <div style={style}><MainMenu width={this.state.screenDim[0]} height={this.state.screenDim[1]} startNewGame={this.handleStartNewGame} loadGame={this.handleLoadGame} /></div>;\r\n            AUDIO_COMPONENT = <ReactHowler src={MAIN_MENU_MUSIC} loop={true} html5={false} volume={0.4}/>;\r\n        } else if(this.state.playerselect) {\r\n            UI_COMPONENT = <div style={style}><PlayerSelectComponent width={this.state.screenDim[0]} height={this.state.screenDim[1]}  startJourney={this.handleStartJourney} handleBack={this.handleBack}/></div>;\r\n            AUDIO_COMPONENT = <ReactHowler src={MAIN_MENU_MUSIC} loop={true} html5={false}  volume={0.4}/>;\r\n        } else if(this.state.game) {\r\n            UI_COMPONENT = <Game width={this.state.screenDim[0]} height={this.state.screenDim[1]} loadgame={this.state.loadgame} handleBack={this.handleBack}/>;\r\n            AUDIO_COMPONENT = null;\r\n        } else {\r\n            UI_COMPONENT = <div style={{fontFamily:'gameboy', fontSize:'20px', color:'white'}}>Unknown error. PLEASE RELOAD PAGE.</div>;\r\n            AUDIO_COMPONENT = null;\r\n        }\r\n\r\n        return(\r\n            <React.Fragment>\r\n                {UI_COMPONENT}\r\n                {AUDIO_COMPONENT}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport { DRIP_SOUND, BEEP_SOUND, BEEP_2_SOUND, BEEP_3_SOUND, BEEP_LONG_SOUND, PICK_SOUND, LASER_SOUND, BATTLE_END_MUSIC } from '../helpers/constants';\r\n\r\nconst AudioEffects = () => {\r\n    return(\r\n        <React.Fragment>\r\n            <audio src={DRIP_SOUND} preload=\"auto\"/>\r\n            <audio src={BEEP_SOUND} preload=\"auto\"/>\r\n            <audio src={BEEP_2_SOUND} preload=\"auto\"/>\r\n            <audio src={BEEP_3_SOUND} preload=\"auto\"/>\r\n            <audio src={BEEP_LONG_SOUND} preload=\"auto\"/>\r\n            <audio src={PICK_SOUND} preload=\"auto\"/>\r\n            <audio src={LASER_SOUND} preload=\"auto\"/>\r\n            <audio src={BATTLE_END_MUSIC} preload=\"auto\"/>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default AudioEffects;","import * as ActionTypes from './ActionTypes';\r\nimport { DOWN } from '../helpers/constants';\r\nimport { getValue } from '../helpers/funcs';\r\nimport { SKINS } from '../data/skins';\r\n\r\nconst DEFAULT_SKIN = \"player_1\";\r\n\r\nconst INITIAL_STATE = { \r\n                        name: \"PLAYER\",\r\n                        skin: SKINS[DEFAULT_SKIN],\r\n                        position: [0, 0],\r\n                        direction: DOWN,\r\n                        spriteLocation: SKINS[DEFAULT_SKIN][DOWN],\r\n                        isAnimating: false,\r\n                        nextPosition: [],\r\n                        walkIndex: 0,\r\n                        frameInterval: 0,\r\n                        interacting: false,\r\n                        frozen: false,\r\n                        nearbyNPC: null,\r\n                        nearbyGameObj: null,\r\n                        inBattle: false,\r\n                        battle: {\r\n                                level: 1,\r\n                                exp: 0,\r\n                                won: 0,\r\n                                lost: 0,\r\n                                defeatedGangMembers:{},\r\n                        }\r\n        };\r\n\r\nconst getUpdatedGangMembersList = (defeatedGangMembers, newGangMember) => {\r\n        let newDefeatedGangMembers = {...defeatedGangMembers};\r\n        if(newGangMember!==null) {\r\n                newDefeatedGangMembers[newGangMember] = 1;\r\n        } \r\n        return(newDefeatedGangMembers);\r\n}\r\n\r\n\r\nexport const Player = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n                return({\r\n                        ...INITIAL_STATE,\r\n                });\r\n        case ActionTypes.ADD_MAP:\r\n                return({\r\n                        ...state, \r\n                        position: action.payload.player.position, \r\n                        direction: getValue(state.direction, action.payload.player.direction),\r\n                        spriteLocation: state.skin[getValue(state.direction, action.payload.player.direction)],\r\n                        isAnimating: false,\r\n                        nextPosition: [],\r\n                        walkIndex: 0,\r\n                        interacting: false,\r\n                        frozen: false,\r\n                        nearbyNPC: null,\r\n                        nearbyGameObj: null,\r\n                        inBattle: false,\r\n                        battle: {\r\n                                ...action.payload.secondary? state.battle:INITIAL_STATE.battle, \r\n                        }\r\n                });\r\n        case ActionTypes.SET_PLAYER_INFO:\r\n                return({\r\n                        ...state,\r\n                        name: action.payload.name,\r\n                        skin: SKINS[action.payload.skinIdx],\r\n\r\n                });\r\n        case ActionTypes.UPDATE_PLAYER_POSITION:\r\n                return({...state, \r\n                        position: action.payload.position, \r\n                        walkIndex: (state.walkIndex+1)%state.skin.walkSpriteCount\r\n                });\r\n        case ActionTypes.UPDATE_PLAYER_DIRECTION:\r\n                return({...state, \r\n                        direction: action.payload.direction, \r\n                        spriteLocation: state.skin[action.payload.direction]\r\n                });\r\n        case ActionTypes.UPDATE_PLAYER_ANIMATION:\r\n                return({...state, \r\n                        isAnimating: action.payload.isAnimating, \r\n                        nextPosition: action.payload.newpos, \r\n                        walkIndex: 0\r\n                });\r\n        case ActionTypes.SET_DIALOG_STATUS:\r\n                return({\r\n                        ...state,\r\n                        interacting: true,\r\n                });\r\n        case ActionTypes.RESET_DIALOG_STATUS:\r\n                return({\r\n                        ...state,\r\n                        interacting: false,\r\n                });\r\n        \r\n        case ActionTypes.SAVE_STATE_INITIATED:\r\n                return({\r\n                        ...state,\r\n                        frozen: true,\r\n                });\r\n        case ActionTypes.SAVE_STATE_END:\r\n                return({\r\n                        ...state,\r\n                        frozen: false,\r\n                });\r\n\r\n        case ActionTypes.RESTORE_STATE:\r\n                return({\r\n                        ...action.payload.state.player,\r\n                        battle: {...state.battle},\r\n                        direction: state.direction,\r\n                        spriteLocation: state.skin[state.direction],\r\n                        frozen: false,\r\n                });\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                return({\r\n                        ...action.payload.state.player,\r\n                                frozen: false,\r\n                });\r\n        case ActionTypes.UPDATE_NEARBY_NPC: \r\n                return({\r\n                        ...state,\r\n                        nearbyNPC: action.payload.npcId,\r\n                });\r\n        case ActionTypes.UPDATE_NEARBY_GAMEOBJ: \r\n                return({\r\n                        ...state,\r\n                        nearbyGameObj: action.payload.id,\r\n                });\r\n        case ActionTypes.START_BATTLE:\r\n                return({\r\n                        ...state,\r\n                        inBattle: true,\r\n                });\r\n        case ActionTypes.END_BATTLE:\r\n                return({\r\n                        ...state,\r\n                        inBattle: false,\r\n                        battle: {\r\n                                level: action.payload.player.newlevel,\r\n                                exp: action.payload.player.newexp,\r\n                                won: action.payload.battleWinner===1? state.battle.won+1: state.battle.won,\r\n                                lost: action.payload.battleWinner===-1? state.battle.lost+1: state.battle.lost,\r\n                                defeatedGangMembers: getUpdatedGangMembersList(state.battle.defeatedGangMembers, action.payload.player.gangMember),\r\n                        },\r\n                });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\n\r\nconst INITIAL_STATE = { \r\n                        name: null,\r\n                        tiles: [],\r\n                        width: 0,\r\n                        height: 0,\r\n                        isLoading: true,\r\n                        src: null,\r\n                        audioSrc: null,\r\n                    }\r\n\r\nexport const Map = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            });\r\n\r\n        case ActionTypes.ADD_MAP:\r\n            return({...state, \r\n                    name: action.payload.name,\r\n                    tiles: action.payload.tiles, \r\n                    width: action.payload.width,\r\n                    height: action.payload.height,\r\n                    src: action.payload.src,\r\n                    audioSrc: action.payload.audioSrc,\r\n                    isLoading: false,\r\n                    });\r\n        case ActionTypes.MAP_LOADING:\r\n            return({\r\n                ...state,\r\n                isLoading: true,\r\n            });\r\n        case ActionTypes.RESTORE_STATE:\r\n            return({\r\n                ...action.payload.state.map,\r\n                isLoading: false,\r\n            });\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return({\r\n                ...action.payload.state.map,\r\n                isLoading: false,\r\n            });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n                        start: [0, 0],\r\n                        end: [],\r\n                        width:0,\r\n                        height:0,\r\n                        viewportDims:[0, 0], //width X height\r\n                        camera:[[0,0],[0,0]],\r\n                    }\r\n\r\nexport const ViewPort = ( state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.INIT_VIEWPORT_DIMS:\r\n            return({\r\n                ...state,\r\n                viewportDims: action.payload.viewportDims,\r\n                camera: action.payload.camera,\r\n            })\r\n        case ActionTypes.ADD_MAP:\r\n            return({...state,\r\n                        start: action.payload.viewport.start,\r\n                        end: action.payload.viewport.end,\r\n                        width:action.payload.width, \r\n                        height: action.payload.height,\r\n                    });\r\n        case ActionTypes.UPDATE_MAP_ORIGIN:\r\n            return({...state,  start: action.payload.origin,\r\n                                end: [action.payload.origin[0]+state.width, action.payload.origin[1]+state.height]});\r\n\r\n        case ActionTypes.RESTORE_STATE:\r\n            return({\r\n                ...action.payload.state.viewport,\r\n            });\r\n\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return({\r\n                ...action.payload.state.viewport,\r\n            });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport {tileToMapCoordinates} from '../helpers/funcs';\r\nimport {TILE_SIZE } from '../helpers/constants';\r\n\r\nconst INITIAL_STATE = {\r\n    list:  [],\r\n    frozen: false,\r\n  }\r\n\r\nexport const NPC = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            });\r\n\r\n        case ActionTypes.ADD_MAP:\r\n            if(!action.payload.npc)\r\n                return state;\r\n            return(\r\n                { \r\n                    frozen: false,\r\n                    list :action.payload.npc.map( npc => {\r\n                        return({...npc, \r\n                                position: tileToMapCoordinates(npc.pathArr[0], TILE_SIZE),\r\n                                spriteLocation: npc.skin[npc.direction],\r\n                                defaultDirection: npc.direction,\r\n                                isAnimating: false,\r\n                                nextPosition: [],\r\n                                walkIndex: 0,\r\n                                pathIdx: 0,\r\n                                pathDir: 1,\r\n                                lastUpdated: performance.now(),\r\n                                isWaiting: false,\r\n                                interacting: false,\r\n                                battle: 'battle' in npc? npc.battle: false,\r\n                                battlerType: 'battlerType' in npc? npc.battlerType: null,\r\n                                inBattle: false,\r\n                                battleFlag: 'battleFlag' in npc? npc.battleFlag : false,\r\n                                defeatedCount: 'defeatedCount' in npc? npc.defeatedCount: 0,\r\n                                talkFlag: 'talkFlag' in npc? npc.talkFlag: true,\r\n                            })\r\n                        })\r\n                }\r\n            );\r\n        case ActionTypes.UPDATE_NPC_POSITION:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                            if(npc.id===action.payload.id)\r\n                                return({...npc, \r\n                                        position: action.payload.position, \r\n                                        walkIndex: (npc.walkIndex+1)%npc.skin.walkSpriteCount,\r\n                                });\r\n                            else\r\n                                return npc;\r\n                    })\r\n                });\r\n                    \r\n        case ActionTypes.UPDATE_NPC_DIRECTION:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                        if(npc.id===action.payload.id)\r\n                            return({...npc,  \r\n                                    direction: action.payload.direction, \r\n                                    spriteLocation: npc.skin[action.payload.direction]\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n\r\n        case ActionTypes.UPDATE_NPC_ANIMATION:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                        if(npc.id===action.payload.id) {\r\n                            let pathIdx = npc.pathIdx, \r\n                                pathDir = npc.pathDir,\r\n                                isWaiting = npc.isWaiting, lastUpdated = npc.lastUpdated;\r\n                            \r\n                            if(!action.payload.isAnimating) {\r\n                                lastUpdated = performance.now();\r\n                                pathIdx = pathIdx + pathDir;\r\n                                if(pathDir===1 && pathIdx===(npc.pathArr.length-1)) {\r\n                                    isWaiting = true;\r\n                                    pathDir = -1;\r\n                                } else if(pathDir===-1 && pathIdx===0) {\r\n                                    isWaiting = true;\r\n                                    pathDir = 1;\r\n                                }\r\n                            }\r\n                            return({...npc,  \r\n                                    isAnimating: action.payload.isAnimating, \r\n                                    nextPosition: action.payload.newpos, \r\n                                    pathIdx: pathIdx, \r\n                                    pathDir: pathDir,\r\n                                    isWaiting: isWaiting,\r\n                                    lastUpdated: lastUpdated\r\n                            });\r\n                        } else\r\n                            return npc;\r\n                    })\r\n                });\r\n                    \r\n        case ActionTypes.RESET_NPC_WAITING:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                        if(npc.id===action.payload.id)\r\n                            return({...npc,  \r\n                                    isWaiting: false,\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n        case ActionTypes.SET_DIALOG_STATUS:\r\n                return({\r\n                    ...state,\r\n                    list:  state.list.map( npc => {\r\n                        if(npc.id===action.payload.npcId)\r\n                            return({...npc,  \r\n                                    interacting: true,\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n        case ActionTypes.RESET_DIALOG_STATUS:\r\n                    return({\r\n                        ...state,\r\n                        list: state.list.map( npc => {\r\n                            if(npc.id===action.payload.npcId)\r\n                                return({...npc,  \r\n                                        interacting: false,\r\n                                        talkFlag: true,\r\n                                    });\r\n                            else\r\n                                return npc;\r\n                        })\r\n                    });\r\n        case ActionTypes.SAVE_STATE_INITIATED:\r\n                return({\r\n                    ...state,\r\n                    frozen: true,\r\n                });\r\n        case ActionTypes.SAVE_STATE_END:\r\n                return({\r\n                    ...state,\r\n                    frozen: false,\r\n                });\r\n        case ActionTypes.RESTORE_STATE:\r\n                return({\r\n                    list: action.payload.state.npc.list.map( npc => {\r\n                        return({\r\n                            ...npc,\r\n                            isWaiting: false,\r\n                        });\r\n                    } ),\r\n                    frozen: false,\r\n                });\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                return({\r\n                    list: action.payload.state.npc.list.map( npc => {\r\n                        return({\r\n                            ...npc,\r\n                            isWaiting: false,\r\n                        });\r\n                    } ),\r\n                    frozen: false,\r\n                });\r\n\r\n        case ActionTypes.START_BATTLE:\r\n                return({\r\n                    ...state,\r\n                    list:  state.list.map( npc => {\r\n                        if(npc.id===action.payload.npc.id)\r\n                            return({...npc,  \r\n                                    inBattle: true,\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n        case ActionTypes.END_BATTLE:\r\n                    return({\r\n                        ...state,\r\n                        list: state.list.map( npc => {\r\n                            if(npc.id===action.payload.npcId)\r\n                                return({...npc,  \r\n                                        inBattle: false,\r\n                                        defeatedCount: action.payload.battleWinner===1? npc.defeatedCount+1:npc.defeatedCount,\r\n                                        battleFlag: true,\r\n                                    });\r\n                            else\r\n                                return npc;\r\n                        })\r\n                    });\r\n        case ActionTypes.ENABLE_PORTAL: \r\n                    return({\r\n                        ...state,\r\n                        list: state.list.map( npc => {\r\n                            if((\"enablesPortal\" in npc) && npc.enablesPortal===action.payload.portalname)\r\n                                return({...npc,  \r\n                                        enablesPortal: null,\r\n                                    });\r\n                            else\r\n                                return npc;\r\n                        })\r\n                    });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport {tileToMapCoordinates} from '../helpers/funcs';\r\nimport {TILE_SIZE, PORTAL_ENTER } from '../helpers/constants';\r\n\r\n\r\nexport const GameObject = (state = [], action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return([]);\r\n            \r\n        case ActionTypes.ADD_MAP:\r\n            let id=0;\r\n            if(!action.payload.gameobjects)\r\n                return state;\r\n            return(\r\n                action.payload.gameobjects.map( gameobject => {\r\n                    return({...gameobject, \r\n                            id: id++,\r\n                            position: tileToMapCoordinates(gameobject.position, TILE_SIZE),\r\n                            enabled: gameobject.type && gameobject.type.name===PORTAL_ENTER? (\"enabled\" in gameobject? gameobject.enabled : false) : true,\r\n                    })\r\n                })\r\n            );\r\n        case ActionTypes.ADD_OBJECT_TO_INVENTORY:\r\n            return(state.filter( gameobject => (gameobject.id !== action.payload.object.id)));\r\n        \r\n        case ActionTypes.ENABLE_PORTAL:\r\n            return(state.map( gameobject => {\r\n                if(gameobject.type && gameobject.type.name===PORTAL_ENTER && gameobject.target.name===action.payload.portalname) {\r\n                    return({\r\n                        ...gameobject,\r\n                        enabled: true,\r\n                    });\r\n                } else \r\n                    return gameobject;\r\n            }));\r\n\r\n        case ActionTypes.RESTORE_STATE:\r\n            return(\r\n                action.payload.state.gameobjects.concat()\r\n            );\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return(\r\n                    action.payload.state.gameobjects.concat()\r\n            );\r\n\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    isOpen: false, \r\n    position: \"top\",\r\n    person1: {},\r\n    person2: {},\r\n    dialogIdx: 0,\r\n    speakerIdx: 0,\r\n    npcId: null,\r\n    battleConversation: false,\r\n };\r\n\r\nexport const Dialog = (state = {...INITIAL_STATE}, action) => {\r\n            switch(action.type) {\r\n                case ActionTypes.START_NEW_JOURNEY:\r\n                    return({\r\n                        ...INITIAL_STATE\r\n                    });\r\n                case ActionTypes.SET_DIALOG_STATUS:\r\n                    return({\r\n                        ...INITIAL_STATE,\r\n                        isOpen: true,\r\n                        position: action.payload.position,\r\n                        person1: action.payload.person1,\r\n                        person2: action.payload.person2,\r\n                        npcId: action.payload.npcId,\r\n                        dialogIdx: 0,\r\n                        speakerIdx: 0,\r\n                        battleConversation: action.payload.battleConversation, \r\n                    });\r\n                case ActionTypes.RESET_DIALOG_STATUS:\r\n                        return({\r\n                            ...INITIAL_STATE,\r\n                        });\r\n                case ActionTypes.NEXT_DIALOG:\r\n                    if(state.speakerIdx===0) {\r\n                        return({\r\n                            ...state,\r\n                            speakerIdx: 1,\r\n                        })\r\n                    } else {\r\n                        return({\r\n                            ...state,\r\n                            speakerIdx: 0,\r\n                            dialogIdx: (state.dialogIdx + 1) % state.person1.dialogs.length,\r\n                        })\r\n                    }\r\n                case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                        return({\r\n                            ...INITIAL_STATE,\r\n                        });\r\n                default: \r\n                    return state;\r\n            }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    isOpen: false, \r\n    HEALER : [],\r\n    CURRENCY: [],\r\n    EATABLE: [],\r\n };\r\n\r\nexport const Inventory = (state = {...INITIAL_STATE}, action) => {\r\n            switch(action.type) {\r\n                case ActionTypes.START_NEW_JOURNEY:\r\n                    return({\r\n                        ...INITIAL_STATE,\r\n                    });\r\n                    \r\n                case ActionTypes.TOGGLE_INVENTORY_DISPLAY:\r\n                    return({\r\n                        ...state,\r\n                        isOpen: !state.isOpen,\r\n                    });\r\n\r\n                case ActionTypes.ADD_OBJECT_TO_INVENTORY:\r\n                    let statecpy = {...state};\r\n                    statecpy[action.payload.object.type.type] = state[action.payload.object.type.type].concat(action.payload.object);\r\n                    return(statecpy);\r\n\r\n                case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                    return({\r\n                        ...action.payload.state.inventory,\r\n                        isOpen: false,\r\n                    });\r\n\r\n                default: \r\n                    return state;\r\n            }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n                        savingState: false,\r\n                        prevStates: [],\r\n                    }\r\n\r\nexport const StateManager = ( state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            })\r\n        case ActionTypes.SAVE_STATE_INITIATED:\r\n            return({\r\n                    ...state,\r\n                    savingState: true,\r\n            });\r\n        case ActionTypes.SAVE_STATE:\r\n            const cpyPrevStates = [...state.prevStates];\r\n            cpyPrevStates.push(action.payload.state);\r\n            return({\r\n                ...state,\r\n                prevStates: cpyPrevStates,\r\n                savingState: false,\r\n            });\r\n        case ActionTypes.SAVE_STATE_END:\r\n            return({\r\n                    ...state,\r\n                    savingState: false,\r\n            });\r\n        case ActionTypes.RESTORE_STATE:\r\n            let statecpy = {\r\n                ...state,\r\n                prevStates: action.payload.prevStates,\r\n                savingState: false,\r\n            };\r\n            statecpy[action.payload.mapinfo.map] = {\r\n                gameobjects: action.payload.mapinfo.gameobjects,\r\n                npc: action.payload.mapinfo.npc,\r\n            }\r\n            return(statecpy);\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return({\r\n                ...action.payload.state.statemanager,\r\n                savingState: false,\r\n            });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport { BATTLE_MUSIC } from '../helpers/constants';\r\n\r\n\r\nconst squareMatrix = (n) => {\r\n    let matrix = [];\r\n    for(let i=0; i<n; i++) {\r\n        matrix.push(new Array(n).fill(0));\r\n    }\r\n    return matrix;\r\n}\r\n\r\nconst BASE_LIVES = 5;\r\n\r\n\r\nconst getLives = (level) => {\r\n    return(BASE_LIVES + (level-1)*2);\r\n}\r\n\r\nconst INITIAL_STATE = { \r\n                        isOpen: false,\r\n                        inIntro: true,\r\n                        inEnd: false,\r\n                        currRound: 0,\r\n                        player: {\r\n                            name: \"Player\",\r\n                            src: \"\",\r\n                            level: 1,\r\n                            exp: 0,\r\n                            lastMove: null,\r\n                            score: 0,\r\n                            lives: BASE_LIVES,\r\n                            maxLives: BASE_LIVES,\r\n                            markovMatrix: squareMatrix(3), \r\n                            initialStats: {\r\n                                level: 1,\r\n                                exp: 0,\r\n                            },\r\n                        },\r\n                        npc: {\r\n                            id: null,\r\n                            name: \"NPC\",\r\n                            src:\"\",\r\n                            level: 1,\r\n                            battlerType: null,\r\n                            lastMove: null,\r\n                            lives: BASE_LIVES,\r\n                            maxLives: BASE_LIVES,\r\n                            score: 0,\r\n                        },\r\n                        lastWinner: 0,\r\n                        finalWinner: 0,\r\n                        summary: \"Use mouse/touch to select your move.\",\r\n                        music: null,\r\n                    };\r\n\r\nexport const Battle = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            });\r\n        case ActionTypes.START_BATTLE:\r\n            return({\r\n                ...INITIAL_STATE,\r\n                isOpen: true,\r\n                player: {\r\n                    ...INITIAL_STATE.player,\r\n                    name: action.payload.player.name,\r\n                    src:action.payload.player.skin.src,\r\n                    level: action.payload.player.battle.level,\r\n                    exp: action.payload.player.battle.exp,\r\n                    lives: getLives(action.payload.player.battle.level),\r\n                    maxLives: getLives(action.payload.player.battle.level), \r\n                    markovMatrix: squareMatrix(3), \r\n                    initialStats: {\r\n                        level: action.payload.player.battle.level,\r\n                        exp: action.payload.player.battle.exp,\r\n                    },\r\n                },\r\n                npc: {\r\n                    ...INITIAL_STATE.npc,\r\n                    id: action.payload.npc.id,\r\n                    name: action.payload.npc.name,\r\n                    src: action.payload.npc.skin.src,\r\n                    level: action.payload.npc.level,\r\n                    battlerType: action.payload.npc.battlerType,\r\n                    lives: getLives(action.payload.npc.level),\r\n                    maxLives: getLives(action.payload.npc.level),  \r\n                },\r\n                music: 'battleMusic' in action.payload.npc? action.payload.npc.battleMusic: BATTLE_MUSIC,\r\n            })\r\n\r\n        case ActionTypes.END_BATTLE_INTRO:\r\n            return({\r\n                ...state,\r\n                inIntro: false,\r\n            });\r\n        case ActionTypes.SUBMIT_MOVES:\r\n            let cpyMatrix = [...state.player.markovMatrix];\r\n            if(state.player.lastMove!==null) {\r\n                cpyMatrix[state.player.lastMove][action.payload.playermove]+=1;   \r\n            } \r\n            return({\r\n                ...state,\r\n                currRound: state.currRound+1,\r\n                player: {\r\n                    ...state.player,\r\n                    lastMove: action.payload.playermove,\r\n                    score: action.payload.winner===1? state.player.score+1: state.player.score,\r\n                    lives: action.payload.winner===-1? Math.max(state.player.lives-1,0): state.player.lives,\r\n                    markovMatrix: cpyMatrix,\r\n                },\r\n                npc: {\r\n                    ...state.npc,\r\n                    lastMove: action.payload.npcmove,\r\n                    score: action.payload.winner===-1? state.npc.score+1: state.npc.score,\r\n                    lives: action.payload.winner===1? Math.max(state.npc.lives-1,0): state.npc.lives,\r\n                },\r\n                lastWinner: action.payload.winner,\r\n                summary: action.payload.summary,\r\n            });\r\n\r\n        case ActionTypes.END_BATTLE:\r\n            return({\r\n                ...state,\r\n                inEnd: true,\r\n                player: {\r\n                    ...state.player,\r\n                    level: action.payload.player.newlevel,\r\n                    exp: action.payload.player.newexp,\r\n                },\r\n                finalWinner: action.payload.battleWinner,\r\n            })\r\n        case ActionTypes.CLOSE_BATTLE:\r\n                return({\r\n                    ...state,\r\n                    isOpen: false,\r\n                })\r\n        default: \r\n            return state;\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { Player } from './player';\r\nimport { Map } from './map';\r\nimport { ViewPort } from './viewport';\r\nimport { NPC } from './npc';\r\nimport { GameObject } from './gameobject'\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { Dialog } from './dialog';\r\nimport { Inventory } from './inventory';\r\nimport { StateManager } from './statemanager';\r\nimport { Battle } from './battle';\r\n\r\nconst rootReducer = combineReducers({\r\n    player : Player,\r\n    map: Map,\r\n    viewport: ViewPort,\r\n    npc: NPC,\r\n    gameobjects: GameObject,\r\n    dialog: Dialog,\r\n    inventory: Inventory,\r\n    statemanager: StateManager,\r\n    battle: Battle,\r\n});\r\n\r\n\r\nexport const ConfigureStore = () =>  createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n    \r\n\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport './App.css';\r\nimport Main from './components/MainComponent';\r\nimport AudioEffects from './components/AudioEffectsComponent';\r\nimport { ConfigureStore } from './redux/ConfigureStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={ConfigureStore()}>\r\n        <Main />\r\n        <AudioEffects />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}