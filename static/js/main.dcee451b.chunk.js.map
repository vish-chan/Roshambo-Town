{"version":3,"sources":["helpers/constants.js","redux/ActionTypes.js","helpers/funcs.js","data/script.js","redux/ActionCreators.js","components/CustomModalComponent.js","components/PlayerComponent.js","components/NPCManagerComponent.js","components/GameObjectManagerComponent.js","components/MapComponent.js","data/skins.js","data/gameobjects.js","data/Maps/town_center.js","data/Levels/1/_home.js","data/Maps/home.js","data/Levels/1/_bakery.js","data/Maps/bakery.js","data/Maps/town_north.js","data/Maps/cave.js","data/Maps/hell.js","data/Levels/1/_town_north.js","data/Levels/1/_cave.js","data/Levels/1/_hell.js","data/Maps/town_south.js","data/Maps/library.js","data/Maps/gameroom.js","data/Levels/1/_library.js","data/Levels/1/_gameroom.js","data/Maps/hotel.js","data/Levels/1/index.js","data/Levels/1/_town_center.js","data/Levels/1/_town_south.js","data/Levels/1/_hotel.js","components/ConversationDisplayComponent.js","components/InventoryComponent.js","components/LoadingComponent.js","components/BattleComponent.js","components/StatsComponent.js","components/WorldComponent.js","components/MainMenuComponent.js","components/PlayerSelectComponent.js","data/resourcepaths.js","components/MainComponent.js","redux/player.js","redux/map.js","redux/viewport.js","redux/npc.js","redux/gameobject.js","redux/dialog.js","redux/inventory.js","redux/statemanager.js","redux/battle.js","redux/ConfigureStore.js","App.js","serviceWorker.js","index.js"],"names":["LEFT","RIGHT","UP","DOWN","ARROW_KEYCODES","SPACE_KEY","PICKUP_KEY","INVENTORY_KEY","SAVE_KEY","ENTER_KEY","ESC_KEY","VALID_KEYCODES","concat","PICKABLES","BOSS","GANG_MEMBER","SAVED_GAME","LEVEL_COLORS","L1","L2","L3","L4","L5","L6","AUDIO_PATH","IMAGES_PATH","MAPS_BASE","CHARACTER_SPRITES_BASE","PROPS_PATH","DRIP_SOUND","BEEP_SOUND","BEEP_2_SOUND","BEEP_3_SOUND","BEEP_LONG_SOUND","PICK_SOUND","LASER_SOUND","MAIN_MENU_MUSIC","TOWN_CENTER_MUSIC","TOWN_NORTH_MUSIC","TOWN_SOUTH_MUSIC","HOME_MUSIC","BAKERY_MUSIC","HOTEL_MUSIC","LIBRARY_MUSIC","GAMEROOM_MUSIC","CAVE_MUSIC","HELL_MUSIC","BATTLE_MUSIC","BATTLE_BOSS_MUSIC","BATTLE_GM_MUSIC","BATTLE_END_MUSIC","ADD_MAP","BASE_FONT_SIZE","getViewportDim","screenWidth","screenHeight","width","height","viewportdim","getFontSize","multiplier","mapToViewport","mappos","mapstart","tileToMapCoordinates","tile","TILE_SIZE","mapCoordinatesToTiles","position","intervalList","customSetInterval","func","delay","npcid","id","setInterval","clearIntervals","props","Object","keys","i","length","clearInterval","timeoutList","customSetTimeout","setTimeout","getValue","stateparam","payloadparam","centerBgImg","image","color","size","backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","solidBorder","radius","border","borderRadius","getKeyDiv","keycode","fontSize","style","padding","display","getLevelColor","level","getWinPercColor","winperc","playSoundEffect","src","Audio","play","PLAYERDIALOGS","Frank","follows","starts","battleAccept","battleAsk","battleWin","battleLose","Dad","Joey","Ace","Tia","Nathan","John","Samantha","Eden","Tracer","Sean","Gambit","Chop","Molly","Jordan","Grindel","Tori","Ghissu","Razor","Prick","LT","Rose","Snyder","Kaloo","Goku","Misty","Trigger","Max","Maty","Damon","Tegan","Hunt","Fattu","Rock","Paper","Scissors","Beast","NPCDIALOGS","battleAcceptNeverDefeated","battleDeclineDefeated","battleDecline","observeMapBoundaries","newpos","mapwidth","mapheight","observeIdleNPC","npcList","filter","npc","isAnimating","observeAnimatingNPC","nextPosition","getNewPostion","oldpos","direction","movementSize","window","alert","getNewOrigin","start","getNPC","npclist","UpdatePlayerPosition","keyCode","dispatch","getState","player","VIEWPORT_WIDTH","viewport","viewportDims","VIEWPORT_HEIGHT","mapend","end","map","steps","skin","walkSpriteCount","movemap","frameMovementSize","UpdatePlayerDirectionAction","tiles","row","col","Math","abs","observeImpassible","idlenpc","list","animatingnpc","UpdatePlayerAnimationAction","camera","viewportPos","observeCamera","viewportWidth","viewportHeight","mapScrollable","requestAnimationFrame","animatePlayer","nearbyNPC","UpdateNearbyNPCAction","battle","battleFlag","ForceBattleConversation","talkFlag","ForceNonBattleConversation","UpdatePlayerPositionAction","UpdateOriginAction","frameInterval","nearByNPC","checkNearbyIdleNPC","objects","getObjectForPickup","gameobjects","UpdateNearbyGameObjAction","nearbyGameObj","portals","getPortal","UpdateNearbyPortalAction","nearbyPortal","getPositionEquality","pos1","pos2","gameobject","includes","type","getOppositeDirection","checkNearbyIdlePlayer","npcpos","observeIdlePlayer","playerpos","checkBattleEligibilty","playerlevel","npclevel","checkBossBattleEligibilty","defeatedGangMembersList","battlerType","defeatedGangMembers","oppdirection","UpdateNPCDirectionAction","SetConversationStatus","name","dialogs","dialog","replace","UpdateNPCPosition","npcId","stationary","interacting","inBattle","isWaiting","performance","now","lastUpdated","waitInterval","ResetNPCWaiting","curdirection","pathArr","defaultDirection","pathIdx","pathDir","newdirection","oldirection","getNewDirection","observePlayer","UpdateNPCAnimationAction","animateNPC","UpdateNPCPositionAction","AddMap","secondary","LoadingMapAction","start_x","start_y","end_x","end_y","playerPosition","oldState","sm","statemanager","mapBg","Image","onload","AddMapAction","StartBattle","payload","BattleGetRandomMove","maxMove","floor","random","BattleGetNextMove","markovMatrix","lastMove","nextMove","predictedMoveIdx","reduce","maxIdx","currVal","currIdx","arr","move","BattleGetWinningMove","BattleMoveIndexToStr","BattleHandleMove","playerMove","playermove","npcmove","playerMarkovMatrix","playerLastMove","npcMove","winner","summary","playername","npcname","BattleSummary","UpdateBattleStatsAction","finalWinner","CheckBattleWinner","newexp","exp","getPlayerNewExp","score","newlevel","getPlayerLevel","EndBattle","gangMember","playerLevel","npcLevel","max","lives","battleWinner","updatedPlayerStats","CloseBattle","gameobjId","portal","origin","person1","person2","battleConversation","ResetConversationStatus","NextDialogAction","AddObjecttoInventory","object","SaveStateInitAction","SaveStateAction","state","SaveStateEndAction","RestoreStateAction","currentMapInfo","prevStates","mapinfo","RestoreStateFromDiskAction","getMergedNPCList","base","diff","diffnpc","defeatedCount","vpstart","vpend","ActionTypes","audioSrc","bgStyle","bgcolor","bordercolor","CustomModal","left","top","transform","zIndex","show","flexDirection","justifyContent","alignItems","fontFamily","margin","onClick","confirmLink","icon","faCheckSquare","cancelLink","faWindowClose","PlayerSprite","playerStyle","isNaN","walkIndex","spriteLocation","playermarkerstyle","className","faCaretDown","Player","handleKeyDown","bind","toggleExitModalState","showExitModal","addEventListener","this","removeEventListener","setState","event","frozen","preventDefault","stopImmediatePropagation","updatePlayerPosition","updateConversation","initiateConversation","pickupObject","toggleInventory","checkPortalAndEnter","handleBack","Component","connect","speakerIdx","dialogIdx","gobj","saveStateandAddMap","target","cpyPrevStates","pop","currentMap","currentGameobjects","currentMapNPCBattleStatus","checkandRestoreMap","NPC","battlerMarkerIcon","faExclamation","self","faSkull","updateNPCPosition","moveInterval","npcStyle","battlemarkerstylebase","messagestylebase","textAlign","faEnvelope","NPCManager","NPCObj","key","GameObject","objStyle","srcpos","rotate","effects","GameObjectManager","GameObj","Map","ref","loop","volume","html5","SKINS","player_1","player_2","prof","friend_1","friend_2","friend_3","friend_4","friend_5","friend_6","friend_7","friend_8","friend_9","kid_1","kid_2","kid_3","nurse","chef","bully_1","crush_1","crush_2","crush_3","crush_4","tribe_1","tribe_2","tribe_3","tribe_4","tribe_5","boss","whitepuppy","brownpuppy","blackcat","whitecat","orangecat","baby","ITEMS_URL","PORTAL_URL","ENTER_URL","LEAVE_URL","GAMEOBJECTS","PORTALS","townCenter","_home","_bakery","battleMusic","townNorth","cave","hell","_townNorth","townSouth","library","gameroom","_library","hotel","Dialog","animateConversation","timeout","content","idx","objref","animate","innerHTML","substring","p1","p2","isOpen","person","cleanBoard","clearTimeout","POS","right","overflowWrap","bottom","ConversationDisplay","InventoryItem","imageStyle","divSize","count","InventoryRow","countObj","item","GetInventoryItemCounts","inventorylist","rendergameobjects","gameobj","boxShadow","writingMode","textOrientation","InventoryDialog","inventoryStyle","inventory","Inventory","Loading","alt","msg","HealthBar","blink","hb","classList","add","remove","marginRight","currhealth","maxhealth","PlayerInfo","reverse","alignSelf","maxLives","MoveDiv","push","imgStyle","Summary","text","p","animateText","BattleEnd","continue","winnerStr","winnerClass","levelColor","initialStats","levelArrow","closeBattle","from","to","speed","cont","opacity","marginBottom","marginTop","BattleIntro","BattleArena","select","focus","disabled","submitMove","value","lastWinner","defaultValue","overflowY","Battle","inIntro","endIntro","UI_COMPONENT","AUDIO_COMPONENT","music","inEnd","parseInt","AwareComponent","instruction","targetname","action","getPortalInstruction","Stats","handleSaveBtnClick","saveGame","num","borderLeft","borderRight","borderTop","won","lost","round","paddingLeft","faSave","saveStateToLocalStorage","npcAnimating","serializedState","JSON","stringify","localStorage","setItem","err","World","initViewport","loadgame","loadGameFromDisk","loadMap","worldStyle","overflow","isLoading","savingState","Fragment","getItem","parse","dims","checkSavedGame","MenuBtn","basestyle","disbaledstyle","title","MainMenu","startNewGame","loadGame","SELECT_URL","CharacterPane","click","option","selected","bgColor","PlayerSelect","handleCharacterClick","handleNameChange","validateAndSend","character","errmsg","test","startNewJourney","initPlayerInfo","startJourney","marginLeft","borderBottom","htmlFor","onChange","skinIdx","SetPlayerInfoAction","RESOURCES","Main","loading","menu","playerselect","world","screenDim","screen","bg","handleStartNewGame","handleLoadGame","handleStartJourney","renderMenu","pictureUrls","callback","j","loaded","img","preloadPictures","PlayerSelectComponent","INITIAL_STATE","getUpdatedGangMembersList","newGangMember","newDefeatedGangMembers","HEALER","CURRENCY","EATABLE","squareMatrix","n","matrix","Array","fill","getLives","currRound","rootReducer","combineReducers","statecpy","cpyMatrix","ConfigureStore","createStore","composeWithDevTools","applyMiddleware","thunk","App","store","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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C5G,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,IAC5G,CAAG,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC7G,CAAG,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,E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,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAK,EAAK,EAAK,EAAK,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,EAAI,GAAK,GAAK,GAAM,EAAI,IAC9E,CAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAM,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","file":"static/js/main.dcee451b.chunk.js","sourcesContent":["export const TILE_SIZE = 80;\r\nexport const TOTAL_MOVEMENT_SIZE = TILE_SIZE;\r\n\r\nexport const LEFT = \"LEFT\";\r\nexport const RIGHT = \"RIGHT\";\r\nexport const UP = \"UP\";\r\nexport const DOWN = \"DOWN\";\r\nexport const SPRITE_LOC_DOWN = 0;\r\nexport const SPRITE_LOC_UP = 3;\r\nexport const SPRITE_LOC_LEFT = 2;\r\nexport const SPRITE_LOC_RIGHT = 1;\r\n\r\nexport const ARROW_KEYCODES = [37, 38, 39, 40];\r\nexport const SPACE_KEY = [32];\r\nexport const PICKUP_KEY = [80]; /* P */\r\nexport const INVENTORY_KEY = [73]; /* I */\r\nexport const SAVE_KEY = [69]; /* E */\r\nexport const ENTER_KEY = [13]; /* ENTER */\r\nexport const ESC_KEY = [27]; /* R */\r\n\r\nexport const VALID_KEYCODES = ARROW_KEYCODES.concat(SPACE_KEY, PICKUP_KEY, INVENTORY_KEY, SAVE_KEY, ENTER_KEY, ESC_KEY);\r\n\r\nexport const PASSIBLE_INDEX = 5;\r\n\r\nexport const HEALER = \"HEALER\";\r\nexport const EATABLE = \"EATABLE\";\r\nexport const CURRENCY = \"CURRENCY\";\r\nexport const PORTAL = \"PORTAL\";\r\nexport const PICKABLES = [HEALER,EATABLE,CURRENCY];\r\n\r\nexport const ROCK = 0;\r\nexport const PAPER = 1;\r\nexport const SCISSORS = 2;\r\n\r\n\r\nexport const BATTLE_ELIGIBILITY_THRESHOLD = 1;\r\nexport const BATTLE_NUM_GANG_MEMBERS = 5;\r\nexport const BOSS_BATTLE_LEVEL = 6;\r\n\r\nexport const BOSS = \"BOSS\";\r\nexport const GANG_MEMBER = \"GANG_MEMBER\";\r\nexport const NON_GANG_MEMBER = \"NON_GANG_MEMBER\";\r\n\r\n\r\nexport const SAVED_GAME = \"SAVED GAME\";\r\n\r\nexport const LOADGAME = \"LOADGAME\";\r\nexport const NEWGAME = \"NEWGAME\";\r\n\r\nexport const MAIN_MENU = \"/menu\";\r\nexport const WORLD_BASE = \"/world\"\r\n\r\nexport const PORTAL_ENTER = \"enter\";\r\nexport const PORTAL_LEAVE = \"leave\";\r\n\r\nexport const MAX_LEVEL = 6;\r\nexport const LEVEL_COLORS =  {\r\n    L1: \"MediumSeaGreen\",\r\n    L2: \"RoyalBlue\",\r\n    L3: \"Turquoise\",\r\n    L4: \"darkorange\",\r\n    L5: \"red\",\r\n    L6: \"gold\"\r\n};\r\n\r\nconst ASSETS_PATH = \"assets\";\r\nconst AUDIO_PATH = `${ASSETS_PATH}/audio`;\r\nexport const IMAGES_PATH = `${ASSETS_PATH}/images`;\r\nexport const MAPS_BASE = `${IMAGES_PATH}/maps`;\r\nexport const CHARACTER_SPRITES_BASE = `${IMAGES_PATH}/80/characters`;\r\nexport const PROPS_PATH = `${IMAGES_PATH}/80/objectsAndProps`;\r\n\r\nexport const DRIP_SOUND = `${AUDIO_PATH}/effects/drip.wav`;\r\nexport const BEEP_SOUND = `${AUDIO_PATH}/effects/beep.wav`;\r\nexport const BEEP_2_SOUND = `${AUDIO_PATH}/effects/beep2.wav`;\r\nexport const BEEP_3_SOUND = `${AUDIO_PATH}/effects/beep3.wav`;\r\nexport const BEEP_LONG_SOUND = `${AUDIO_PATH}/effects/longbeep.wav`;\r\nexport const PICK_SOUND = `${AUDIO_PATH}/effects/getcoin.wav`;\r\nexport const LASER_SOUND = `${AUDIO_PATH}/effects/laser.wav`;\r\n\r\nexport const MAIN_MENU_MUSIC = `${AUDIO_PATH}/MainMenu.mp3`;\r\nexport const TOWN_CENTER_MUSIC = `${AUDIO_PATH}/TownCenter.mp3`;\r\nexport const TOWN_NORTH_MUSIC = `${AUDIO_PATH}/TownSouth.mp3`;\r\nexport const TOWN_SOUTH_MUSIC = `${AUDIO_PATH}/TownSouth.mp3`;\r\nexport const HOME_MUSIC = `${AUDIO_PATH}/Home.mp3`;\r\nexport const BAKERY_MUSIC = `${AUDIO_PATH}/Bakery.mp3`;\r\nexport const HOTEL_MUSIC = `${AUDIO_PATH}/Hotel.mp3`;\r\nexport const LIBRARY_MUSIC = `${AUDIO_PATH}/Library.mp3`;\r\nexport const GAMEROOM_MUSIC = `${AUDIO_PATH}/GameRoom.mp3`;\r\nexport const CAVE_MUSIC = `${AUDIO_PATH}/Cave.mp3`;\r\nexport const HELL_MUSIC = `${AUDIO_PATH}/Hell.mp3`;\r\nexport const BATTLE_MUSIC = `${AUDIO_PATH}/Battle.mp3`;\r\nexport const BATTLE_BOSS_MUSIC = `${AUDIO_PATH}/BattleBoss.mp3`;\r\nexport const BATTLE_GM_MUSIC = `${AUDIO_PATH}/BattleGangMember.mp3`;\r\nexport const BATTLE_END_MUSIC = `${AUDIO_PATH}/BattleEnd.mp3`;","export const INIT_VIEWPORT_DIMS = \"INIT_VIEWPORT_DIMS\";\r\nexport const SET_PLAYER_INFO = \"SET_PLAYER_INFO\";\r\nexport const UPDATE_PLAYER_POSITION = \"UPDATE_PLAYER_POSITION\";\r\nexport const UPDATE_PLAYER_DIRECTION = \"UPDATE_PLAYER_DIRECTION\";\r\nexport const UPDATE_PLAYER_ANIMATION = \"UPDATE_PLAYER_ANIMATION\";\r\nexport const UPDATE_NEARBY_NPC = \"UPDATE_NEARBY_NPC\";\r\nexport const UPDATE_NEARBY_GAMEOBJ = \"UPDATE_NEARBY_GAMEOBJ\";\r\nexport const UPDATE_NEARBY_PORTAL = \"UPDATE_NEARBY_PORTAL\";\r\n\r\nexport const ADD_MAP = \"ADD_MAP\";\r\nexport const MAP_LOADING = \"MAP_LOADING\";\r\nexport const UPDATE_MAP_ORIGIN = \"UPDATE_MAP_ORIGIN\";\r\n\r\nexport const UPDATE_NPC_POSITION = \"UPDATE_NPC_POSITION\";\r\nexport const UPDATE_NPC_DIRECTION = \"UPDATE_NPC_DIRECTION\";\r\nexport const UPDATE_NPC_ANIMATION = \"UPDATE_NPC_ANIMATION\";\r\nexport const RESET_NPC_WAITING = \"RESET_NPC_WAITING\";\r\n\r\nexport const SET_DIALOG_STATUS = \"SET_DIALOG_STATUS\";\r\nexport const RESET_DIALOG_STATUS = \"RESET_DIALOG_STATUS\";\r\nexport const NEXT_DIALOG = \"NEXT_DIALOG\";\r\n\r\nexport const TOGGLE_INVENTORY_DISPLAY = \"TOGGLE_INVENTORY_DISPLAY\";\r\nexport const ADD_OBJECT_TO_INVENTORY = \"ADD_OBJECT_TO_INVENTORY\";\r\n\r\nexport const SAVE_STATE_INITIATED = \"SAVE_STATE_INITIATED\";\r\nexport const SAVE_STATE = \"SAVE_STATE\";\r\nexport const SAVE_STATE_END = \"SAVE_STATE_END\";\r\nexport const RESTORE_STATE = \"RESTORE_STATE\";\r\nexport const RESTORE_STATE_FROM_DISK = \"RESTORE_STATE_FROM_DISK\";\r\n\r\nexport const START_BATTLE = \"START_BATTLE\";\r\nexport const END_BATTLE_INTRO = \"END_BATTLE_INTRO\";\r\nexport const SUBMIT_MOVES = \"SUBMIT_MOVES\";\r\nexport const END_BATTLE = \"END_BATTLE\";\r\nexport const CLOSE_BATTLE = \"CLOSE_BATTLE\";\r\n\r\nexport const START_NEW_JOURNEY = \"START_NEW_JOURNEY\";","import React from 'react';\r\nimport { MAX_LEVEL, LEVEL_COLORS } from './constants';\r\n\r\nexport const getRounded = (num) => {\r\n    return isNaN(num)? 0: Math.round(num);\r\n}\r\n\r\nlet BASE_FONT_SIZE = 10;\r\n\r\nexport const getViewportDim = (screenWidth, screenHeight) => {\r\n    const width = [960, 1200, 1440];\r\n    const height = [640, 720, 800];\r\n    let viewportdim = [];\r\n    if(screenWidth < 1200) \r\n        viewportdim[0] = width[0];\r\n    else if(screenWidth < 1440) \r\n        viewportdim[0] = width[1];\r\n    else \r\n        viewportdim[0] = width[2];\r\n    \r\n    if(screenHeight < 720) {\r\n        viewportdim[1] = height[0];\r\n        BASE_FONT_SIZE = 8;\r\n    } else if(screenHeight < 800) {\r\n        viewportdim[1] = height[1];\r\n        BASE_FONT_SIZE = 9;\r\n    } else {\r\n        viewportdim[1] = height[2];\r\n        BASE_FONT_SIZE = 10;\r\n    } \r\n    return viewportdim;\r\n}\r\n\r\nexport const getFontSize = (multiplier = 1) => {\r\n    return BASE_FONT_SIZE*multiplier;\r\n}\r\n\r\nexport const viewportToMap = (viewportpos, mapstart) => {\r\n    return([viewportpos[0] + (-1*mapstart[0]),viewportpos[1] + (-1*mapstart[1])]);\r\n}\r\n\r\n\r\nexport const mapToViewport = (mappos, mapstart) => {\r\n    return([mappos[0] + mapstart[0],mappos[1] + mapstart[1]]);\r\n}\r\n\r\nexport const tileToMapCoordinates = (tile, TILE_SIZE) => {\r\n    return([tile[1]*TILE_SIZE, tile[0]*TILE_SIZE]);\r\n}\r\n\r\nexport const mapCoordinatesToTiles = (position, TILE_SIZE) => {\r\n    return([position[1]/TILE_SIZE, position[0]/TILE_SIZE]);\r\n}\r\n\r\nexport let intervalList = {};\r\n\r\nexport const customSetInterval = (func, delay, npcid) => {\r\n    const id = setInterval(func, delay);\r\n    intervalList[\"_\"+npcid] = id;\r\n}\r\n\r\nexport const clearIntervals = () => {\r\n    var props = Object.keys(intervalList);\r\n    for (var i = 0; i < props.length; i++) {\r\n        clearInterval(intervalList[props[i]]);\r\n        delete intervalList[props[i]];\r\n    }\r\n}\r\n\r\nexport let timeoutList = {};\r\n\r\nexport const customSetTimeout = (func, delay, npcid) => {\r\n    const id = setTimeout(func, delay);\r\n    timeoutList[\"_\"+npcid] = id;\r\n}\r\n\r\nexport const clearTimeouts = () => {\r\n    var props = Object.keys(timeoutList);\r\n    for (var i = 0; i < props.length; i++) {\r\n        clearTimeout(timeoutList[props[i]]);\r\n        delete timeoutList[props[i]];\r\n    }\r\n}\r\n\r\nexport const printMatrix = (matrix) => {\r\n    let print = \"\";\r\n    for(let i=0; i<matrix.length;i++) {\r\n        for(let j=0; j<matrix[0].length;j++) {\r\n            print+=matrix[i][j]+\" ,\";\r\n        }\r\n        print+=\"\\n\";\r\n    }\r\n    console.log(print);\r\n}\r\n\r\nexport const getValue = (stateparam, payloadparam) => {\r\n    return(payloadparam!=null ? payloadparam: stateparam);\r\n}\r\n\r\nexport const centerBgImg = (image, color='white', size='contain') => {\r\n    return({\r\n        backgroundColor: color,\r\n        backgroundImage: `url('${image}')`, \r\n        backgroundRepeat: 'no-repeat', \r\n        backgroundPosition:'center',\r\n        backgroundSize: size,\r\n    });\r\n}\r\n\r\nexport const solidBorder = (size, color, radius) => {\r\n    return({\r\n        border: `${size}px solid ${color}`,\r\n        borderRadius: `${radius}px`,\r\n    });\r\n}\r\n\r\n\r\nexport const getKeyDiv = (keycode, fontSize=getFontSize(1.5)) => {\r\n    return(\r\n    <div style={{padding:'3px', border: '1px inset grey', borderRadius:'5px', backgroundColor:'white', display: 'inline-block', fontSize:`${fontSize}px`, color:'#5d5f5b' }}>\r\n        <div style={{backgroundColor:'lightgrey'}}>{keycode}</div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport const getLevelColor = (level) => {\r\n   if(level<1 || level>MAX_LEVEL) \r\n        return \"white\";\r\n    return(LEVEL_COLORS[`L${level}`]);\r\n}\r\n\r\nexport const getWinPercColor = (winperc) => {\r\n    if(winperc < 25)\r\n        return 'Red';\r\n    else if(winperc < 50) \r\n        return 'Crimson';\r\n    else if(winperc < 75)\r\n        return 'SpringGreen';\r\n    else \r\n        return 'ForestGreen'\r\n }\r\n\r\n export const playSoundEffect = (src) => {\r\n     const click = new Audio(src);\r\n     click.play();\r\n }\r\n\r\n export const preloadPictures = function(pictureUrls, callback) {\r\n    let i,\r\n        j,\r\n        loaded = 0;\r\n\r\n    for (i = 0, j = pictureUrls.length; i < j; i++) {\r\n        (function (img, src) {\r\n            img.onload = function () {                               \r\n                if (++loaded >= pictureUrls.length && callback) {\r\n                    callback();\r\n                }\r\n            };\r\n            img.src = src;\r\n        } (new Image(), pictureUrls[i]));\r\n    }\r\n};\r\n","export const PLAYERDIALOGS = {\r\n    Frank: {\r\n        follows:[\"Hey Frank! I'm great.\", \r\n                 \"I'm a bit busy with my engineering exams. What about you?\", \r\n                 \"Oh wow! That's awesome.\", \r\n                 \"Ohh, thanks for informing :). I'll probably go now.\", \r\n                 \"BBye, Takecare.\"],\r\n        starts:[\"Hey! Whatsup!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Dad: {\r\n        follows:[\"It feels great to be back home. You look worried dad. Is everything fine?\", \r\n                 \"Yeah! The town seems a bit different. Someone refused to play Roshambo with me coz I was not on his level! I didn't get it.\",\r\n                 \"Markov tribe? That's an interesting name. And what are the new rules?\",\r\n                 \"And...\",\r\n                 \"Okay! Now I get it. But this isn't great for our town. We always had a 'free Roshambo for all' motto.\",\r\n                 \"How can we do that?\",\r\n                 \"I can do that dad. But I need some practice.\",\r\n                 \"Okay dad! I'll go and practice now. Big task ahead.\",\r\n                 \"Even I missed him. I'll surely play with him.\",\r\n                 \"Thats amazing! I'll grab an Eclair from there.\",\r\n                ],\r\n        starts:[\"Hey Dad! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Joey: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Okay Joey. Let's battle!\"],\r\n        battleAsk:[\"Hey Joey! you wanna play?\"],\r\n        battleWin:[\"Nevermind....\"],\r\n        battleLose:[\"I always let you win.\"],\r\n    },\r\n\r\n    Ace: {\r\n        follows:[\"I missed you too.....\"],\r\n        starts:[\"Ace!! Come here....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Tia: {\r\n        follows:[\"Hey Tia! I'm great. Came here to get some eclairs.\", \r\n                 \"Why so? I see the bakery is open.\", \r\n                 \"Its not their bakery! why are we being forced to battle him?\", \r\n                 \"Okay, I'll go inside and defeat him.\",\r\n                 \"Sure, I'll do that. See you!\",\r\n                ],\r\n        starts:[\"Hey Tia! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Nathan: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, lets go!\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks mate!\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    John: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, lets go!\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks mate!\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    Samantha: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, who doesn't like a freebie ;)\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks! I think I am ready to defeat him.\", \"Great! Now I have 2 reasons to defeat him haha.\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    Eden:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"I'm $PLAYERNAME. I'm not new, you are new here. Btw, I came here for an eclair.\",\r\n                      \"Really? I thought I need to have a Roshambo battle with you. Guess you are not that bad.\",\r\n                      \"And I thought for a moment that the tribe isn't that bad. Nevertheless, I can defeat you, pretty easily.\",\r\n                      \"Yup, lets go!!!\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"I'll take care of your boss later. I need my eclair now. Step aside.\", \r\n                   \"But you said so. And I believed you!\",\r\n                   \"F*** man. What else can I expect from the tribe! Where can I find your boss?\",\r\n                   \"Ughhhhhh.\"],\r\n        battleLose:[\"I'll be back in no time. \"],\r\n    },\r\n\r\n    Tracer: {\r\n        follows:[\"Hey Tracer. I'm looking for the tribe boss. Do you know where he lives?\",\r\n                 \"North? How do you know?\",\r\n                 \"And I'm John Snow. Stop joking. Are you sure about this info?\",\r\n                 \"No... sadly :( I'll probably go to the north.\",\r\n                 \"Thanks :) Hopefully.\"\r\n                ],\r\n        starts:[\"Hey Tracer! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Sean: {\r\n        follows:[\"Hey Sean. I'm great. Hows your business?\",\r\n                 \"Why? What happened?\",\r\n                 \"Tell me!\",\r\n                 \"Who is Gambit? Why didn't you call police for help?\",\r\n                 \"I knew it. A tribe member doing what tribe members do best, bully others. I'll teach him a lesson by defeating him in a Roshambo battle.\",\r\n                 \"Don't decide the winner before the battle. Atleast I want to try.\",\r\n                 \"Yup, I will. Thanks.\"\r\n                ],\r\n        starts:[\"Hey Sean! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Gambit:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"No, this isn't your property. This is my friend Sean's property.\",\r\n                      \"I've got big hands as well. I challenge you for a Roshambo battle.\",\r\n                      \"One tribe defeated is one tribe less. Lets go\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated. I'll be back.\"],\r\n    },\r\n\r\n    Chop:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Molly: {\r\n        follows:[\"Hey Molly. Why are you outside the library?\",\r\n                 \"Have they occupied the library as well? I thought its just the bakery and the chinese van.\",\r\n                 \"Don't worry. I'll soon defeat their boss.\",\r\n                 \"Really! I didn't know that. I should go inside and battle them. Wish me luck.\",\r\n                 \"Thanks!\"],\r\n        starts:[\"Hey Molly! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Jordan: {\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Yeah sure, lets go!\"],\r\n        battleAsk:[\"Hey! do you wanna battle?\"],\r\n        battleWin:[\"Thanks mate!\"],\r\n        battleLose:[\"I'll be back in no time. See you then.\"],\r\n    },\r\n\r\n    Grindel:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Tori:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Definitely! I need to practice as well.\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"Losers will be losers\"],\r\n        battleLose:[\"I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    Ghissu: {\r\n        follows:[\"Hey Ghissu. Done with all the ghisai?\",\r\n                 \"Molly told me the tribe has occupied the library as well. I'm looking for them.\",\r\n                 \"Atleast you have a source of entertainment now. Haha. Jokes aside, where are they?\",\r\n                 \"I should have known. Thanks! See you after the battle.\",\r\n                 \"Haha. Bbye.\"],\r\n        starts:[\"Hey Ghissu! Whatsup?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Razor:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Its a public TV, you can't watch something private here.\",\r\n                      \"Not for long. Soon I'll defeat your boss.\",\r\n                      \"You stole words from my mouth. I accept the challenge.\",\r\n                      \"Stop talking and start battling!\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated.\", \"I'll be back in no time.\"],\r\n    },\r\n\r\n    Prick:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Definitely! I need to practice as well.\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"Losers will be losers\"],\r\n        battleLose:[\"I underestimated you. See you next time.\"],\r\n    },\r\n\r\n    LT: {\r\n        follows:[\"Okay... I get it.\"],\r\n        starts:[\"Hey! Can I play?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Rose: {\r\n        follows:[\"Are they tribe members?\",\r\n                 \"As expected. Okay, I'll try to get her back.\",\r\n                 \"No problem.\"],\r\n        starts:[\"Hey! Did you get sparkle back?\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n\r\n    Snyder:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Stop disturbing the dog. Leave her alone!\",\r\n                      \"Just like I'll teach your boss a lesson?\", \r\n                      \"I'll soon defeat him in Roshambo. But, let me defeat you first!\",\r\n                      \"If I win, you free the dog!\",\r\n                      \"Challenge accepted!\"],\r\n        battleAsk:[\"I want to challenge you for a battle.\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated.\", \"I'll be back in no time.\"],\r\n    },\r\n\r\n    Kaloo: {\r\n        follows:[\"Okay....\"],\r\n        starts:[\"Awwww......kaloooooo.\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Goku: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Misty: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww....Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Trigger: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Max:{\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Definitely! I need to practice as well.\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"Losers will be losers\"],\r\n        battleLose:[\"You got real skills mate!\"],\r\n    },\r\n\r\n\r\n    Maty: {\r\n        follows:[\"Hey Maty! Yeah. How have you been?\", \r\n                 \"On my quest to defeat the tribe boss.\",\r\n                 \"Thanks :)! I should go and defeat him.\",\r\n                 \"Hehe. Thanks!\"],\r\n        starts:[\"Hey Maty!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Damon:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n\r\n    Tegan:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"No! I was looking for you.\",\r\n                      \"So that I can defeat you first, before your boss!\",\r\n                      \"Challenge accepted! Let me throw you out of our town haha.\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Not for long. I'll soon defeat your boss.\"],\r\n        battleLose:[\"I'm pretty sure you cheated.\", \"I'll be back in no time.\"],\r\n    },\r\n\r\n    Hunt:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Do I have a choice?\"],\r\n        battleAsk:[\"Do you wanna battle?\"],\r\n        battleWin:[\"You are pretty good. I got lucky.\"],\r\n        battleLose:[\"No! I underestimated you. See you next time.\"],\r\n    },\r\n\r\n\r\n    Fattu: {\r\n        follows:[\"Why? The tribe boss isn't inside?\",\r\n                 \"She!??! WTF. I'm going in.\",\r\n                 \"Don't worry about me.\"],\r\n        starts:[\"Hey Fattu!\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Rock: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Paper: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Scissors: {\r\n        follows:[\"Nevermind....\"],\r\n        starts:[\"Awwww......cutie. Come here.....\"],\r\n        battleAccept:[],\r\n        battleAsk:[],\r\n        battleWin:[],\r\n        battleLose:[],\r\n    },\r\n\r\n    Beast:{\r\n\r\n        follows:[],\r\n        starts:[],\r\n        battleAccept:[\"Looking for the tribe boss. I want to battle her in Roshambo. Do you where is she?\",\r\n                      \"Ohh, my bad. How can I miss the biggest clue lol. Btw I'm $PLAYERNAME. I came here to challenge you for a Roshambo battle.\",\r\n                      \"There can be, like petting your cute cats.\",\r\n                      \"Yeah, they don't seem friendly, just like you.\",\r\n                      \"Yeah! Let's go!\"],\r\n        battleAsk:[\"I want to challenge you for a battle!\"],\r\n        battleWin:[\"Really? You aren't mad?\",\r\n                   \"You're not as bad as I expected tbh.\",\r\n                   \"So?? Am I the boss now? How does it work? How can I reset the rules?\",\r\n                   \"I thought so. I thought that was the story of the game! When is the Roshambo championship?\",\r\n                   \"He???\",\r\n                   \"Wow. And what about my Eclairs?\",\r\n                   \"Fuck it!\"],\r\n        battleLose:[\"I'll be back with more practice\"],\r\n    },\r\n}\r\n\r\nexport const NPCDIALOGS = {\r\n    Frank:{\r\n        starts: [\"Hey $PLAYERNAME! Whatsup.\", \"Long time no see. Where are you these days?\", \r\n                \"I'm preparing for this year's RoShamBo competition.\", \r\n                \"BTW, your father is waiting for you inside. You should go and meet him.\", \r\n                \"Sure, see you.\"],\r\n        follows: [\"I'm great. You talked to your father right!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Dad:{\r\n        starts: [\"Hey kiddo! Glad you're back. It feels great seeing you!\",\r\n                 \"Did you notice anything weird outside?\", \r\n                 \"Its the markov tribe! Their boss won the Roshambo championship last year. Since then they have imposed new Roshambo rules in the town.\",\r\n                 \"Now there is a level system in Roshambo. Every Roshambo player starts at level 1 and can go till level 5.\",\r\n                 \"You can only battle a player who is at a lower or same level or 1 level higher than yours.\",\r\n                 \"Yes, and thats why we need to overthrow this tribe.\",\r\n                 \"We need to defeat their boss, only then we can remove these horrible rules.\",\r\n                 \"Thats my kid! Look around the town for some Roshambo battlers for practice. Battle them to gain exp and level up.\",\r\n                 \"Your baby brother missed you! Don't forget to play with him.\",\r\n                 \"Btw, your favourite Big Chill cakery has opened nearby. You should check it out.\"\r\n                ],\r\n        follows: [\"Key kiddo! You should probably go and defeat the tribe!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Joey:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"I wanna play!!!\"],\r\n        battleAcceptNeverDefeated:[\"Yayayayay! I'll defeat you again!\"],\r\n        battleDeclineDefeated:[\"I don't like playing with you!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You cheated!!!!\"],\r\n        battleWin: [\"I'm the best!!\"],\r\n    },\r\n\r\n    Ace:{\r\n        starts: [\"...\"],\r\n        follows: [\"Huff...I missed you..Huff....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n\r\n    Tia:{\r\n        starts: [\"Hey $PLAYERNAME! Whatsup!\", \r\n                 \"You won't be able to get anything from here.\", \r\n                 \"There is a markov tribe member inside. If you want an eclair, you need to defeat him in Roshambo first.\", \r\n                 \"Everything belongs to them now. They have weird rules tbh.\",\r\n                 \"I hope you have enough practice. You can battle my friend Samantha, she is inside the bakery.\"\r\n                ],\r\n        follows: [\"I hope you defeat the tribe member.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Nathan:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"You won't be able to defeat me. Do you have the guts to battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Cheers!.\"],\r\n        battleWin: [\"You're aweful. You need to practice.\"],\r\n    },\r\n\r\n    John:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"You won't be able to defeat me. Do you have the guts to battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Cheers!.\"],\r\n        battleWin: [\"You're aweful. You need to practice.\"],\r\n    },\r\n\r\n    Samantha:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! Do you wanna battle? Winner gets a swiss roll :p\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"I can't afford another brownie lol!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Now you need to defeat the tribe member to get the free swiss roll. Hehe.\",\r\n                     \"Really! You'll get a brownie as well if you defeat him.\"],\r\n        battleWin: [\"Gosh! You're aweful. You need to practice. I don't think I'll ever get the swiss roll lol.\"],\r\n    },\r\n\r\n    Eden:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey you! I think you're new here.\",\r\n                    \"Just an eclair? You can have one.\",\r\n                    \"No, I was kidding. You need to defeat me in Roshambo first.\",\r\n                    \"I like defeating overconfident kids, lets go!\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"I don't have time for losers!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go, battle and level up.\"],\r\n        battleLose:[\"You have defeated me, but you won't be able to defeat our boss.\", \r\n                    \"If you think you can get your eclair now, you are a fool!\",\r\n                    \"Ah, I lied. You need to defeat our boss in order to change the rules. Hahahahaha.\",\r\n                    \"Find him yourself. All the best. Hahahahahahahaha.\"],\r\n        battleWin: [\"Typical overconfident kid. You can never defeat me, nevermind our boss!!\"],\r\n    },\r\n\r\n    Tracer:{\r\n        starts: [\"Hey $PLAYERNAME! Where are you heading towards?\", \r\n                 \"I heard he lives in a cave somewhere in the north.\", \r\n                 \"I'm the master of whisperers. Haha.\", \r\n                 \"Hehe. Do you have any other option?\", \r\n                 \"All the best. May the luck be with you.\"],\r\n        follows: [\"Ohh, you are still alive!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Sean:{\r\n        starts: [\"Hey $PLAYERNAME! Long time no see?\", \r\n                 \"Ummm...not great.\",\r\n                 \"Ummm....\",\r\n                 \"Gambit and his bully friends are not allowing me to run my business!\", \r\n                 \"He is a tribe member. That't why nobody is willing to help me.\", \r\n                 \"He's on level 4, I don't think you can defeat him. I don't want to give you any trouble.\", \r\n                 \"Okay, your call. But, be careful.\"],\r\n        follows: [\"Be careful of the tribe, $PLAYERNAME.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Gambit:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey kid! Stop wandering around here. This is tribe's property!\",\r\n                    \"Your big mouth will lead you into trouble.\",\r\n                    \"I can defeat you in 2 minutes. Challenge accepted.\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect!\"],\r\n        battleDeclineDefeated:[\"Go and battle our boss now!\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\"],\r\n    },\r\n\r\n    Chop:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Molly:{\r\n        starts: [\"Hey $PLAYERNAME. Glad you are here.\",\r\n                 \"There's a lot of noise inside. The tribe members you know.\",\r\n                 \"They are everywhere. We need to get rid of them.\",\r\n                 \"First you need to defeat all of the tribe members. Only then you can battle their boss. I hope you knew this.\",\r\n                 \"All the best! May the luck be with you.\"],\r\n        follows: [\"Not great. I hope you defeat the tribe soon.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Jordan:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"You won't be able to defeat me. Do you have the guts to battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice\"],\r\n        battleLose:[\"You are great! Cheers!.\"],\r\n        battleWin: [\"You're aweful. You need to practice.\"],\r\n    },\r\n\r\n    Grindel:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Tori:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Test your Roshambo skills against a real player. Battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"I need to study now!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"So lucky you are! So lucky you are!\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Ghissu:{\r\n        starts: [\"Hey $PLAYERNAME! Whatsup!\", \r\n                 \"No! still 4th revision remaining. BTW, what are you doing here?\", \r\n                 \"Yeah, they play all sorts of horrible music here, and particularly during daytime.\",\r\n                 \"In the gameroom, first floor.\",\r\n                 \"Hopefully your Roshambo is better than your sense of humour.\"\r\n                ],\r\n        follows: [\"Hey! Get lost now. I have to study.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Razor:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! Stop disturbing me! I watching something important.\",\r\n                    \"Don't teach me the rules. I make the rules here.\",\r\n                    \"Stop day dreaming you idiot. I challenge you for a Roshambo battle.\",\r\n                    \"You won't dare to speak a word against the tribe after this.\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect!\"],\r\n        battleDeclineDefeated:[\"You don't have friends? Leave me alone now!\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\", \"Now shut up and FO!\"],\r\n    },\r\n\r\n    Prick:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey kid! Do you wanna battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"So lucky you are! So lucky you are!\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    LT:{\r\n        starts: [\"Hey you! Don't disturb Razor. He doesn't like interruptions in between a movie.\"],\r\n        follows: [\"Get lost from here.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Rose:{\r\n        starts: [\"Hey! Please help me get my sparkle back. Snyder and his friend are not letting her go.\",\r\n                 \"Yes.\",\r\n                 \"Thanks!\"],\r\n        follows: [\"She' still with them! :(\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Snyder:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey you! stop disturbing us.\",\r\n                    \"This isn't your dog, so stop bothering. Stay away from us, otherwise we'll teach you a lesson.\",\r\n                    \"Hahahahaha. You can't touch even him!\",\r\n                    \"Really? Challenge accepted!\",\r\n                    \"If you lose, you stay away from us!\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect!\"],\r\n        battleDeclineDefeated:[\"We don't have time for you now.\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\", \"Now get lost!\"],\r\n    },\r\n\r\n    Kaloo:{\r\n        starts: [\"Meoww...\"],\r\n        follows: [\"....Meow.....Fuck off.....Meow...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Goku:{\r\n        starts: [\"Meoww...Meoww...\"],\r\n        follows: [\"Grhhhhhh.....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Misty:{\r\n        starts: [\"Meoww...Meoww...\"],\r\n        follows: [\"Grhhhhhh.....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Trigger:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Grhhhhhh.....Step aside.....\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Max:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! Do you wanna battle?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"So lucky you are! So lucky you are!\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    \r\n\r\n    Maty:{\r\n        starts: [\"Hey $PLAYERNAME! Long time!\", \r\n                 \"I'm great! Never seen you on this side of town before?\", \r\n                 \"You're living dangerously. Btw, you can find one of the tribe members near the hammock by the pool.\",\r\n                 \"Yeah. Before he creates more havoc near the hammock lol. All the best\"],\r\n        follows: [\"Hey $PLAYERNAME. I hope you defeat the boss.\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n    \r\n    Damon:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Tegan:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey kid! I heard you are looking for the tribe boss.\", \r\n                    \"Me? Why?\",\r\n                    \"Keep dreaming kid. I challenge you for a battle. Let me bring you down to earth haha.\"],\r\n        battleAcceptNeverDefeated:[\"Again? Save your self respect unless you want to go underground lol.\"],\r\n        battleDeclineDefeated:[\"I don't have time for you!\"],\r\n        battleDecline:[\"You need to level up, loser!\"],\r\n        battleLose:[\"You got lucky. Nevermind, this town still belongs to us!\"],\r\n        battleWin: [\"You were a total waste of time.\", \"Now shut up and FO!\"],\r\n    },\r\n\r\n\r\n    Hunt:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Do you wanna test your Roshambo skills against a real player?\"],\r\n        battleAcceptNeverDefeated:[\"How many times you wanna lose!!\"],\r\n        battleDeclineDefeated:[\"Enough of Roshambo for the day!\"],\r\n        battleDecline:[\"I don't think you're on my level. Go and Practice.\"],\r\n        battleLose:[\"Today is not my day. I should get some rest.\"],\r\n        battleWin: [\"Was this your first time lol?\"],\r\n    },\r\n\r\n    Fattu:{\r\n        starts: [\"Dude! Stop here. Don't go inside.\",\r\n                 \"She is. Thats why.\",\r\n                 \"You will definitely die, sexist.\"],\r\n        follows:[\"You are still alive!\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Rock:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Meoww...Hail Markov...Meoww...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Paper:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Meoww..Markov greater Bayesian....Meoww...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Scissors:{\r\n        starts: [\"Meoww....You'll die...Meoww....\"],\r\n        follows: [\"Meoww...Hail Markov...Meoww...\"],\r\n        battleAsk:[],\r\n        battleAcceptNeverDefeated:[],\r\n        battleDeclineDefeated:[],\r\n        battleDecline:[],\r\n        battleLose:[],\r\n        battleWin:[],\r\n    },\r\n\r\n    Beast:{\r\n        starts: [],\r\n        follows: [],\r\n        battleAsk: [\"Hey! What are you doing here?\",\r\n                    \"Is there anyone else over here wearing a semi-naked vamp costume? I'm the boss and my name is Beast.\",\r\n                    \"I know. There can be no other reason for you to be here.\",\r\n                    \"Oh you like cats? The black one is Rock, the white one is Paper and the ginger one is Scissors. Stay away from them.\",\r\n                    \"I thought you were here for the battle. Just being professional.\"],\r\n        battleAcceptNeverDefeated:[\"I hope you are prepared this time.\"],\r\n        battleDeclineDefeated:[\"Neh, not now. See you at the championships!\"],\r\n        battleDecline:[\"You need to defeat all my tribe members first! Plus you need to be on Level 5.\"],\r\n        battleLose:[\"You defeated me all fair and square. Kudos to you.\",\r\n                     \"No, you are a deserving winner. And I'm not a sore loser.\",\r\n                     \"Now I feel much better lol.\",\r\n                     \"You cannot just reset the rules! You need to defeat me in the Roshambo championship. You thought you could be the tribe boss on the basis of a friendly battle?\",\r\n                     \"Next year. He needs to start coding for the that.\",\r\n                     \"The developer of this game.\",\r\n                     \"Ask the developer.\"],\r\n        battleWin: [\"You really thought you got a chance here lol.\"],\r\n    },\r\n    \r\n}","import * as ActionTypes from './ActionTypes';\r\nimport { TOTAL_MOVEMENT_SIZE, LEFT, RIGHT, UP, DOWN, TILE_SIZE,\r\n        PASSIBLE_INDEX, PORTAL, ROCK, PAPER, SCISSORS, SAVED_GAME, PORTAL_LEAVE, PORTAL_ENTER, BATTLE_ELIGIBILITY_THRESHOLD, PICKABLES, BATTLE_NUM_GANG_MEMBERS, BOSS, GANG_MEMBER, NON_GANG_MEMBER, DRIP_SOUND, LASER_SOUND, PICK_SOUND} from '../helpers/constants';\r\nimport { tileToMapCoordinates, mapToViewport, mapCoordinatesToTiles, customSetTimeout, clearIntervals, playSoundEffect } from '../helpers/funcs';\r\nimport { PLAYERDIALOGS, NPCDIALOGS } from '../data/script';\r\n\r\n\r\nconst observeMapBoundaries = (newpos, mapwidth, mapheight) => {\r\n    return (newpos[0]>=0 && newpos[0]<=mapwidth - TILE_SIZE) &&\r\n            (newpos[1]>=0 && newpos[1]<=mapheight - TILE_SIZE);\r\n}\r\n\r\nconst observeImpassible = (tiles, newpos) => {\r\n    const tile = mapCoordinatesToTiles(newpos, TILE_SIZE);\r\n    const row = tile[0], col = tile[1];\r\n    return (Math.abs(tiles[row][col]) <= PASSIBLE_INDEX);\r\n}\r\n\r\nconst observeCamera = (position, direction, mapstart, camera) => {\r\n    const viewportPos = mapToViewport(position, mapstart);\r\n    if(direction===LEFT || direction===RIGHT)\r\n        return (viewportPos[0] >= camera[0][0]) && (viewportPos[0] <= camera[0][1])\r\n    else if(direction===UP || direction===DOWN)\r\n        return (viewportPos[1] >= camera[1][0]) && (viewportPos[1] <= camera[1][1])\r\n}\r\n\r\nconst observeIdleNPC = (newpos, npcList) => {\r\n    const npclist = npcList.filter( npc => {\r\n        if(!npc.isAnimating)\r\n            return (newpos[0] === npc.position[0]) && (newpos[1] === npc.position[1]);\r\n        else\r\n            return false;\r\n    });\r\n\r\n    return npclist;\r\n}\r\n\r\nconst observeAnimatingNPC = (newpos, npcList) => {\r\n    const npclist = npcList.filter( npc => {\r\n        if(npc.isAnimating)\r\n            return (newpos[0] === npc.nextPosition[0]) && (newpos[1] === npc.nextPosition[1]);\r\n        else \r\n            return false;\r\n    });\r\n\r\n    return npclist;\r\n}\r\n\r\nconst observeIdlePlayer = (newpos, player) => {\r\n    if(!player.isAnimating) \r\n        return (newpos[0] === player.position[0]) && (newpos[1] === player.position[1]);\r\n    else\r\n        return false;\r\n}\r\n\r\nconst observePlayer = (newpos, player) => {\r\n    if(!player.isAnimating) \r\n        return !((newpos[0] === player.position[0]) && (newpos[1] === player.position[1]));\r\n    else\r\n        return !((newpos[0] === player.nextPosition[0]) && (newpos[1] === player.nextPosition[1]));\r\n}\r\n\r\nconst mapScrollable = (direction, mapstart, mapend, viewportWidth, viewportHeight) => {\r\n    switch(direction) {\r\n        case LEFT:\r\n            return (mapstart[0] < 0);\r\n        case UP:\r\n            return (mapstart[1] < 0);\r\n        case RIGHT:\r\n            return (mapend[0] > viewportWidth);\r\n        case DOWN:\r\n            return (mapend[1] > viewportHeight);\r\n        default:\r\n            return false;\r\n        \r\n    }\r\n}\r\n\r\n\r\nconst getNewPostion = (oldpos, direction, movementSize) => {\r\n    switch(direction) {\r\n        case LEFT:\r\n            return [oldpos[0]-movementSize, oldpos[1]];\r\n        case RIGHT:\r\n            return [oldpos[0]+movementSize, oldpos[1]];\r\n        case UP:\r\n            return [oldpos[0], oldpos[1] - movementSize];\r\n        case DOWN:\r\n            return [oldpos[0], oldpos[1] + movementSize];\r\n        default:\r\n            window.alert(\"Something went wrong! Please relaunch the game.\");\r\n    }\r\n}\r\n\r\nconst getNewOrigin = (start, direction, movementSize) => {\r\n    switch(direction) {\r\n        case LEFT:\r\n            return [start[0]+movementSize, start[1]];\r\n        case RIGHT:\r\n            return [start[0]-movementSize, start[1]];\r\n        case UP:\r\n            return [start[0], start[1] + movementSize];\r\n        case DOWN:\r\n            return [start[0], start[1] - movementSize];\r\n        default:\r\n                window.alert(\"Something went wrong! Please relaunch the game.\");\r\n    }\r\n}\r\n\r\n\r\nconst getNPC = (npclist, npcid) => {\r\n    return(npclist.filter(npc => npc.id===npcid)[0]);\r\n}\r\n\r\n\r\nexport const UpdatePlayerPosition = (keyCode) => (dispatch, getState) => {\r\n    const player = getState().player;\r\n    const VIEWPORT_WIDTH = getState().viewport.viewportDims[0], VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    let oldpos = player.position, newpos = [];\r\n    let mapstart = getState().viewport.start, mapend = getState().viewport.end;\r\n    const map = getState().map;\r\n    let direction, steps = player.skin.walkSpriteCount, movemap=false;\r\n    const frameMovementSize = TOTAL_MOVEMENT_SIZE/steps;\r\n\r\n    if(keyCode === 37) {\r\n        direction = LEFT;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    } else if(keyCode === 39) {\r\n        direction = RIGHT;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    } else if(keyCode === 38) {\r\n        direction = UP;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    } else if(keyCode === 40) {\r\n        direction = DOWN;\r\n        newpos = getNewPostion(oldpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    }\r\n\r\n    if(player.direction!==direction)\r\n        dispatch(UpdatePlayerDirectionAction(direction));\r\n\r\n    if(observeMapBoundaries(newpos, map.width, map.height) && observeImpassible(getState().map.tiles, newpos)) {\r\n        const idlenpc = observeIdleNPC(newpos, getState().npc.list);\r\n        const animatingnpc = observeAnimatingNPC(newpos, getState().npc.list);\r\n        if(idlenpc.length === 0 && animatingnpc.length===0) {\r\n            dispatch(UpdatePlayerAnimationAction(true, newpos));\r\n                if(observeCamera(oldpos, direction, mapstart, getState().viewport.camera) && mapScrollable(direction, mapstart, mapend, VIEWPORT_WIDTH, VIEWPORT_HEIGHT)) {\r\n                    movemap = true;\r\n                    requestAnimationFrame(animatePlayer);\r\n                } else {\r\n                    movemap=false;\r\n                    requestAnimationFrame(animatePlayer);\r\n                }\r\n        } else if(idlenpc.length > 0) {\r\n            if(player.nearbyNPC!==idlenpc[0].id) {\r\n                dispatch(UpdateNearbyNPCAction(idlenpc[0].id));\r\n                if(idlenpc[0].battle && !idlenpc[0].battleFlag) {\r\n                    dispatch(ForceBattleConversation(getState().player, idlenpc[0]));\r\n                } else if(!idlenpc[0].talkFlag) {\r\n                    dispatch(ForceNonBattleConversation(getState().player, idlenpc[0]));\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        const idlenpc = observeIdleNPC(newpos, getState().npc.list);\r\n        if(idlenpc.length > 0) {\r\n            if(player.nearbyNPC!==idlenpc[0].id) {\r\n                dispatch(UpdateNearbyNPCAction(idlenpc[0].id));\r\n                if(idlenpc[0].battle && !idlenpc[0].battleFlag) {\r\n                    dispatch(ForceBattleConversation(getState().player, idlenpc[0]));\r\n                } else if(!idlenpc[0].talkFlag) {\r\n                    dispatch(ForceNonBattleConversation(getState().player, idlenpc[0]));\r\n                }\r\n            }\r\n        }else {\r\n            if(player.nearbyNPC!==null) {\r\n                dispatch(UpdateNearbyNPCAction());\r\n            }\r\n        }\r\n    }\r\n\r\n    function animatePlayer() {\r\n        if(steps === 0) {\r\n            dispatch(UpdatePlayerAnimationAction(false));\r\n            //console.log(mapCoordinatesToTiles(getState().player.position, TILE_SIZE));\r\n            const nearByNPC = checkNearbyIdleNPC(getState().player.position, getState().player.direction, getState().npc.list);\r\n            if(nearByNPC.length) {\r\n                dispatch(UpdateNearbyNPCAction(nearByNPC[0].id));\r\n                if(nearByNPC[0].battle && !nearByNPC[0].battleFlag) {\r\n                    dispatch(ForceBattleConversation(getState().player, nearByNPC[0]));\r\n                } else if(!nearByNPC[0].talkFlag) {\r\n                    dispatch(ForceNonBattleConversation(getState().player, nearByNPC[0]));\r\n                }\r\n            } else if(player.nearbyNPC!==null) {\r\n                dispatch(UpdateNearbyNPCAction());\r\n            }\r\n\r\n            const objects = getObjectForPickup(getState().player.position, getState().gameobjects);\r\n            if(objects.length) {\r\n                dispatch(UpdateNearbyGameObjAction(objects[0].id)); \r\n            } else if(player.nearbyGameObj!==null) {\r\n                dispatch(UpdateNearbyGameObjAction());\r\n            }\r\n\r\n            const portals = getPortal(getState().player.position, getState().gameobjects);\r\n            if(portals.length) {\r\n                dispatch(UpdateNearbyPortalAction(portals[0]));\r\n            } else if(player.nearbyPortal!==null) {\r\n                dispatch(UpdateNearbyPortalAction());\r\n            }\r\n            return;\r\n        } \r\n        newpos = getNewPostion(oldpos, direction, frameMovementSize);\r\n        dispatch(UpdatePlayerPositionAction(newpos));\r\n        oldpos = newpos;\r\n        if(movemap) {\r\n            mapstart = getNewOrigin(mapstart, direction, frameMovementSize);\r\n            dispatch(UpdateOriginAction(mapstart));\r\n        }\r\n        steps--;\r\n        setTimeout(function() {requestAnimationFrame(animatePlayer)}, player.frameInterval);\r\n    }\r\n}\r\n\r\nconst getPositionEquality = (pos1, pos2) => (pos1[0]===pos2[0] && pos1[1]===pos2[1])\r\n\r\nconst getObjectForPickup = (position, gameobjects) => {\r\n    return(gameobjects.filter(gameobject => PICKABLES.includes(gameobject.type.type)  && getPositionEquality(position, gameobject.position)))\r\n}\r\n\r\nexport const PickupGameObject = () => (dispatch, getState) => {\r\n    const player = getState().player;\r\n    const gameobject = player.nearbyGameObj!==null? getState().gameobjects.filter( gobj => gobj.id === player.nearbyGameObj ): null;\r\n    if(gameobject!==null) {\r\n        playSoundEffect(PICK_SOUND);\r\n        dispatch(AddObjecttoInventory(gameobject[0]));\r\n        dispatch(UpdateNearbyGameObjAction()); \r\n    }\r\n}\r\n\r\nconst getOppositeDirection = (direction) => {\r\n    switch(direction) {\r\n        case UP: return DOWN;\r\n        case RIGHT: return LEFT;\r\n        case DOWN: return UP;\r\n        case LEFT: return RIGHT;\r\n        default:\r\n            window.alert(\"Something went wrong! Please relaunch the game.\");\r\n    }\r\n}\r\n\r\nconst checkNearbyIdlePlayer = (npcpos, direction, player) => {\r\n    const nextPosition = getNewPostion(npcpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    return observeIdlePlayer(nextPosition, player);\r\n}\r\n\r\nconst checkNearbyIdleNPC = (playerpos, direction, npcList) => {\r\n    const nextPosition = getNewPostion(playerpos, direction, TOTAL_MOVEMENT_SIZE);\r\n    const nearByNPC = observeIdleNPC(nextPosition, npcList);\r\n    return nearByNPC;\r\n}\r\n\r\nconst checkBattleEligibilty = (playerlevel, npclevel) => {\r\n    return(npclevel - playerlevel <= BATTLE_ELIGIBILITY_THRESHOLD);\r\n}\r\n\r\nconst checkBossBattleEligibilty = (defeatedGangMembersList) => {\r\n    return(Object.keys(defeatedGangMembersList).length===BATTLE_NUM_GANG_MEMBERS);\r\n}\r\n\r\nconst ForceBattleConversation = (player, npc) => (dispatch, getState) => {\r\n    \r\n    const VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n\r\n    if(!checkBattleEligibilty(player.battle.level, npc.level))\r\n        return;\r\n\r\n    if(npc.battlerType===BOSS) {\r\n        if(!checkBossBattleEligibilty(player.battle.defeatedGangMembers)) \r\n            return;\r\n    }\r\n   \r\n    const oppdirection = getOppositeDirection(player.direction);\r\n    if(npc.direction!==oppdirection) {\r\n        dispatch(UpdateNPCDirectionAction(npc.id, oppdirection));\r\n    }\r\n\r\n    dispatch(SetConversationStatus(npc.id, \r\n        {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n        {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAccept.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n        mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", true));\r\n}\r\n\r\nconst ForceNonBattleConversation = (player, npc) => (dispatch, getState) => {\r\n   \r\n    const VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    const oppdirection = getOppositeDirection(player.direction);\r\n\r\n    if(npc.direction!==oppdirection) {\r\n        dispatch(UpdateNPCDirectionAction(npc.id, oppdirection));\r\n    }\r\n    dispatch(SetConversationStatus(npc.id, \r\n        {name: npc.name, dialogs: NPCDIALOGS[npc.name].starts.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n        {name: player.name, dialogs: PLAYERDIALOGS[npc.name].follows.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))},\r\n        mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n}\r\n\r\nexport const InitiateConversation = () => (dispatch, getState) => {\r\n    const player = getState().player;\r\n    const npc = player.nearbyNPC!==null? getNPC(getState().npc.list, player.nearbyNPC):null;\r\n    const VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    if(npc && !npc.isAnimating) {\r\n        const oppdirection = getOppositeDirection(player.direction);\r\n        if(npc.direction!==oppdirection) {\r\n            dispatch(UpdateNPCDirectionAction(npc.id, oppdirection));\r\n        }\r\n        if(npc.battle) {\r\n            if(checkBattleEligibilty(player.battle.level, npc.level)) {\r\n                if(npc.battlerType===BOSS) {\r\n                    if(checkBossBattleEligibilty(player.battle.defeatedGangMembers)) {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleAcceptNeverDefeated.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", true));\r\n                    } else {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleDecline.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n                    }\r\n                \r\n                } else {\r\n                    if(npc.defeatedCount > 0) {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs:  NPCDIALOGS[npc.name].battleDeclineDefeated.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n                    } else {\r\n                        dispatch(SetConversationStatus(npc.id, \r\n                            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleAcceptNeverDefeated.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", true));\r\n                    }\r\n                }\r\n            } else {\r\n                dispatch(SetConversationStatus(npc.id, \r\n                    {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleAsk.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                    {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleDecline.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n                    mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n            }\r\n        } else {\r\n            dispatch(SetConversationStatus(npc.id, \r\n                                        {name: player.name, dialogs: npc.name in PLAYERDIALOGS? PLAYERDIALOGS[npc.name].starts.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name)): [\"Hey! Whatsup!\"]}, \r\n                                        {name: npc.name, dialogs: npc.name in NPCDIALOGS? NPCDIALOGS[npc.name].follows.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name)): [\"Ehh! Leave me alone!\"]}, \r\n                                        mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const UpdateConversation = () => (dispatch, getState) => {\r\n    const dialog = getState().dialog;\r\n    if(dialog.speakerIdx===0) {\r\n        dispatch(NextDialogAction());\r\n        return;\r\n    }\r\n\r\n    let nextcontentIdx = dialog.dialogIdx + 1;\r\n    if(nextcontentIdx<dialog.person1.dialogs.length) {\r\n        dispatch(NextDialogAction());\r\n    } else {\r\n        if(dialog.battleConversation) {\r\n            dispatch(StartBattle(getState().player, getNPC(getState().npc.list, dialog.npcId)));\r\n        }\r\n        dispatch(ResetConversationStatus(dialog.npcId));\r\n    }\r\n}\r\n\r\nconst getNewDirection = (oldpos, newpos, oldirection) => {\r\n    if(oldpos[0] === newpos[0]) {\r\n        if(oldpos[1] > newpos[1])\r\n            return UP;\r\n        else if(oldpos[1] < newpos[1])\r\n            return DOWN;\r\n        else return oldirection;\r\n    } else if(oldpos[1] === newpos[1]) {\r\n        if(oldpos[0] > newpos[0])\r\n            return LEFT;\r\n        else if(oldpos[0] < newpos[0])\r\n            return RIGHT;\r\n    } else return oldirection;\r\n}\r\n\r\nexport const UpdateNPCPosition = (npcId) => (dispatch, getState) => {\r\n    let npc = getNPC(getState().npc.list, npcId);\r\n    \r\n    if(npc.stationary ||  npc.isAnimating || npc.interacting || npc.inBattle)\r\n        return;\r\n    \r\n    if(npc.isWaiting) {\r\n        if((performance.now() - npc.lastUpdated) < npc.waitInterval) {\r\n            return;\r\n        }\r\n        else \r\n            dispatch(ResetNPCWaiting(npcId));\r\n    }\r\n        \r\n    let curdirection = npc.direction;\r\n    if(npc.pathArr.length < 2) {\r\n        if(curdirection!==npc.defaultDirection)\r\n            dispatch(UpdateNPCDirectionAction(npcId, npc.defaultDirection));\r\n        return;\r\n    } \r\n\r\n    let steps = npc.skin.walkSpriteCount, oldpos = npc.position;\r\n    const frameMovementSize = TOTAL_MOVEMENT_SIZE/steps;\r\n    let newpos = tileToMapCoordinates(npc.pathArr[npc.pathIdx + npc.pathDir], TILE_SIZE);\r\n    let newdirection = getNewDirection(oldpos, newpos, curdirection);\r\n    if(curdirection!==newdirection) {\r\n        dispatch(UpdateNPCDirectionAction(npcId, newdirection));\r\n    }\r\n\r\n    const map = getState().map;\r\n    \r\n    if(observeMapBoundaries(newpos, map.width, map.height)){\r\n\r\n        if(observePlayer(newpos, getState().player)) {\r\n            const idlenpc = observeIdleNPC(newpos, getState().npc.list);\r\n            const animatingnpc = observeAnimatingNPC(newpos, getState().npc.list);\r\n            if(idlenpc.length === 0 && animatingnpc.length===0) {\r\n                dispatch(UpdateNPCAnimationAction(npcId, true, newpos));\r\n                requestAnimationFrame(animateNPC)\r\n            }\r\n        } else {\r\n            if(getState().player.nearByNPC!==npc.id) {\r\n                if(getState().player.direction===getOppositeDirection(npc.direction)) {\r\n                    dispatch(UpdateNearbyNPCAction(npc.id));\r\n                    if(npc.battle && !npc.battleFlag) {\r\n                        dispatch(ForceBattleConversation(getState().player, npc));\r\n                    }else if(!npc.talkFlag) {\r\n                        dispatch(ForceNonBattleConversation(getState().player, npc));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function animateNPC() {\r\n        if(steps === 0) {\r\n            dispatch(UpdateNPCAnimationAction(npcId, false));\r\n            const player = getState().player;\r\n            let npc = getNPC(getState().npc.list, npcId);\r\n            if(checkNearbyIdlePlayer(npc.position, npc.direction, player)) {\r\n                if(player.direction===getOppositeDirection(npc.direction)) {\r\n                    dispatch(UpdateNearbyNPCAction(npc.id));\r\n                    if(npc.battle && !npc.battleFlag) {\r\n                        dispatch(ForceBattleConversation(getState().player, npc));\r\n                    }else if(!npc.talkFlag) {\r\n                        dispatch(ForceNonBattleConversation(getState().player, npc));\r\n                    }\r\n                }\r\n            } else if(player.nearbyNPC===npc.id) {\r\n                dispatch(UpdateNearbyNPCAction());\r\n            }\r\n            return;\r\n        } \r\n        newpos = getNewPostion(oldpos, newdirection, frameMovementSize);\r\n        dispatch(UpdateNPCPositionAction(npcId, newpos));\r\n        oldpos = newpos;\r\n        steps--;\r\n        customSetTimeout(function() {requestAnimationFrame(animateNPC)}, npc.frameInterval, npc.id);\r\n    }\r\n}\r\n\r\nconst getPortal = (position, gameobjects) => {\r\n    return(gameobjects.filter(gameobject => gameobject.type.type===PORTAL && getPositionEquality(position, gameobject.position)))\r\n}\r\n\r\nexport const CheckPortalAndEnter = () => (dispatch, getState) =>{\r\n    const player = getState().player;\r\n    const portal = player.nearbyPortal;\r\n    if(portal!==null) {\r\n        if(portal.type.name===PORTAL_ENTER) {\r\n    \r\n            dispatch(SaveStateInitAction());\r\n            clearIntervals();\r\n            \r\n            saveStateandAddMap();\r\n            \r\n                function saveStateandAddMap() { \r\n                    const npcList = getState().npc.list;\r\n                    const npcAnimating = npcList.filter( npc => npc.isAnimating);\r\n                    if(npcAnimating.length > 0) {\r\n                        setTimeout(saveStateandAddMap, 500);\r\n                    } else {\r\n                        dispatch(SaveStateAction(getState())); \r\n                        dispatch(AddMap(portal.target, true));\r\n                    }\r\n                }\r\n        } else if(portal.type.name===PORTAL_LEAVE) {\r\n            const cpyPrevStates = [...getState().statemanager.prevStates];\r\n            if(!cpyPrevStates.length)\r\n                return;\r\n\r\n            const oldState = cpyPrevStates.pop();\r\n            const currentMap = getState().map.name;\r\n            const currentGameobjects = getState().gameobjects.map( gameobject => {\r\n                return({\r\n                    ...gameobject,\r\n                    position: mapCoordinatesToTiles(gameobject.position, TILE_SIZE),});\r\n                });\r\n            const currentMapNPCBattleStatus = getState().npc.list.map( npc => {\r\n                return({ id: npc.id,\r\n                        battleFlag: npc.battleFlag,\r\n                        defeatedCount: npc.defeatedCount});\r\n                });\r\n            dispatch(SaveStateInitAction()); \r\n            clearIntervals();\r\n            checkandRestoreMap();\r\n                \r\n                function checkandRestoreMap() { \r\n                    const npcList = getState().npc.list;\r\n                    const npcAnimating = npcList.filter( npc => npc.isAnimating);\r\n                    if(npcAnimating.length > 0) {\r\n                        setTimeout(checkandRestoreMap, 500);\r\n                    } else {\r\n                        dispatch(LoadingMapAction());\r\n                        const mapBg = new Image();\r\n                        mapBg.onload = renderMap;\r\n                        mapBg.src = oldState.map.src;\r\n                        function renderMap(){\r\n                            dispatch(RestoreStateAction({map: currentMap, gameobjects: currentGameobjects, npc: currentMapNPCBattleStatus}, oldState, cpyPrevStates));\r\n                        }  \r\n                    }\r\n                }\r\n            }   \r\n    }\r\n}\r\n\r\nexport const SaveGameToDisk = () => (dispatch, getState) => {\r\n    \r\n    dispatch(SaveStateInitAction());\r\n    clearIntervals();\r\n    saveStateToLocalStorage();\r\n        \r\n    function saveStateToLocalStorage() { \r\n        const npcList = getState().npc.list;\r\n        const npcAnimating = npcList.filter( npc => npc.isAnimating);\r\n        if(npcAnimating.length > 0) {\r\n            setTimeout(saveStateToLocalStorage, 500);\r\n        } else {\r\n            try {\r\n                const serializedState = JSON.stringify(getState());\r\n                localStorage.setItem(SAVED_GAME, serializedState);\r\n                alert(\"Game saved successfully!\");\r\n              } catch (err) {\r\n                alert(\"Saving state failed! Try starting a new game.\");\r\n              } \r\n            dispatch(SaveStateEndAction());\r\n        }\r\n    }\r\n}\r\n\r\nexport const LoadGameFromDisk = () => (dispatch) => {\r\n    try {\r\n        const serializedState = localStorage.getItem(SAVED_GAME);\r\n    \r\n        if (serializedState === null) {\r\n          return undefined;\r\n        }\r\n    \r\n        const state =  JSON.parse(serializedState);\r\n        dispatch(LoadingMapAction());\r\n        const mapBg = new Image();\r\n        mapBg.onload = renderMap;\r\n        mapBg.src = state.map.src;\r\n        function renderMap(){\r\n            dispatch(RestoreStateFromDiskAction(state));\r\n        }  \r\n    \r\n      } catch (err) {\r\n            alert(\"Loading state failed. Start a new game!\");\r\n            return undefined;\r\n      }\r\n      return 1;\r\n}\r\n\r\nexport const AddMap = (level, secondary=false) => (dispatch, getState) => {\r\n    dispatch(LoadingMapAction());\r\n\r\n    const width = level.map.tiles[0].length*TILE_SIZE, height= level.map.tiles.length*TILE_SIZE;\r\n    const playerPosition = tileToMapCoordinates(level.player.position, TILE_SIZE);\r\n    const VIEWPORT_WIDTH = getState().viewport.viewportDims[0], VIEWPORT_HEIGHT = getState().viewport.viewportDims[1];\r\n    let start_x, start_y, end_x, end_y;\r\n    if(width <= VIEWPORT_WIDTH) {\r\n        start_x = VIEWPORT_WIDTH/2 - width/2;\r\n        end_x = start_x + width;\r\n    } else {\r\n        start_x = (VIEWPORT_WIDTH/2) - playerPosition[0] - TILE_SIZE;\r\n        start_x = start_x >=0? 0: start_x;\r\n        end_x = start_x + width;\r\n        if(end_x < VIEWPORT_WIDTH) {\r\n            end_x = VIEWPORT_WIDTH;\r\n            start_x = end_x - width;\r\n        }\r\n    }\r\n    if(height <= VIEWPORT_HEIGHT) {\r\n        start_y = VIEWPORT_HEIGHT/2 - height/2;\r\n        end_y = start_y + height;\r\n    } else {\r\n        start_y = (VIEWPORT_HEIGHT/2)-playerPosition[1] - TILE_SIZE;\r\n        start_y = start_y >=0? 0: start_y;\r\n        end_y = start_y + height\r\n        if(end_y < VIEWPORT_HEIGHT) {\r\n            end_y = VIEWPORT_HEIGHT;\r\n            start_y = end_y - height;\r\n        }\r\n    }\r\n    \r\n    let start = [ start_x, start_y ];\r\n    let end = [end_x, end_y];\r\n\r\n    let oldState = null;\r\n    if(secondary) {\r\n        const sm = getState().statemanager;\r\n        oldState = level.name in sm? sm[level.name]: null; \r\n    }\r\n\r\n    const mapBg = new Image();\r\n    mapBg.onload = renderMap;\r\n    mapBg.src = level.map.src;\r\n\r\n    function renderMap(){\r\n        dispatch(AddMapAction(level, width, height, playerPosition, start, end, oldState, secondary));\r\n    }\r\n}\r\n\r\n\r\nexport const SetPlayerInfoAction = (name, skinIdx) => {\r\n    return({\r\n        type: ActionTypes.SET_PLAYER_INFO,\r\n        payload : {\r\n            name,\r\n            skinIdx\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const StartNewJourneyAction = () => {\r\n    return({\r\n        type: ActionTypes.START_NEW_JOURNEY,\r\n    });\r\n}\r\n\r\n\r\nexport const InitViewportAction = (viewportDims) => {\r\n    const camera = [[(viewportDims[0]/2) - (TILE_SIZE*2), (viewportDims[0]/2) + (TILE_SIZE)], [(viewportDims[1]/2) - (TILE_SIZE*2), (viewportDims[1]/2) + (TILE_SIZE)]];\r\n    return({\r\n        type: ActionTypes.INIT_VIEWPORT_DIMS,\r\n        payload: {\r\n            viewportDims,\r\n            camera,\r\n        }\r\n    });\r\n}\r\n\r\n\r\nconst StartBattle = (player, npc) => {\r\n    return({\r\n        type: ActionTypes.START_BATTLE,\r\n        payload: {\r\n            player,\r\n            npc,\r\n        }\r\n    });\r\n} \r\n\r\nconst BattleGetRandomMove = (maxMove) => {\r\n    return (Math.floor(Math.random() * (maxMove+1)) % (maxMove+1));\r\n}\r\n\r\nconst BattleGetPredictedMoveIdx = (arr) => {\r\n    return(arr.reduce((maxIdx, currVal, currIdx, arr) => currVal > arr[maxIdx]? currIdx: maxIdx, 0));\r\n}\r\n\r\nconst BattleGetWinningMove = (move, maxMove) => {\r\n    switch(move) {\r\n        case ROCK: return PAPER;\r\n        case PAPER: return SCISSORS;\r\n        case SCISSORS: return ROCK;\r\n        default: return BattleGetRandomMove(maxMove);\r\n    }\r\n}\r\n\r\nconst BattleGetNextMove = (battlerType, markovMatrix, lastMove) => {\r\n    const maxMove = markovMatrix.length - 1;\r\n    let nextMove, predictedMoveIdx;\r\n    if(battlerType===NON_GANG_MEMBER ||  lastMove===null) {\r\n        nextMove = BattleGetRandomMove(maxMove);\r\n    } else {\r\n        predictedMoveIdx = BattleGetPredictedMoveIdx(markovMatrix[lastMove]);\r\n        if(markovMatrix[lastMove][predictedMoveIdx]===0) {\r\n            nextMove = BattleGetRandomMove(maxMove);\r\n        } else {\r\n            nextMove =  BattleGetWinningMove(predictedMoveIdx);\r\n        }\r\n    }\r\n    return nextMove;\r\n}\r\n\r\nconst BattleGetWinner = (playermove, npcmove) => {\r\n        if(playermove===ROCK) {\r\n            if(npcmove===SCISSORS) \r\n                return 1; //player won\r\n            else if(npcmove===PAPER)\r\n                return -1; //npc won\r\n            else \r\n                return 0 //draw\r\n        } else if(playermove===PAPER) {\r\n            if(npcmove===ROCK) \r\n                return 1; //player won\r\n            else if(npcmove===SCISSORS)\r\n                return -1; //npc won\r\n            else\r\n                return 0 //draw\r\n        } else if(playermove===SCISSORS) {\r\n            if(npcmove===PAPER)\r\n                return 1; //player won\r\n            else if(npcmove===ROCK)\r\n                return -1; //npc won\r\n            else\r\n                return 0 //draw\r\n        }\r\n}\r\n\r\nexport const BattleMoveIndexToStr = (move) => {\r\n    switch(move) {\r\n        case 0: return \"ROCK\";\r\n        case 1: return \"PAPER\";\r\n        case 2: return \"SCISSORS\";\r\n        default: return \"Undefined\";\r\n    }\r\n}\r\n\r\nconst BattleSummary = (playername, playermove, npcname, npcmove, winner) => {\r\n    const playerline = playername + \" chose \"+ BattleMoveIndexToStr(playermove) + \". \";\r\n    const npcline = npcname+ \" chose \"+ BattleMoveIndexToStr(npcmove)+\". \";\r\n    let winnerline; \r\n    if(winner===1) {\r\n        winnerline = playername + \" wins this round!\";\r\n    } else if(winner===-1) {\r\n        winnerline = npcname+ \" wins this round!\";\r\n    } else {\r\n        winnerline = \"Its a DRAW!\";\r\n    }\r\n    return(playerline+npcline+winnerline);\r\n}\r\n\r\nexport const BattleHandleMove = (playerMove) => (dispatch, getState) => {\r\n    \r\n    playSoundEffect(LASER_SOUND);\r\n    let battle = getState().battle;\r\n    const playerMarkovMatrix = battle.player.markovMatrix;\r\n    const playerLastMove = battle.player.lastMove;\r\n    const npcMove = BattleGetNextMove(battle.npc.battlerType, playerMarkovMatrix, playerLastMove);\r\n    const winner = BattleGetWinner(playerMove, npcMove);\r\n    const summary = BattleSummary(battle.player.name, playerMove, battle.npc.name, npcMove, winner);\r\n    dispatch(UpdateBattleStatsAction(playerMove, npcMove, winner, summary));\r\n\r\n    const finalWinner = CheckBattleWinner(getState().battle);\r\n    if(finalWinner!==0) {\r\n        battle = getState().battle;\r\n        let newexp = battle.player.exp + getPlayerNewExp(battle.player.score, battle.player.level, battle.npc.level, finalWinner);\r\n        let newlevel = getPlayerLevel(newexp);\r\n        setTimeout( function() { \r\n            dispatch(EndBattle(finalWinner, {newlevel, newexp, gangMember:finalWinner===1 && battle.npc.battlerType===GANG_MEMBER?battle.npc.name:null}, battle.npc.id));\r\n        }, 1200);\r\n    }\r\n}\r\n\r\nconst getPlayerNewExp = (score, playerLevel, npcLevel, winner) => {\r\n    const BASE_EXP = 5, LEVEL_MULTIPLIER = 10, WIN_BONUS=10;\r\n    if(winner===1)\r\n        return(BASE_EXP + score + Math.max((npcLevel - (playerLevel-1))*LEVEL_MULTIPLIER, LEVEL_MULTIPLIER) + WIN_BONUS);\r\n    else \r\n        return(BASE_EXP + score);\r\n}\r\n\r\nconst getPlayerLevel = (exp) => {\r\n    if(exp < 60) \r\n        return 1;\r\n    else if(exp < 180)\r\n        return 2;\r\n    else if(exp < 360)\r\n        return 3;\r\n    else if(exp < 540)\r\n        return 4;\r\n    else if(exp < 1000)\r\n        return 5;\r\n    else \r\n        return 6;\r\n}\r\n\r\nconst CheckBattleWinner = (battle) => {\r\n    if(battle.player.lives===0) {\r\n        return -1;\r\n    } else if(battle.npc.lives===0) {\r\n        return 1;\r\n    } else {\r\n        return 0;\r\n    }\r\n}\r\n\r\nconst EndBattle = (battleWinner, updatedPlayerStats, npcId) => {\r\n    return({\r\n        type: ActionTypes.END_BATTLE,\r\n        payload: {\r\n            battleWinner,\r\n            player: updatedPlayerStats,\r\n            npcId,\r\n        }\r\n    });\r\n}\r\n\r\nexport const CloseBattleSequence = () => (dispatch, getState) => {\r\n    const npc = getNPC(getState().npc.list, getState().battle.npc.id), player = getState().player;\r\n    const VIEWPORT_HEIGHT=getState().viewport.viewportDims[1];\r\n    dispatch(CloseBattle());\r\n    \r\n    if(getState().battle.finalWinner===1) {\r\n        dispatch(SetConversationStatus(npc.id, \r\n            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleLose.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleWin.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n    } else {\r\n        dispatch(SetConversationStatus(npc.id, \r\n            {name: npc.name, dialogs: NPCDIALOGS[npc.name].battleWin.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            {name: player.name, dialogs: PLAYERDIALOGS[npc.name].battleLose.map(dialog => dialog.replace(\"$PLAYERNAME\", player.name))}, \r\n            mapToViewport(player.position, getState().viewport.start)[1]>(VIEWPORT_HEIGHT/3)? \"top\": \"bottom\", false));\r\n    }\r\n    \r\n} \r\n\r\nconst CloseBattle = () => {\r\n    return({\r\n        type: ActionTypes.CLOSE_BATTLE,\r\n    });\r\n}\r\n\r\nexport const BattleEndIntro = () => {\r\n    return({\r\n        type: ActionTypes.END_BATTLE_INTRO,\r\n    });\r\n}\r\n\r\n\r\n\r\nconst UpdateBattleStatsAction = (playermove, npcmove, winner, summary) => {\r\n    return({\r\n        type: ActionTypes.SUBMIT_MOVES,\r\n        payload: {\r\n            playermove,\r\n            npcmove,\r\n            winner,\r\n            summary,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdatePlayerAnimationAction = (isAnimating, newpos = []) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_PLAYER_ANIMATION,\r\n        payload: {\r\n            isAnimating,\r\n            newpos,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNPCAnimationAction = (id, isAnimating, newpos = []) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NPC_ANIMATION,\r\n        payload: {\r\n            id,\r\n            isAnimating,\r\n            newpos,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdatePlayerPositionAction = (position) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_PLAYER_POSITION,\r\n        payload: {\r\n            position,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNPCPositionAction = (npcId, position) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NPC_POSITION,\r\n        payload: {\r\n            id: npcId,\r\n            position,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdatePlayerDirectionAction = (direction) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_PLAYER_DIRECTION,\r\n        payload: {\r\n            direction,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNearbyNPCAction = (npcId=null) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NEARBY_NPC,\r\n        payload: {\r\n            npcId: npcId,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNearbyGameObjAction = (gameobjId=null) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NEARBY_GAMEOBJ,\r\n        payload: {\r\n            id: gameobjId,\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNearbyPortalAction = (portal=null) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NEARBY_PORTAL,\r\n        payload: {\r\n           portal\r\n        }\r\n    });\r\n}\r\n\r\nconst UpdateNPCDirectionAction = (npcId, direction) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_NPC_DIRECTION,\r\n        payload: {\r\n            id: npcId,\r\n            direction,\r\n        }\r\n    });\r\n}\r\n\r\nconst ResetNPCWaiting = (npcId) => {\r\n    return({\r\n        type: ActionTypes.RESET_NPC_WAITING,\r\n        payload: {\r\n            id: npcId,\r\n        }\r\n    });\r\n}\r\n\r\nexport const UpdateOriginAction = (origin) => {\r\n    return({\r\n        type: ActionTypes.UPDATE_MAP_ORIGIN,\r\n        payload: {\r\n            origin\r\n        },\r\n    });\r\n}\r\n\r\n\r\nconst SetConversationStatus = (npcId, person1, person2, position, battleConversation) => {\r\n    playSoundEffect(DRIP_SOUND);\r\n    return({\r\n        type: ActionTypes.SET_DIALOG_STATUS,\r\n        payload: {\r\n            person1,\r\n            person2,\r\n            npcId,\r\n            position,\r\n            battleConversation,\r\n        }\r\n    });\r\n}\r\n\r\nconst ResetConversationStatus = (npcId) => {\r\n    return({\r\n        type: ActionTypes.RESET_DIALOG_STATUS,\r\n        payload: {\r\n            npcId,\r\n        }\r\n    });\r\n}\r\n\r\nconst NextDialogAction = () => {\r\n    playSoundEffect(DRIP_SOUND);\r\n    return({\r\n        type: ActionTypes.NEXT_DIALOG,\r\n    })\r\n}\r\n\r\nexport const ToggleInventory = () => {\r\n    playSoundEffect(PICK_SOUND);\r\n    return({\r\n        type: ActionTypes.TOGGLE_INVENTORY_DISPLAY,\r\n    })\r\n}\r\n\r\nconst AddObjecttoInventory = (object) => {\r\n    return({\r\n        type: ActionTypes.ADD_OBJECT_TO_INVENTORY,\r\n        payload: {\r\n            object,\r\n        }\r\n    });\r\n}\r\n\r\n\r\nconst SaveStateInitAction = () => {\r\n    return({\r\n        type: ActionTypes.SAVE_STATE_INITIATED,\r\n    })\r\n}\r\n\r\nconst SaveStateAction = (state) => {\r\n    return({\r\n        type: ActionTypes.SAVE_STATE,\r\n        payload: {\r\n            state,\r\n        }\r\n    })\r\n}\r\n\r\nconst SaveStateEndAction = () => {\r\n    return({\r\n        type: ActionTypes.SAVE_STATE_END,\r\n    })\r\n}\r\n\r\n\r\nconst RestoreStateAction = (currentMapInfo, state, prevStates) => {\r\n    return({\r\n        type: ActionTypes.RESTORE_STATE,\r\n        payload: {\r\n            mapinfo: currentMapInfo,\r\n            state,\r\n            prevStates,\r\n        }\r\n    })\r\n}\r\n\r\nconst RestoreStateFromDiskAction = (state) => {\r\n    return({\r\n        type: ActionTypes.RESTORE_STATE_FROM_DISK,\r\n        payload: {\r\n            state,\r\n        }\r\n    })\r\n}\r\n\r\nconst LoadingMapAction = () => {\r\n    return({\r\n        type: ActionTypes.MAP_LOADING,\r\n    });\r\n}\r\n\r\nconst getMergedNPCList = (base, diff) => {\r\n    let diffnpc = null;\r\n    return(base.map( npc => {\r\n                diffnpc = getNPC(diff, npc.id);\r\n                return({\r\n                    ...npc,\r\n                    battleFlag: diffnpc.battleFlag,\r\n                    defeatedCount: diffnpc.defeatedCount,\r\n                });\r\n            })\r\n    );\r\n}\r\n\r\nconst AddMapAction = (level, width, height ,playerPosition, vpstart, vpend, oldState, secondary) => { \r\n    return({\r\n        type: ActionTypes.ADD_MAP,\r\n        payload: {\r\n            secondary,\r\n            name: level.name,\r\n            tiles: level.map.tiles,\r\n            width,\r\n            height,\r\n            src: level.map.src,\r\n            audioSrc: level.map.audioSrc,\r\n            viewport: {\r\n                start: vpstart,\r\n                end: vpend,\r\n            },\r\n            player: {\r\n                ...level.player,\r\n                position: playerPosition,\r\n            },\r\n            npc: oldState? getMergedNPCList(level.npc, oldState.npc) : level.npc,\r\n            gameobjects: oldState? oldState.gameobjects: level.gameobjects.concat(level.portals),\r\n        },\r\n    });\r\n}","import React from 'react';\r\nimport { solidBorder, getFontSize } from '../helpers/funcs';\r\nimport { faCheckSquare, faWindowClose } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst bgStyle = (bgcolor, bordercolor) => {\r\n    return({\r\n        padding: '5px',\r\n        backgroundColor: bgcolor,\r\n        ...solidBorder(2, bordercolor, 5),\r\n    });\r\n}\r\n\r\nconst CustomModal = (props) => {\r\n    const style = {\r\n        position: 'absolute',\r\n        width: 600,\r\n        height: 250,\r\n        ...solidBorder(5, 'grey', 5), \r\n        left:'50%',\r\n        top:'50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        zIndex: 5,\r\n        backgroundColor:'whitesmoke',\r\n        display: props.show? \"flex\": \"none\",\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around',\r\n        alignItems: 'center',\r\n        fontFamily: 'gameboy',\r\n        fontSize: getFontSize(2.5),\r\n    };\r\n\r\n    return(\r\n        <div style={style}>\r\n            <p style={{color:'black'}}>Exit to Main Menu?</p>\r\n            <div style={{display:'flex', justifyContent:'space-between'}}>\r\n                <button style={{width:'230px',  fontFamily:'gameboy', fontSize: getFontSize(2.3), ...bgStyle('MediumSeaGreen', 'green'), margin:'10px'}} onClick={props.confirmLink}>\r\n                    Confirm <FontAwesomeIcon style={{color:\"white\"}} size=\"1x\" icon={faCheckSquare}/></button>\r\n                <button style={{width:'230px', fontFamily:'gameboy', fontSize: getFontSize(2.3), ...bgStyle('OrangeRed', 'red'), margin:'10px'}} onClick={props.cancelLink}>\r\n                    Cancel <FontAwesomeIcon style={{color:\"white\"}} size=\"1x\" icon={faWindowClose}/></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomModal;","import React, { Component } from 'react';\r\nimport { VALID_KEYCODES, ARROW_KEYCODES, SPACE_KEY, PICKUP_KEY, INVENTORY_KEY, TILE_SIZE, SAVE_KEY, ESC_KEY, BEEP_3_SOUND } from '../helpers/constants';\r\nimport { connect } from 'react-redux';\r\nimport { UpdatePlayerPosition, InitiateConversation, UpdateConversation, PickupGameObject, ToggleInventory, CheckPortalAndEnter } from '../redux/ActionCreators';\r\nimport { mapToViewport, playSoundEffect, getLevelColor } from '../helpers/funcs';\r\nimport CustomModal from './CustomModalComponent';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        player: state.player,\r\n    });\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n        updatePlayerPosition: (keyCode) => { dispatch(UpdatePlayerPosition(keyCode)); },\r\n        initiateConversation: () => { dispatch(InitiateConversation()); },\r\n        updateConversation: () => { dispatch(UpdateConversation()); },\r\n        pickupObject: () => { dispatch(PickupGameObject()); },\r\n        toggleInventory: () => { dispatch(ToggleInventory()); },\r\n        checkPortalAndEnter: () => { dispatch(CheckPortalAndEnter()); },\r\n    });\r\n}\r\n\r\nconst PlayerSprite = (props) => {\r\n    \r\n    const position = mapToViewport(props.player.position, props.viewport.start);\r\n    const playerStyle = {\r\n        position: 'absolute',\r\n        width: props.player.skin.width,\r\n        height: props.player.skin.height, \r\n        backgroundImage: `url('${props.player.skin.src}/sprite.png')`,\r\n        left: isNaN(position[0] + TILE_SIZE/2 - props.player.skin.width/2) ? 0: position[0] + (TILE_SIZE/2 - props.player.skin.width/2),\r\n        top: isNaN(position[1] + TILE_SIZE/2 - props.player.skin.height/2) ? 0: position[1] + (TILE_SIZE/2 - props.player.skin.height/2),\r\n        backgroundPosition: `${props.player.walkIndex * props.player.skin.width}px ${props.player.spriteLocation * props.player.skin.height}px`,\r\n        zIndex: 2,\r\n    };\r\n\r\n    const playermarkerstyle = {\r\n        position: 'absolute',\r\n        width: 25,\r\n        height: 25, \r\n        left: position[0],\r\n        top:  position[1],\r\n        transform: 'translate(110%, -60%)',\r\n        display: !props.player.interacting? 'block': 'none',\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div id=\"player\" style={playerStyle} />\r\n            <div style={playermarkerstyle}>\r\n                <FontAwesomeIcon className=\"wind\" style={{color:getLevelColor(props.player.battle.level), position:'absolute', left:'50%', top:'50%'}} icon={faCaretDown} size=\"2x\"/>\r\n            </div>\r\n        </div>\r\n       \r\n    );\r\n}\r\n\r\nclass Player extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n        this.toggleExitModalState = this.toggleExitModalState.bind(this);\r\n        this.state = {\r\n            showExitModal: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n    \r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    toggleExitModalState() {\r\n        playSoundEffect(BEEP_3_SOUND)\r\n        this.setState({\r\n            showExitModal: !this.state.showExitModal,\r\n        })\r\n    }\r\n\r\n    handleKeyDown(event) {\r\n        if(this.props.player.isAnimating || this.props.player.frozen || this.props.player.inBattle)\r\n            return;\r\n        var keyCode = event.keyCode;\r\n        //console.log(keyCode);\r\n        if(VALID_KEYCODES.includes(keyCode)) {\r\n            //console.log(keyCode);\r\n            event.preventDefault();\r\n            event.stopImmediatePropagation();\r\n            if(ARROW_KEYCODES.includes(keyCode) && !this.props.player.interacting) {\r\n                this.props.updatePlayerPosition(keyCode);\r\n            } else if(SPACE_KEY.includes(keyCode)) {\r\n                if(!this.props.player.interacting)\r\n                    this.props.initiateConversation();\r\n                else\r\n                    this.props.updateConversation();\r\n            } else if(PICKUP_KEY.includes(keyCode) && !this.props.player.interacting) {\r\n                this.props.pickupObject();\r\n            } else if(INVENTORY_KEY.includes(keyCode)) {\r\n                this.props.toggleInventory();\r\n            } else if(SAVE_KEY.includes(keyCode) && !this.props.player.interacting) {\r\n                this.props.checkPortalAndEnter();\r\n            }  else if(ESC_KEY.includes(keyCode)) {\r\n                this.toggleExitModalState();\r\n            }\r\n        } \r\n    }\r\n\r\n    \r\n    render() {\r\n\r\n        return(\r\n            <div>\r\n                <PlayerSprite player={this.props.player} viewport={this.props.viewport}/>\r\n                <CustomModal show={this.state.showExitModal} confirmLink={this.props.handleBack} cancelLink={this.toggleExitModalState} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(Player);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSkull, faExclamation, faEnvelope } from '@fortawesome/free-solid-svg-icons'\r\nimport { UpdateNPCPosition } from '../redux/ActionCreators';\r\nimport { TILE_SIZE, GANG_MEMBER, BOSS } from '../helpers/constants';\r\nimport { customSetInterval, intervalList, clearIntervals, getLevelColor, solidBorder } from '../helpers/funcs';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        npc: state.npc,\r\n    });\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n        updateNPCPosition: function(){ dispatch(UpdateNPCPosition(this.props.self.id));},\r\n    });\r\n}\r\n\r\nclass NPC extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.battlerMarkerIcon = faExclamation;\r\n        if(this.props.self.battle) {\r\n            if(this.props.self.battlerType===BOSS || this.props.self.battlerType===GANG_MEMBER)\r\n                this.battlerMarkerIcon = faSkull;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        customSetInterval(this.props.updateNPCPosition.bind(this), this.props.self.moveInterval, this.props.self.id);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(!this.props.frozen) {\r\n            if(!(\"_\"+this.props.self.id in intervalList)) {\r\n                customSetInterval(this.props.updateNPCPosition.bind(this), this.props.self.moveInterval, this.props.self.id);\r\n            }\r\n        }\r\n    }\r\n    \r\n    render() {\r\n\r\n        const npcStyle = {\r\n            position: 'absolute',\r\n            width: this.props.self.skin.width,\r\n            height: this.props.self.skin.height, \r\n            backgroundImage: `url('${this.props.self.skin.src}/sprite.png')`,\r\n            left: this.props.self.position[0] + ((TILE_SIZE/2) - (this.props.self.skin.width/2)),\r\n            top: this.props.self.position[1] + ((TILE_SIZE/2) - (this.props.self.skin.height/2)),\r\n            backgroundPosition: `${this.props.self.walkIndex * this.props.self.skin.width}px ${this.props.self.spriteLocation * this.props.self.skin.height}px`,\r\n        }\r\n\r\n        const battlemarkerstylebase = {\r\n            position: 'absolute',\r\n            width: 25,\r\n            height: 25, \r\n            left: this.props.self.position[0],\r\n            top: this.props.self.position[1],\r\n            transform: 'translate(100%, -100%)',\r\n            display: !this.props.self.interacting && this.props.self.battle && this.props.self.defeatedCount===0 ? 'block':'none',\r\n        }\r\n\r\n        const messagestylebase = {\r\n            position: 'absolute',\r\n            width: 25,\r\n            height: 25, \r\n            left: this.props.self.position[0],\r\n            top: this.props.self.position[1],\r\n            transform: 'translate(100%, -100%)',\r\n            display: !this.props.self.interacting && !this.props.self.talkFlag? 'block':'none',\r\n        }\r\n    \r\n        return(\r\n            <div>\r\n                <div id={`NPC${this.props.self.id}`} style={npcStyle}/>\r\n                <div className=\"blink\" style={battlemarkerstylebase}>\r\n                    <div style={{position:'relative', width:'100%', height:'100%', textAlign:'center',backgroundColor:getLevelColor(this.props.self.level), ...solidBorder(1,'black',5)}}><FontAwesomeIcon icon={this.battlerMarkerIcon}/></div>\r\n                </div>\r\n                <div className=\"blink\" style={messagestylebase}>\r\n                    <FontAwesomeIcon style={{color:\"white\",  position:'absolute', left:'50%', top:'50%', transform: 'translate(-50%, -50%)'}} size=\"lg\" icon={faEnvelope}/>\r\n                </div>\r\n            </div> \r\n        ); \r\n    }  \r\n}    \r\n\r\nclass NPCManager extends Component {\r\n\r\n    componentWillUnmount() {\r\n        clearIntervals();\r\n    }\r\n    \r\n    render() {\r\n        const NPCObj = this.props.npc.list.map( npc => <NPC self={npc}  key={npc.id} updateNPCPosition={this.props.updateNPCPosition} frozen={this.props.npc.frozen}/> );\r\n\r\n        return(\r\n            <ul id=\"NPCList\">\r\n                {NPCObj}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(NPCManager);","import React, { Component } from 'react';\r\nimport { TILE_SIZE } from '../helpers/constants';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        gameobjects: state.gameobjects,\r\n    });\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n\r\n    });\r\n}\r\n\r\n    \r\nconst GameObject = (props) => {\r\n    const objStyle = {\r\n        position: 'absolute',\r\n        width: props.self.type.width,\r\n        height: props.self.type.height, \r\n        backgroundImage: `url('${props.self.type.src}')`,\r\n        left: props.self.position[0] + (TILE_SIZE/2 - props.self.type.width/2),\r\n        top: props.self.position[1] + (TILE_SIZE/2 - props.self.type.height/2),\r\n        backgroundPosition: `${props.self.type.srcpos[0]}px ${props.self.type.srcpos[1]}px`,\r\n        backgroundSize: 'contain',\r\n        transform: `rotate(${props.self.rotate}deg)`\r\n    }\r\n\r\n    return(\r\n        <div id={`GObj${props.self.id}`} className={props.self.type.effects} style={objStyle}/>\r\n    ); \r\n}      \r\n\r\nclass GameObjectManager extends Component {\r\n    \r\n    render() {\r\n        const GameObj = this.props.gameobjects.map( gameobject => <GameObject self={gameobject}  key={gameobject.id} /> );\r\n\r\n        return(\r\n            <ul id=\"GameObjList\">\r\n                {GameObj}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchToProps)(GameObjectManager);","import React, { Component } from 'react';\r\nimport NPCManager from './NPCManagerComponent';\r\nimport GameObjectManager from './GameObjectManagerComponent';\r\nimport ReactHowler  from 'react-howler';\r\n\r\n\r\n\r\nclass Map extends Component {\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"map\" ref={map => this.map = map} style={{width: this.props.map.width,\r\n                        height: this.props.map.height, \r\n                        left: `${this.props.viewport.start[0]}px`,\r\n                        top: `${this.props.viewport.start[1]}px`,\r\n                        position: \"absolute\",\r\n                        backgroundImage: `url('${this.props.map.src}')`,\r\n                        backgroundRepeat: 'no-repeat',\r\n                        backgroundColor: 'black', }}>\r\n                <GameObjectManager />\r\n                <NPCManager />\r\n                <ReactHowler src={this.props.map.audioSrc} loop={true} volume={0.4} html5={false}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Map;","import { CHARACTER_SPRITES_BASE } from '../helpers/constants';\r\n\r\nconst _80 = 80;\r\nconst BASE_URL = CHARACTER_SPRITES_BASE;\r\n\r\nexport const SKINS = {\r\n    player_1: {  \r\n        src: BASE_URL + \"/player_1\",\r\n        width: 80,\r\n        height: 60,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    player_2: {\r\n        /*5*/\r\n        src: BASE_URL + \"/player_2\",\r\n        width: 80,\r\n        height: 60,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    prof: {\r\n        /*1*/\r\n        src: BASE_URL+\"/prof\",\r\n        width: _80,\r\n        height: _80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_1: {\r\n        /*2*/\r\n        src: BASE_URL + \"/friend_1\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_2:  {\r\n        /*3*/\r\n        src: BASE_URL+\"/friend_2\",\r\n        width: 70,\r\n        height: 70,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n    friend_3: {\r\n        /*4*/\r\n        src: BASE_URL + \"/friend_3\",\r\n        width: 70,\r\n        height: 70,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_4: {\r\n        /*4*/\r\n        src: BASE_URL + \"/friend_4\",\r\n        width: 70,\r\n        height: 70,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_5: {  \r\n        /*11*/\r\n       src: BASE_URL + \"/friend_5\",\r\n       width: 64,\r\n       height: 64,\r\n       UP: 1,\r\n       RIGHT: 2,\r\n       DOWN: 0,\r\n       LEFT: 3,\r\n       walkSpriteCount: 4,\r\n   },\r\n\r\n   friend_6: {  \r\n    /*11*/\r\n        src: BASE_URL + \"/friend_6\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_7: {  \r\n    /*11*/\r\n        src: BASE_URL + \"/friend_7\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_8: {  \r\n    /*11*/\r\n        src: BASE_URL + \"/friend_8\",\r\n        width: 64,\r\n        height: 91,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    friend_9: {  \r\n        /*11*/\r\n            src: BASE_URL + \"/friend_9\",\r\n            width: 68,\r\n            height: 72,\r\n            UP: 1,\r\n            RIGHT: 2,\r\n            DOWN: 0,\r\n            LEFT: 3,\r\n            walkSpriteCount: 4,\r\n    },\r\n\r\n\r\n    kid_1: {   \r\n        /*6*/\r\n        src: BASE_URL + \"/kid_1\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    kid_2: {  \r\n         /*7*/\r\n        src: BASE_URL + \"/kid_2\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n    \r\n    kid_3: {  \r\n         /*8*/\r\n        src: BASE_URL + \"/kid_3\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    nurse: {  \r\n         /*9*/\r\n        src: BASE_URL + \"/nurse\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    chef: {  \r\n        /*9*/\r\n       src: BASE_URL + \"/chef\",\r\n       width: 80,\r\n       height: 80,\r\n       UP: 1,\r\n       RIGHT: 2,\r\n       DOWN: 0,\r\n       LEFT: 3,\r\n       walkSpriteCount: 4,\r\n   },\r\n\r\n    bully_1: {  \r\n        /*10*/\r\n        src: BASE_URL + \"/bully_1\",\r\n        width: 48,\r\n        height: 60,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n   },\r\n\r\n   crush_1: {  \r\n         /*11*/\r\n        src: BASE_URL + \"/crush_1\",\r\n        width: 68,\r\n        height: 72,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    crush_2: {  \r\n        /*11*/\r\n       src: BASE_URL + \"/crush_2\",\r\n       width: 68,\r\n       height: 72,\r\n       UP: 1,\r\n       RIGHT: 2,\r\n       DOWN: 0,\r\n       LEFT: 3,\r\n       walkSpriteCount: 4,\r\n   },\r\n\r\n   crush_3: {  \r\n            /*11*/\r\n        src: BASE_URL + \"/crush_3\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    crush_4: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/crush_4\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_1: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/tribe_1\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_2: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/tribe_2\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_3: {  \r\n        /*10*/\r\n        src: BASE_URL + \"/tribe_3\",\r\n        width: 64,\r\n        height: 64,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n        },\r\n\r\n    tribe_4: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/tribe_4\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    tribe_5: {  \r\n        /*11*/\r\n            src: BASE_URL + \"/tribe_5\",\r\n            width: 80,\r\n            height: 80,\r\n            UP: 1,\r\n            RIGHT: 2,\r\n            DOWN: 0,\r\n            LEFT: 3,\r\n            walkSpriteCount: 4,\r\n    },\r\n\r\n    boss: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/boss\",\r\n        width: 80,\r\n        height: 80,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    whitepuppy: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/puppy_white\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    brownpuppy: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/puppy_brown\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    blackcat: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/cat_black\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    whitecat: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/cat_white\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    orangecat: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/cat_orange\",\r\n        width: 40,\r\n        height: 40,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n\r\n    baby: {  \r\n        /*11*/\r\n        src: BASE_URL + \"/baby\",\r\n        width: 30,\r\n        height: 45,\r\n        UP: 1,\r\n        RIGHT: 2,\r\n        DOWN: 0,\r\n        LEFT: 3,\r\n        walkSpriteCount: 4,\r\n    },\r\n}","import { HEALER, EATABLE, CURRENCY, PORTAL, PORTAL_ENTER, PORTAL_LEAVE, PROPS_PATH } from \"../helpers/constants\";\r\n\r\nconst ITEMS_URL =  `${PROPS_PATH}/items.png`;\r\nconst PORTAL_URL = `${PROPS_PATH}/portal.png`; \r\nconst ENTER_URL = `${PROPS_PATH}/enter.png`; \r\nconst LEAVE_URL = `${PROPS_PATH}/leave.png`; \r\n\r\n\r\nexport const GAMEOBJECTS = [\r\n    {\r\n        /*0*/\r\n        id: 0,\r\n        name: \"redpotion\",\r\n        src: ITEMS_URL,\r\n        srcpos: [0,0],\r\n        width: 40,\r\n        height: 40,\r\n        type: HEALER,\r\n    },\r\n\r\n    {\r\n        /*1*/\r\n        id: 1,\r\n        name: \"vaccine\",\r\n        src: ITEMS_URL,\r\n        srcpos: [200,0],\r\n        width: 40,\r\n        height: 40,\r\n        type: HEALER,\r\n    },\r\n\r\n    {\r\n        /*2*/\r\n        id: 2,\r\n        name: \"water\",\r\n        src: ITEMS_URL,\r\n        srcpos: [240,0],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*3*/\r\n        id: 3,\r\n        name: \"berry\",\r\n        src: ITEMS_URL,\r\n        srcpos: [240,280],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*4*/\r\n        id: 4,\r\n        name: \"diamond\",\r\n        src: ITEMS_URL,\r\n        srcpos: [240,200],\r\n        width: 40,\r\n        height: 40,\r\n        type: CURRENCY,\r\n    },\r\n\r\n    {\r\n        /*5*/\r\n        id: 5,\r\n        name: \"meat\",\r\n        src: ITEMS_URL,\r\n        srcpos: [280,160],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*6*/\r\n        id: 6,\r\n        name: \"bone\",\r\n        src: ITEMS_URL,\r\n        srcpos: [200,160],\r\n        width: 40,\r\n        height: 40,\r\n        type: EATABLE,\r\n    },\r\n\r\n    {\r\n        /*7*/\r\n        id: 7,\r\n        name: \"goldcoin\",\r\n        src: ITEMS_URL,\r\n        srcpos: [280,120],\r\n        width: 40,\r\n        height: 40,\r\n        type: CURRENCY,\r\n    },\r\n\r\n    {\r\n        id:8,\r\n        name:'hen',\r\n        src:'assets/images/80/objectsAndProps/hen.png',\r\n        srcpos: [0,0],\r\n        width: 32,\r\n        height: 36,\r\n        effects: \"spotanimate\",\r\n        type: \"HEN\",\r\n    },\r\n];\r\n\r\nexport const PORTALS = [\r\n\r\n    {   /*0*/\r\n        id: 0,\r\n        name: PORTAL_ENTER,\r\n        src: ENTER_URL,\r\n        srcpos: [0,0],\r\n        width: 40,\r\n        height: 40,\r\n        //effects: \"blink\",\r\n        type: PORTAL,\r\n    },\r\n\r\n    {   /*1*/\r\n        id: 1,\r\n        name: PORTAL_LEAVE,\r\n        src: LEAVE_URL,\r\n        srcpos: [0,0],\r\n        width: 40,\r\n        height: 40,\r\n       // effects: \"blink\",\r\n        type: PORTAL,\r\n    },\r\n\r\n    {   /*2*/\r\n        id: 2,\r\n        name: \"portal\",\r\n        src: PORTAL_URL,\r\n        srcpos: [0,0],\r\n        width: 64,\r\n        height: 64,\r\n        effects: \"rotate\",\r\n        type: PORTAL,\r\n    },\r\n    \r\n]","import { TOWN_CENTER_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const townCenter = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,   0,   0,  10,  10,  10,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,  10,   0,  10,  10,  10,  10,  10,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/town_center.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: TOWN_CENTER_MUSIC,\r\n}","import { DOWN, NON_GANG_MEMBER, LEFT } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { home } from '../../Maps/home';\r\n\r\n\r\nexport const _home = {\r\n    /* Compulsory */\r\n\r\n    name: \"home\",\r\n\r\n    map: home,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [7, 4],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //informational\r\n                id: 0,\r\n                name: \"Dad\",\r\n                skin: SKINS[\"prof\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[6,3], [6,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 1,\r\n                name: \"Joey\",\r\n                skin: SKINS[\"baby\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[4,7],[4,8],[5,8],[6,8],[6,7],[5,7],[4,7]],\r\n                frameInterval: 200,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n                battle: true,\r\n                level: 1,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 2,\r\n                name: \"Ace\",\r\n                skin: SKINS[\"brownpuppy\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[3,1], [4,1],[5,1]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [8, 4],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { HOME_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const home = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,  10,  10,  10,  10,  10,  10,  10,   0,],\r\n        [   0,   0,  10,  10,  10,  10,  10,  10,   0,],\r\n        [   0,   0,  10,  10,  10,  10,  10,   0,   0,],\r\n        [   0,   0,  10,  10,  10,  10,  10,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,  10,   0,  10,   0,   0,   0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/home.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HOME_MUSIC,\r\n}","import { LEFT, RIGHT, NON_GANG_MEMBER, GANG_MEMBER, BATTLE_GM_MUSIC, UP } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { bakery } from '../../Maps/bakery';\r\n\r\n\r\nexport const _bakery = {\r\n    /* Compulsory */\r\n\r\n    name: \"bakery\",\r\n\r\n    map: bakery,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [8, 7],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //prop\r\n                id: 0,\r\n                name: \"Vincent\",\r\n                skin: SKINS[\"friend_3\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[3,0]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n            { \r\n                //prop\r\n                id: 1,\r\n                name: \"Chase\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[3,1]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n            { \r\n                //battler\r\n                id: 2,\r\n                name: \"Samantha\",\r\n                skin: SKINS[\"crush_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[6,3], [6,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 4000,\r\n                battle: true,\r\n                level: 2,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n            { \r\n                //tribe\r\n                id: 3,\r\n                name: \"Eden\",\r\n                skin: SKINS[\"tribe_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[4,7], [4,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 3,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {  //battler\r\n                id: 4,\r\n                name: \"John\",\r\n                skin: SKINS[\"kid_1\"],\r\n                direction: UP,\r\n                stationary: false,\r\n                pathArr: [[2,13]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: 1,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n\r\n            { \r\n                //prop\r\n                id: 5,\r\n                name: \"Cena\",\r\n                skin: SKINS[\"friend_4\"],\r\n                direction: UP,\r\n                stationary: false,\r\n                pathArr: [[2,11], [2,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 6000,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [9, 7],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { BAKERY_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const bakery = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,   0,   0,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,  10,  10,  10,  10,   0,   0,   0,  10,  10,  10,  10,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,  10,   0,  10,   0,   0,   0,   0,   0,   0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/bakery.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: BAKERY_MUSIC,\r\n}","import { TOWN_NORTH_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const townNorth = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,   0,   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,  10,   0,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,   0,  10,  10,  10,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/town_north.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: TOWN_NORTH_MUSIC,\r\n\r\n}","import { CAVE_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const cave = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,  10,],\r\n\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/cave.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n    audioSrc: CAVE_MUSIC,\r\n}","import { HELL_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const hell = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,   0,   0,   0,  10,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,   0,   0,   0,   0,  10,  10,  10,],\r\n        [  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/hell.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HELL_MUSIC,\r\n\r\n}","import { DOWN, RIGHT, GANG_MEMBER, BATTLE_GM_MUSIC, LEFT, NON_GANG_MEMBER } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { townNorth } from '../../Maps/town_north';\r\nimport { _cave } from \"./_cave\";\r\n\r\n\r\n\r\nexport const _townNorth = {\r\n    /* Compulsory */\r\n\r\n    name: \"townNorth\",\r\n\r\n    map: townNorth,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [19, 14],\r\n        direction: 'LEFT',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            {   //prop\r\n                id: 0,\r\n                name: \"Kaloo\",\r\n                skin: SKINS[\"blackcat\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[8,5],[8,6],[8,7]],\r\n                frameInterval: 50,\r\n                moveInterval: 250,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 1,\r\n                name: \"Goku\",\r\n                skin: SKINS[\"whitecat\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[10,7], [10,6], [10,5],[11,5],[12,5],[13,5], [14,5],[15,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 2,\r\n                name: \"bruno\",\r\n                skin: SKINS[\"brownpuppy\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[10,6], [10,5],[11,5],[12,5],[13,5], [14,5],[15,5],[16,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:3,\r\n                name: \"Maty\",\r\n                skin: SKINS[\"crush_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[13,11], [13,12]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {\r\n                //tribe\r\n                id:4,\r\n                name: \"Tegan\",\r\n                skin: SKINS[\"tribe_4\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[19, 6], [19,7], [19,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                battle: true,\r\n                level: 5,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {   //prop\r\n                id: 5,\r\n                name: \"Matt\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[11,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n            \r\n            {   //battler\r\n                id: 6,\r\n                name: \"Damon\",\r\n                skin: SKINS[\"friend_3\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[11,7]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:7,\r\n                name: \"Fattu\",\r\n                skin: SKINS[\"kid_2\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[6,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {   //battler\r\n                id: 8,\r\n                name: \"Hunt\",\r\n                skin: SKINS[\"friend_9\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[7,14]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [6, 6],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _cave,\r\n        },\r\n        {\r\n            position: [19, 15],\r\n            type: PORTALS[1],\r\n            rotate:0,\r\n        },\r\n    ]\r\n};","import { DOWN, RIGHT } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { cave } from '../../Maps/cave';\r\nimport { _hell } from \"./_hell\";\r\n\r\n\r\nexport const _cave = {\r\n    /* Compulsory */\r\n\r\n    name: \"hauntedhouse\",\r\n\r\n    map: cave,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [3, 2],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //props\r\n                id: 0,\r\n                name: \"Misty\",\r\n                skin: SKINS[\"blackcat\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[1,0], [2,0], [3,0], [4,0],],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n\r\n            { \r\n                //props\r\n                id: 1,\r\n                name: \"Trigger\",\r\n                skin: SKINS[\"orangecat\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[1,1], [1,2], [1,3], [1,4],],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [1, 2],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _hell,\r\n        },\r\n        {\r\n            position: [4, 2],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { BOSS_BATTLE_LEVEL, BOSS, BATTLE_BOSS_MUSIC, RIGHT, LEFT } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { hell } from '../../Maps/hell';\r\n\r\n\r\nexport const _hell = {\r\n    /* Compulsory */\r\n\r\n    name: \"hell\",\r\n\r\n    map: hell,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [7, 4],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //tribe\r\n                id: 0,\r\n                name: \"Beast\",\r\n                skin: SKINS[\"boss\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[2,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: BOSS_BATTLE_LEVEL,\r\n                battlerType: BOSS,\r\n                battleMusic: BATTLE_BOSS_MUSIC,\r\n            },\r\n            { \r\n                //props\r\n                id: 1,\r\n                name: \"Rock\",\r\n                skin: SKINS[\"blackcat\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[5,3], [5,2], [4,2], [3,2], [3,3], [3,4], [3,5], [3,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            { \r\n                //props\r\n                id: 2,\r\n                name: \"Paper\",\r\n                skin: SKINS[\"whitecat\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[2,4], [2,5]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n\r\n            { \r\n                //props\r\n                id: 3,\r\n                name: \"Scissors\",\r\n                skin: SKINS[\"orangecat\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[4,2], [4,3],[4,4],[4,5],[4,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1000,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [8, 4],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { TOWN_SOUTH_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const townSouth = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,   0,   0,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,   0,   0,   0,   0,   0,   0,  10,  10,   0,],\r\n        [  10,  10,  10,   0,   0,   0,   0,   0,  10,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [   0,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,   0,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n       \r\n    ],\r\n\r\n    src: `${MAPS_BASE}/town_south.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: TOWN_SOUTH_MUSIC,\r\n\r\n}","import { LIBRARY_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const library = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,   10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,    0,   0,  10,  10,  10,  10,  10,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,    0,   0,   0,   0,   0,   0,   0,   0,  10,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,   0,    0,   0,   0,   0,   0,   0,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,  10,  10,  10,  10,  10,  10,  10,],\r\n        [    0,   0,   0,   0,  0,  0,   0,  0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [  0,   0,   0,   0,  0,  0,   0,  0,   0,  0,  0,   0,   0,   0,   0,   10,  10,  10, ],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,  10,  10,   0,   0,   0,   0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,  10,  0,   0,  0,  0,   0,  0,  0,  0,  0,  0,  0,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,   0,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  0,   0,  0,  0,   0,   0,  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,   0,   0,   0,  0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,],\r\n        [   0,   0,  10,  10,   0,   0,   0,  0,   0,  0,  0,   0,   0,  10,  10,   0,   0,   0,],\r\n        [   0,   0,   0,  10,  10,   0,   0,  0,   0,  0,  0,   0,  10,  10,   0,   0,   0,   0,],\r\n        [   0,   0,   0,   0,   0,   0,   0,  10,   0,  0,  10,   0,  0,  0,  0,  0,  0,  0,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/library.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: LIBRARY_MUSIC,\r\n\r\n}","import { GAMEROOM_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const gameroom = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,],\r\n        [   0,   0,   0,   0,  10,],\r\n        [  10,   0,   0,   0,  10,],\r\n        [   0,   0,   0,   0,   0,],\r\n        [   0,  10,   0,  10,   0,],\r\n\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/gameroom.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: GAMEROOM_MUSIC,\r\n}","import { DOWN, UP, LEFT, RIGHT, NON_GANG_MEMBER } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { library } from '../../Maps/library';\r\nimport { _gameroom } from \"./_gameroom\";\r\n\r\n\r\nexport const _library = {\r\n    /* Compulsory */\r\n\r\n    name: \"library\",\r\n\r\n    map: library,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [16, 8],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n        { \r\n            //prop\r\n            id: 0,\r\n            name: \"Jordan\",\r\n            skin: SKINS[\"kid_2\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[14,0], [14,1], [14,2]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 3000,\r\n            battle: true,\r\n            level: 3,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 1,\r\n            name: \"Prick\",\r\n            skin: SKINS[\"friend_5\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[14,16]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 2,\r\n            name: \"Pom\",\r\n            skin: SKINS[\"friend_3\"],\r\n            direction: LEFT,\r\n            stationary: false,\r\n            pathArr: [[14,17]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 3,\r\n            name: \"Bam\",\r\n            skin: SKINS[\"friend_6\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[10,13], [10,14], [9,14]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        { \r\n            //prop\r\n            id: 4,\r\n            name: \"Boo\",\r\n            skin: SKINS[\"friend_2\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[7,16]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n\r\n        {   //battler\r\n            id: 5,\r\n            name: \"Tori\",\r\n            skin: SKINS[\"kid_3\"],\r\n            direction: DOWN,\r\n            stationary: false,\r\n            pathArr: [[8,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            battle: true,\r\n            level: 2,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n\r\n        {\r\n            //informational\r\n            id:6,\r\n            name: \"Ghissu\",\r\n            skin: SKINS[\"kid_1\"],\r\n            direction: RIGHT,\r\n            stationary: false,\r\n            pathArr: [[4,3], [4,4], [4,5]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 1500,\r\n            talkFlag: false,\r\n        },\r\n\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [4, 15],\r\n            type: PORTALS[0],\r\n            rotate: 0,\r\n            target: _gameroom,\r\n        },\r\n        {\r\n            position: [17, 8],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { DOWN, GANG_MEMBER, BATTLE_GM_MUSIC, UP, NON_GANG_MEMBER } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { gameroom } from '../../Maps/gameroom';\r\n\r\n\r\nexport const _gameroom = {\r\n    /* Compulsory */\r\n\r\n    name: \"gameroom\",\r\n\r\n    map: gameroom,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [3, 2],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n        {   //tribe\r\n            id: 0,\r\n            name: \"Razor\",\r\n            skin: SKINS[\"tribe_3\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[1,2]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            battle: true,\r\n            level: 4,\r\n            battlerType: GANG_MEMBER,\r\n            battleMusic: BATTLE_GM_MUSIC,\r\n        },\r\n        { \r\n            //prop\r\n            id: 1,\r\n            name: \"Prick\",\r\n            skin: SKINS[\"friend_1\"],\r\n            direction: DOWN,\r\n            stationary: false,\r\n            pathArr: [[1,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            battle: true,\r\n            level: 3,\r\n            battlerType: NON_GANG_MEMBER,\r\n        },\r\n        { \r\n            //prop\r\n            id: 2,\r\n            name: \"Abu\",\r\n            skin: SKINS[\"friend_4\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[3,0]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n        },\r\n        { \r\n            //informational\r\n            id: 3,\r\n            name: \"LT\",\r\n            skin: SKINS[\"friend_7\"],\r\n            direction: UP,\r\n            stationary: false,\r\n            pathArr: [[3,4]],\r\n            frameInterval: 100,\r\n            moveInterval: 500,\r\n            waitInterval: 6000,\r\n            talkFlag: false,\r\n        },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [4, 2],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import { HOTEL_MUSIC, MAPS_BASE } from \"../../helpers/constants\";\r\n\r\nexport const hotel = {\r\n\r\n    tiles: [\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  10,],\r\n        [  10,  10,   0,   0,   0,  10,   0,  10,   0,   0,   0,  10,  10,],\r\n        [  10,  10,  10,   0,  10,  10,   0,  10,   0,   0,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,   0,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,   0,   0,  10,  10,   0,  10,  10,   0,   0,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n        [  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,  10,],\r\n\r\n    ],\r\n\r\n    src: `${MAPS_BASE}/hotel.png`,\r\n\r\n    backgroundColor: \"#ffffff\",\r\n\r\n    audioSrc: HOTEL_MUSIC,\r\n\r\n}","import {_townCenter} from \"./_town_center\";\r\n\r\n\r\nexport const level = _townCenter;","import { DOWN, GANG_MEMBER, NON_GANG_MEMBER, BATTLE_GM_MUSIC, LEFT, RIGHT } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { townCenter } from '../../Maps/town_center';\r\nimport { _home } from \"./_home\";\r\nimport { _bakery } from \"./_bakery\";\r\nimport { _townNorth } from \"./_town_north\";\r\nimport { _townSouth } from \"./_town_south\";\r\n\r\nexport const _townCenter = {\r\n    /* Compulsory */\r\n\r\n    name: \"townCenter\",\r\n\r\n    map: townCenter,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [14, 15],\r\n        direction: 'RIGHT',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //informational\r\n                id: 0,\r\n                name: \"Frank\",\r\n                skin: SKINS[\"friend_5\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[14,16], [14,15]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            { \r\n                //informational\r\n                id: 1,\r\n                name: \"Tia\",\r\n                skin: SKINS[\"crush_4\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[7,7], [7,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {\r\n                //battler\r\n                id:2,\r\n                name: \"Nathan\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[3,6], [4,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                battle: true,\r\n                level: 1,\r\n                battlerType: NON_GANG_MEMBER,\r\n                //battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:3,\r\n                name: \"Tracer\",\r\n                skin: SKINS[\"friend_7\"],\r\n                direction: DOWN,\r\n                stationary: false,\r\n                pathArr: [[11,2], [12,2], [13,2], [14,2], [14,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {\r\n                //informational\r\n                id:4,\r\n                name: \"Sean\",\r\n                skin: SKINS[\"chef\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[21,11], [21,12], [21,13]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {\r\n                //tribe\r\n                id:5,\r\n                name: \"Gambit\",\r\n                skin: SKINS[\"tribe_2\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[20, 15]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n\r\n            {   //prop\r\n                id: 6,\r\n                name: \"Rocky\",\r\n                skin: SKINS[\"friend_8\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[20,16]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {\r\n                //battler\r\n                id:7,\r\n                name: \"Chop\",\r\n                skin: SKINS[\"bully_1\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[20,20], [20, 21], [21,21]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 1500,\r\n                battle: true,\r\n                level: 2,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [12, 15],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _home,\r\n        },\r\n        {\r\n            position: [7, 10],\r\n            type: PORTALS[0],\r\n            rotate:270,\r\n            target: _bakery,\r\n        },\r\n        {\r\n            position: [19, 0],\r\n            type: PORTALS[0],\r\n            rotate:180,\r\n            target: _townNorth,\r\n        },\r\n        {\r\n            position: [14, 21],\r\n            type: PORTALS[0],\r\n            rotate:0,\r\n            target: _townSouth,\r\n        }\r\n\r\n    ]\r\n};","import { LEFT, RIGHT, NON_GANG_MEMBER } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { townSouth } from '../../Maps/town_south';\r\nimport { _library } from \"./_library\";\r\nimport { _hotel } from \"./_hotel\";\r\n\r\n\r\nexport const _townSouth = {\r\n    /* Compulsory */\r\n\r\n    name: \"townSouth\",\r\n\r\n    map: townSouth,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [14, 1],\r\n        direction: 'RIGHT',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            { \r\n                //informational\r\n                id: 0,\r\n                name: \"Molly\",\r\n                skin: SKINS[\"crush_2\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[6,3], [6,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            { \r\n                //prop\r\n                id: 1,\r\n                name: \"Chambers\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: LEFT,\r\n                stationary: false,\r\n                pathArr: [[4,11]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            \r\n            { \r\n                //prop\r\n                id: 2,\r\n                name: \"Ozil\",\r\n                skin: SKINS[\"friend_3\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[4,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            { \r\n                //battler\r\n                id: 3,\r\n                name: \"Grindel\",\r\n                skin: SKINS[\"friend_8\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[1,8], [2,8], [2,9], [1,9]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n                battle: true,\r\n                level: 3,\r\n                battlerType: NON_GANG_MEMBER,\r\n                //battleMusic: BATTLE_GM_MUSIC,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [4, 5],\r\n            type: PORTALS[0],\r\n            rotate:-90,\r\n            target: _library,\r\n        },\r\n        {\r\n            position: [19, 7],\r\n            type: PORTALS[0],\r\n            rotate:-90,\r\n            target: _hotel,\r\n        },\r\n        {\r\n            position: [14, 0],\r\n            type: PORTALS[1],\r\n            rotate:180,\r\n        },\r\n    ]\r\n};","import { DOWN, RIGHT, LEFT, GANG_MEMBER, BATTLE_GM_MUSIC, NON_GANG_MEMBER } from \"../../../helpers/constants\";\r\nimport { SKINS } from '../../skins';\r\nimport { PORTALS } from \"../../gameobjects\";\r\nimport { hotel } from '../../Maps/hotel';\r\n\r\n\r\nexport const _hotel = {\r\n    /* Compulsory */\r\n\r\n    name: \"hotel\",\r\n\r\n    map: hotel,\r\n\r\n    /* Compulsory */\r\n    player: {\r\n        position: [11, 6],\r\n        direction: 'UP',\r\n    },\r\n\r\n    /* Compulsory */\r\n    npc : [\r\n            {   //prop\r\n                id: 0,\r\n                name: \"Cruz\",\r\n                skin: SKINS[\"friend_2\"],\r\n                direction: RIGHT,\r\n                stationary: true,\r\n                pathArr: [[12,2]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 1,\r\n                name: \"Lillie\",\r\n                skin: SKINS[\"crush_1\"],\r\n                direction: LEFT,\r\n                stationary: true,\r\n                pathArr: [[12,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 2,\r\n                name: \"Lil\",\r\n                skin: SKINS[\"kid_2\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[12,9], [12,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            }, \r\n            {   //prop\r\n                id: 3,\r\n                name: \"Wayne\",\r\n                skin: SKINS[\"friend_7\"],\r\n                direction: DOWN,\r\n                stationary: true,\r\n                pathArr: [[8,3]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 4,\r\n                name: \"Spark\",\r\n                skin: SKINS[\"kid_3\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[8,8], [8,9]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //prop\r\n                id: 5,\r\n                name: \"Sparkle\",\r\n                skin: SKINS[\"whitepuppy\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[6,9], [6,10]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 2000,\r\n            },\r\n\r\n            {   //tribe\r\n                id: 6,\r\n                name: \"Snyder\",\r\n                skin: SKINS[\"tribe_5\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[6,8]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: 5,\r\n                battlerType: GANG_MEMBER,\r\n                battleMusic: BATTLE_GM_MUSIC,\r\n                \r\n            },\r\n\r\n            {   //prop\r\n                id: 7,\r\n                name: \"Weisley\",\r\n                skin: SKINS[\"bully_1\"],\r\n                direction: LEFT,\r\n                stationary: true,\r\n                pathArr: [[6,11]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n            },\r\n\r\n            {   //informational\r\n                id: 8,\r\n                name: \"Rose\",\r\n                skin: SKINS[\"crush_3\"],\r\n                direction: DOWN,\r\n                stationary: true,\r\n                pathArr: [[5,6]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                talkFlag: false,\r\n            },\r\n\r\n            {   //battler\r\n                id: 9,\r\n                name: \"Max\",\r\n                skin: SKINS[\"friend_6\"],\r\n                direction: RIGHT,\r\n                stationary: false,\r\n                pathArr: [[7,2], [7,4]],\r\n                frameInterval: 100,\r\n                moveInterval: 500,\r\n                waitInterval: 3000,\r\n                battle: true,\r\n                level: 4,\r\n                battlerType: NON_GANG_MEMBER,\r\n            },\r\n        ],\r\n\r\n    /* Compulsory */\r\n    gameobjects : [\r\n                    \r\n    ],\r\n\r\n    /* Compulsory */\r\n    portals: [\r\n        {\r\n            position: [12, 6],\r\n            type: PORTALS[1],\r\n            rotate:90,\r\n        }\r\n    ]\r\n};","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getKeyDiv, getFontSize } from '../helpers/funcs';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return({\r\n        dialog: state.dialog,\r\n    });\r\n}\r\n\r\nconst FONT_ANIMATION = 25;\r\n\r\nclass Dialog extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.animateConversation = this.animateConversation.bind(this);\r\n        this.timeout = null;\r\n    }\r\n\r\n    animateConversation(speakerIdx, name, content, idx, objref) {\r\n        \r\n        const animate = function() {\r\n            if(idx>content.length) {\r\n                return;\r\n            }\r\n            if(speakerIdx!==this.props.speakerIdx) {\r\n                if(speakerIdx===0) {\r\n                    objref.innerHTML = name + \": \" + content;\r\n                    return;\r\n                } else {\r\n                    objref.innerHTML = \"\";\r\n                    return;\r\n                }\r\n            }\r\n            objref.innerHTML = name + \": \" + content.substring(0, idx);\r\n            idx++;\r\n            this.timeout = setTimeout(animate, FONT_ANIMATION);\r\n        }.bind(this);\r\n        animate();\r\n    }\r\n\r\n    cleanBoard() {\r\n        this.p1.innerHTML = \"\";\r\n        this.p2.innerHTML = \"\";\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.props.isOpen) {\r\n            if(this.props.speakerIdx===0) {\r\n                const person = this.props.person1;\r\n                this.cleanBoard();\r\n                this.animateConversation(0, person.name, person.dialogs[this.props.dialogIdx], 1, this.p1);\r\n            } else {\r\n                const person = this.props.person2;\r\n                this.animateConversation(1, person.name, person.dialogs[this.props.dialogIdx], 1, this.p2);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    render() {\r\n\r\n        let POS = {};\r\n        if(this.props.position===\"top\") {\r\n            POS[\"top\"] = 0;\r\n        } else {\r\n            POS[\"bottom\"] = 0;\r\n        }\r\n\r\n        const style = {\r\n            position: 'absolute',\r\n            height: '25%',\r\n            border: '10px solid #00b4bc',\r\n            left: 0,\r\n            right: 0,\r\n            borderRadius: '10px',\r\n            padding: '5px',\r\n            backgroundColor: '#f7f8f7',\r\n            color: '#5d5f5b',\r\n            fontSize: getFontSize(2),\r\n            fontFamily: 'gameboy_lg',\r\n            display: this.props.isOpen? 'block': 'none',\r\n            overflowWrap: 'break-word',\r\n            ...POS,\r\n        };\r\n\r\n        return(\r\n            <div id=\"conversation\" style={style}>\r\n                <div style={{position:\"relative\", width:'100%', height:'100%'}}>\r\n                    <p ref={p1 => this.p1 = p1}></p>\r\n                    <p ref={p2 => this.p2 = p2}></p>\r\n                    <div className='blink' style={{position:'absolute', right:20, bottom:20}}>{getKeyDiv(\"SPACE\")}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConversationDisplay extends Component {\r\n\r\n    render() {\r\n        const dialog = this.props.dialog;\r\n        return(\r\n            <Dialog isOpen={dialog.isOpen}\r\n                    position={dialog.position}\r\n                    person1={dialog.person1}\r\n                    person2={dialog.person2}\r\n                    dialogIdx={dialog.dialogIdx}\r\n                    speakerIdx={dialog.speakerIdx}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(ConversationDisplay);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { EATABLE, HEALER, CURRENCY } from '../helpers/constants';\r\nimport { GAMEOBJECTS } from '../data/gameobjects';\r\nimport { getFontSize } from '../helpers/funcs';\r\n\r\n\r\n\r\nfunction GetInventoryItemCounts(list) {\r\n    let countObj = {}, item;\r\n    for(item of list) {\r\n        if(item.type.name in countObj)\r\n            countObj[item.type.name]+=1;\r\n        else\r\n            countObj[item.type.name] = 1;\r\n    }\r\n    return countObj;\r\n}\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        inventory: state.inventory,\r\n    })\r\n}\r\n\r\nconst InventoryItem = (props) => {\r\n\r\n    const divSize = 120;\r\n\r\n    const imageStyle = {\r\n        backgroundImage: `url('${props.self.src}')`,\r\n        backgroundPosition: `${props.self.srcpos[0]}px ${props.self.srcpos[1]}px`,\r\n        width: props.self.width,\r\n        height: props.self.height,\r\n        position: 'absolute',\r\n        left: divSize/2 - props.self.width/2,\r\n        top: divSize/2 - props.self.height/2,\r\n    };\r\n\r\n    return(\r\n        <div className=\"inventorybtn\">\r\n            <div style={imageStyle}/>\r\n            <p style={{fontSize: getFontSize(2), position: 'absolute', margin: '5px', left: 5, bottom: 5}}>{props.count}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst InventoryRow = (props) => {\r\n\r\n    const countObj = GetInventoryItemCounts(props.inventorylist);\r\n    const validgameobjects = GAMEOBJECTS.filter(gameobj => gameobj.type === props.type);\r\n\r\n    const rendergameobjects = validgameobjects.map( gameobj => <InventoryItem self={gameobj} key={gameobj.id} count={ (gameobj.name in countObj)? countObj[gameobj.name]:0} />);\r\n\r\n    const style = {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        margin: '5px',\r\n        padding: '6px',\r\n        backgroundColor: 'forestgreen',\r\n        boxShadow: 'inset 0 0 5px black',\r\n        borderRadius: '10px'\r\n    };\r\n\r\n    return(\r\n        <div style={style}>\r\n            <div style={{ writingMode: 'vertical-lr', textOrientation: 'sideways-right', margin:'auto 5px', padding: '5px' }} >{props.type}</div>\r\n            {rendergameobjects}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst InventoryDialog = (props) => {\r\n\r\n    const inventoryStyle = {\r\n        position: 'absolute',\r\n        left: '50%',\r\n        top: '50%',\r\n        transform: 'translate(-50%,-50%)',\r\n        backgroundColor: 'darkgreen',\r\n        border: '5px solid white',\r\n        borderRadius: '10px',\r\n        boxShadow: 'inset 0 0 5px black',\r\n        fontFamily: 'gameboy',\r\n        color: 'white',\r\n        padding: \"5px\",\r\n        zIndex: 5,\r\n        display: props.inventory.isOpen? 'inline-block' : 'none',\r\n    };\r\n\r\n    return(\r\n            <div id=\"inventory\" style={inventoryStyle}>\r\n                <div style={{ fontSize: getFontSize(2), padding: '5px', margin:'5px', textAlign: 'center'}}>\r\n                    <p style={{ fontSize: getFontSize(2), padding: '3px', margin:'0px', display:'inline-block', border: '2px groove white'}}>Inventory</p>\r\n                </div>\r\n                <div style={{display: 'flex', padding: '5px', flexDirection: 'column', justifyContent: 'center'}}>\r\n                    <InventoryRow type={HEALER} inventorylist={props.inventory[HEALER]} />\r\n                    <InventoryRow type={EATABLE} inventorylist={props.inventory[EATABLE]} />\r\n                    <InventoryRow type={CURRENCY} inventorylist={props.inventory[CURRENCY]} />\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\n\r\nclass Inventory extends Component {\r\n\r\n    render() {\r\n        return( \r\n            <InventoryDialog inventory={this.props.inventory} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps)(Inventory);\r\n","import React from 'react';\r\nimport { PROPS_PATH } from '../helpers/constants';\r\nimport { getFontSize } from '../helpers/funcs';\r\n\r\nconst Loading = (props) => {\r\n    return(\r\n    <div style={{width: '100%', height:'100%',  backgroundImage: 'linear-gradient(#991b1e, #b61d20, #991b1e)'}}>\r\n        <div id=\"loading\" style={{position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)', display:'flex', flexDirection:'column', padding: '5px', alignItems:'center'}}>\r\n            <div  style={{}}><img className=\"rotate\" style={{width:250, height:250}} src={`${PROPS_PATH}/loading.png`} alt=\"Loading\"></img></div>\r\n            <p style={{fontSize: getFontSize(2.5), fontFamily:'gameboy', color:'white'}}> {props.msg}...</p>\r\n        </div>\r\n    </div>);\r\n}\r\n\r\nexport default Loading;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ARROW_KEYCODES, ENTER_KEY, ROCK, PAPER, SCISSORS, SPACE_KEY, BATTLE_END_MUSIC, BEEP_SOUND, PROPS_PATH } from '../helpers/constants';\r\nimport { BattleHandleMove, BattleMoveIndexToStr, BattleEndIntro, CloseBattleSequence } from '../redux/ActionCreators';\r\nimport { centerBgImg, solidBorder, getKeyDiv, getLevelColor, playSoundEffect, getFontSize } from '../helpers/funcs';\r\nimport ReactHowler from 'react-howler';\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        battle: state.battle,\r\n    })\r\n}\r\n\r\nconst mapDispatchtoProps = dispatch => {\r\n    return({\r\n        submitMove: (move) => { dispatch(BattleHandleMove(parseInt(move))); } ,\r\n        endIntro: () => {dispatch(BattleEndIntro());}, \r\n        closeBattle: () => {dispatch(CloseBattleSequence())},\r\n    })\r\n}\r\n\r\nclass HealthBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = null;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.props.blink) {\r\n            this.timeout = setTimeout(function(){\r\n                this.hb.classList.add('blinkmomentary');\r\n            }.bind(this), 600);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    render() {\r\n        if(this.hb) {\r\n            this.hb.classList.remove('blinkmomentary');\r\n        }\r\n\r\n        return(\r\n            <div ref={hb => this.hb = hb} style={{width:'90%', height: '50%', display: 'flex', flexDirection: 'row', justifyContent:'space-between', alignItems:'center' }}>\r\n                <div style={{fontSize: getFontSize(2), marginRight:'10px'}}>HP</div>\r\n                <div style={{width:'90%', height: '30%',...solidBorder(1, 'white', 0), backgroundColor: 'white' }}>\r\n                    <div style={{position: 'relative', width:`${(this.props.currhealth/this.props.maxhealth)*100}%`, height:'100%', ...solidBorder(0, 'white', 0), backgroundImage: 'linear-gradient(mediumseagreen, forestgreen, mediumseagreen)'}}>\r\n                        <div style={{position:'absolute', left:'40%', top:'15%', fontSize:getFontSize(2)}}>{Math.floor((this.props.currhealth/this.props.maxhealth)*100)}%</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n     }\r\n}\r\n\r\n\r\nconst PlayerInfo = (props) => {\r\n\r\n    const style = {\r\n        width: '40%',\r\n        height: '100%',\r\n        backgroundColor: getLevelColor(props.player.level),\r\n        ...solidBorder(2, 'black', 5),\r\n        color: 'black',\r\n        fontSize: getFontSize(2.5),\r\n        fontFamily: 'gameboy_lg',\r\n        display: 'flex',\r\n        flexDirection: props.reverse? 'row-reverse' : 'row',\r\n        justifyContent:'space-between'\r\n    }\r\n    return(\r\n        <div style={style}>\r\n            <div style={{width:'30%', height:'90%', alignSelf:'center', margin: '5px', ...centerBgImg(`${props.player.src}/head.png`, \"lightgrey\"), ...solidBorder(2, 'grey', 5) }}/>\r\n            <div style={{width:'70%', height:'100%', display:'flex', flexDirection:'column', justifyContent:'space-around', alignSelf:'center', margin: '5px'}}>\r\n                <div style={{display: 'flex', justifyContent:'space-between'}}>\r\n                    <div>{props.player.name}</div>\r\n                    <div style={{color:'yellow', fontSize:getFontSize(2)}}>Lvl:{props.player.level}</div>\r\n                </div>\r\n                <HealthBar maxhealth={props.player.maxLives} currhealth={props.player.lives} blink={props.blink}/>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nclass MoveDiv extends Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = [];\r\n        this.className = this.props.reverse? \"moveInRL\": \"moveInLR\";\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.image.style.backgroundImage = `url('${PROPS_PATH}/${BattleMoveIndexToStr(this.props.move)}.png')`;\r\n        this.image.classList.add(this.className);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.timeout = [];\r\n        this.timeout.push(setTimeout(function() {\r\n            if(this.image) {\r\n                this.image.style.backgroundImage = `url('${PROPS_PATH}/${BattleMoveIndexToStr(this.props.move)}.png')`;\r\n                this.image.classList.add(this.className);\r\n            }\r\n        }.bind(this), 50));\r\n        if(this.props.blink) {\r\n            this.timeout.push(setTimeout(function() {\r\n                if(this.image) {\r\n                    this.image.classList.add(\"blinkmomentary\");\r\n                }\r\n            }.bind(this), 600));\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.timeout.map(timeout => clearTimeout(timeout));\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            position: \"relative\",\r\n            width: '50%',\r\n            height: '100%',\r\n        }\r\n\r\n        const imgStyle = {\r\n            width: '100%',\r\n            height: '100%',\r\n            position: \"absolute\",\r\n            backgroundRepeat: 'no-repeat', \r\n            backgroundPosition:'center',\r\n            backgroundSize: 'contain',\r\n            transform: this.props.reverse? 'rotate(180deg)' : 'rotate(0deg)',\r\n        }\r\n\r\n        if(this.image) {\r\n            this.image.classList.remove(this.className);\r\n            this.image.classList.remove(\"blinkmomentary\");\r\n        };\r\n\r\n        return(\r\n                <div style={style}>\r\n                    <div ref={image => this.image=image} style={imgStyle}></div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Summary extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = null;\r\n    }\r\n\r\n    animateText(text) {\r\n        let idx = 0; const p = this.p;\r\n        const animate = function() {\r\n            if(idx > text.length)\r\n                return;\r\n            p.innerHTML = text.substring(0, idx);\r\n            idx++;\r\n            this.timeout = setTimeout(animate, 10);\r\n        }.bind(this);\r\n        animate();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.animateText(this.props.summary);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        clearTimeout(this.timeout);\r\n        this.animateText(this.props.summary);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    render() {\r\n\r\n        const style = {\r\n            border: '10px solid #db5435',\r\n            borderRadius:'20px',\r\n            width: '70%',\r\n            padding: '5px',\r\n            backgroundColor: '#639aa1',\r\n            color: 'white',\r\n            fontSize: getFontSize(3),\r\n            fontFamily: 'gameboy',\r\n            overflowWrap: 'break-word',\r\n        };\r\n\r\n        return(\r\n            <div id=\"summary\" style={style}>\r\n                <p ref={p => this.p = p}></p>\r\n            </div>\r\n        );\r\n    }     \r\n}\r\n\r\n\r\n\r\nclass BattleEnd extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n        this.continue = false;\r\n        if(this.props.winner===1) {\r\n            this.winnerStr =  `${this.props.player.name} WON!`;\r\n            this.winnerClass = \"wonBlink\";\r\n        } else {\r\n            this.winnerStr = `${this.props.player.name} LOST!`;\r\n            this.winnerClass = \"lostBlink\";\r\n        }\r\n        this.levelColor =  this.props.player.level>this.props.player.initialStats.level? \"forestgreen\":\"#5d5f5b\";\r\n        this.levelArrow = this.props.player.level>this.props.player.initialStats.level?` <i class=\"fa fa-arrow-up blink\"></i>`:\"\";\r\n\r\n        this.animateText = this.animateText.bind(this);\r\n        this.timeout = null;\r\n    }\r\n\r\n    handleKeyDown(event) {        \r\n        if(SPACE_KEY.includes( event.keyCode) && this.continue)\r\n            this.props.closeBattle();\r\n    }\r\n\r\n\r\n    animateText(base, from, to, speed, ref, count) {\r\n        const animate = function() {\r\n            if(from>to) {\r\n                count++;\r\n                if(count===1) {\r\n                    this.timeout = setTimeout(function() {this.animateText(\"Exp\", this.props.player.initialStats.exp, this.props.player.exp, 40, this.exp, count)}.bind(this), 200);\r\n                } else if(count===2) {\r\n                    this.timeout = setTimeout(function() {this.animateText(\"Level\", this.props.player.initialStats.level, this.props.player.level, 100, this.level, count);}.bind(this),200);\r\n                } else if (count===3) {\r\n                    this.level.style.color = this.levelColor;\r\n                    this.level.innerHTML+=this.levelArrow;\r\n                    this.cont.style.opacity = 1;\r\n                    this.continue = true;\r\n                }\r\n                return;\r\n            }\r\n            playSoundEffect(BEEP_SOUND);\r\n            ref.innerHTML = `${base}: ${from}`;\r\n            from++;\r\n            this.timeout = setTimeout(animate, speed);\r\n        }.bind(this);\r\n\r\n        animate();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        this.timeout = setTimeout(function(){this.animateText(\"Score\", 0, this.props.player.score, 40, this.score, 0)}.bind(this), 600);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timeout);\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div  id=\"battleEnd\" className=\"moveInLR\" style={{position:'absolute', width:'100%', height:'100%', display:'flex', flexDirection:'column', justifyContent:'center', fontSize: getFontSize(2.5) ,fontFamily:'gameboy',  backgroundImage: 'repeating-linear-gradient(#def3c6, #def3c6 20px, #e7f6db 20px, #e7f6db 23px)'}}>\r\n                <div style={{width:'100%', height:'60%', display:'flex', justifyContent:'center'}}>\r\n                    <div style={{width:'60%', height: '100%', display:'flex', justifyContent:'center', backgroundColor: '#f7f8f7',...solidBorder(10, '#00b1b7', 10), color:'#5d5f5b'}}> \r\n                            <div style={{width:'40%', height:'60%', display:'flex', flexDirection:'column', alignSelf:'center'}}>\r\n                                <div style={{width:'240px', height:'240px', alignSelf:'center', ...centerBgImg(`${this.props.player.src}/head.png`, \"lightgrey\"), ...solidBorder(2, 'grey', 5) }}/>\r\n                                <div style={{alignSelf:'center', fontSize: getFontSize(3)}}>{this.props.player.name}</div>\r\n                            </div> \r\n                            <div style={{width:'50%', height:'60%', display:'flex', flexDirection:'column', alignSelf:'center', fontSize: getFontSize(2.5)}}>\r\n                                <div className={this.winnerClass} style={{alignSelf:'center', fontSize: getFontSize(3.5), marginBottom:'20px'}}>{this.winnerStr}</div>\r\n                                <div ref={score => this.score=score} style={{margin:'5px 0px 0px 10px'}}></div>\r\n                                <div  ref={exp => this.exp=exp}  style={{margin:'5px 0px 0px 10px'}}></div>\r\n                                <div  ref={level => this.level=level} style={{margin:'5px 0px 0px 10px', color: this.levelColor}}></div>\r\n                            </div>\r\n                    </div>\r\n                </div> \r\n                <div className=\"blinkContinue\" ref={cont => this.cont=cont} style={{alignSelf:'center', marginTop:'40px', opacity:0, color:'#5d5f5b'}}>Press {getKeyDiv(\"SPACE\", 25)} to continue...</div>          \r\n            </div> \r\n        );\r\n    }\r\n}\r\n\r\nclass BattleIntro extends Component {\r\n\r\n    render() {\r\n\r\n        const character_bg = 'lightgrey';\r\n\r\n        const style={\r\n            position:'absolute', \r\n            width:'100%', height:'100%',\r\n            display:'flex', flexDirection:'column', justifyContent:'space-between',\r\n            fontFamily:'gameboy', fontSize: getFontSize(6),\r\n            backgroundColor:'white'\r\n        }\r\n\r\n        return(\r\n            <div id=\"battleIntro\" style={style}>\r\n                <div style={{position:'relative', height: '35%', backgroundColor: character_bg}}>\r\n                    <div  className=\"battleIntroRL\" style={{position:'absolute', top: '30%', width: '120px', height: '120px', ...centerBgImg(`${this.props.npc.src}/head.png`), backgroundColor: character_bg, }}></div>\r\n                </div>\r\n                <div style={{position:'relative', height: '30%', display: 'flex', alignItems:'center', justifyContent:'center'}}>\r\n                    <div className=\"battleIntroVS\">\r\n                        VS\r\n                    </div>\r\n                </div>\r\n                <div style={{position:'relative', height: '35%', backgroundColor: character_bg}}>\r\n                    <div  className=\"battleIntroLR\" style={{position:'absolute', top: '30%', width: '120px', height: '120px', ...centerBgImg(`${this.props.player.src}/head.png`), backgroundColor: character_bg}} />\r\n                </div> \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass BattleArena extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        this.select.focus();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown(event) {\r\n        const keyCode = event.keyCode;\r\n        if(ARROW_KEYCODES.includes(keyCode)) {\r\n            this.select.focus();\r\n        } else if(ENTER_KEY.includes(keyCode)) {\r\n            if(this.select.disabled)\r\n                return;\r\n            this.select.disabled = true;\r\n            this.props.submitMove(this.select.value);\r\n            setTimeout(function() {\r\n                if(this.select) {\r\n                    this.select.disabled = false; \r\n                    this.select.focus();\r\n                }\r\n            }.bind(this), 1200);\r\n        }\r\n    }\r\n\r\n    render() {\r\n            return(\r\n                <div  id=\"battle\" style={{position:'absolute', width:'100%', height:'100%', display:'flex', flexDirection:'column', justifyContent:'space-between', backgroundImage: 'repeating-linear-gradient(#def3c6, #def3c6 20px, #e7f6db 20px, #e7f6db 23px)'}}>\r\n                    <div style={{display: 'flex', flexDirection: 'row', justifyContent:'space-between', width:'100%', height: '25%', marginBottom: '5px'}}>\r\n                         <PlayerInfo player={this.props.battle.player} reverse={false} blink={this.props.battle.lastWinner===-1} />    \r\n                         <PlayerInfo player={this.props.battle.npc} reverse={true} blink={this.props.battle.lastWinner===1}/>\r\n                    </div>\r\n                    <div style={{display: 'flex', flexDirection: 'row', justifyContent:'space-between', width:'100%', height: '50%', marginBottom: '5px'}}>\r\n                        <MoveDiv move={this.props.battle.player.lastMove} reverse={false} blink={this.props.battle.lastWinner===-1}/>\r\n                        <MoveDiv move={this.props.battle.npc.lastMove} reverse={true} blink={this.props.battle.lastWinner===1}/>\r\n                    </div>\r\n                    <div style={{display: 'flex', width: '100%', height: '25%'}}>\r\n                        <select defaultValue={ROCK} style={{fontFamily:'gameboy_lg', fontSize: getFontSize(3), overflowY:'hidden', width: '30%', backgroundColor:'#f9f6d6', ...solidBorder(8, '#4d655e', 10)}} ref={select => this.select = select} size={3}>\r\n                                <option value={ROCK} >Rock</option>\r\n                                <option value={PAPER}>Paper</option>\r\n                                <option value={SCISSORS}>Scissors</option>\r\n                        </select>\r\n                        <Summary summary={this.props.battle.summary} />\r\n                    </div>\r\n                </div> \r\n            );\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Battle extends Component {\r\n\r\n    componentDidMount() {\r\n        if(this.props.battle.inIntro){\r\n            setTimeout(function() {\r\n                if(this.props) \r\n                    this.props.endIntro();\r\n            }.bind(this), 3000);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        let UI_COMPONENT = null, AUDIO_COMPONENT = null;\r\n        if(this.props.battle.inIntro) {\r\n               UI_COMPONENT =  <BattleIntro player={this.props.battle.player} npc={this.props.battle.npc} />;\r\n               AUDIO_COMPONENT = <ReactHowler src={this.props.battle.music} loop={true} html5={false} volume={0.5}/>;\r\n\r\n        } else if(this.props.battle.inEnd) {\r\n                UI_COMPONENT = <BattleEnd player={this.props.battle.player} winner={this.props.battle.finalWinner} closeBattle={this.props.closeBattle} />;\r\n                AUDIO_COMPONENT = <ReactHowler src={BATTLE_END_MUSIC} volume={0.3}/>;\r\n        \r\n        } else {\r\n               UI_COMPONENT = <BattleArena battle={this.props.battle} submitMove={this.props.submitMove} />;\r\n               AUDIO_COMPONENT = <ReactHowler src={this.props.battle.music} loop={true} html5={false} volume={0.5}/>;\r\n        } \r\n        return(\r\n            <div>\r\n                {UI_COMPONENT}\r\n                {AUDIO_COMPONENT}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Battle);","import React, { Component } from 'react';\r\nimport { BATTLE_NUM_GANG_MEMBERS, PORTAL_ENTER, PORTAL_LEAVE } from '../helpers/constants';\r\nimport {connect} from 'react-redux';\r\nimport { solidBorder, centerBgImg, getRounded, getKeyDiv, getLevelColor, getWinPercColor, getFontSize } from '../helpers/funcs';\r\nimport { SaveGameToDisk } from '../redux/ActionCreators';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        player: state.player,\r\n    });\r\n}\r\n\r\nconst mapDispatchtoProps = dispatch => {\r\n    return({\r\n        saveGame: () => { dispatch(SaveGameToDisk()); },\r\n    });\r\n}\r\n\r\nconst bgStyle = (bgcolor, bordercolor='white') => {\r\n    return({\r\n        padding: '5px',\r\n        backgroundColor: bgcolor,\r\n        ...solidBorder(2, bordercolor , 5),\r\n    });\r\n}\r\n\r\nconst getPortalInstruction = (portal) => {\r\n    let targetname = \"\", action = PORTAL_LEAVE;\r\n    if(portal.type.name===PORTAL_ENTER) {\r\n        action = PORTAL_ENTER;\r\n        targetname = portal.target.name;\r\n    }\r\n    return (<div>Use {getKeyDiv(\"E\")} to {action} {targetname}</div>);\r\n}\r\n\r\nconst AwareComponent = (props) => {\r\n\r\n    let instruction = props.player.nearbyNPC!==null? <div>Use {getKeyDiv(\"SPACE\")} to talk</div> : null;\r\n    instruction = props.player.nearbyGameObj!==null? <div>Use {getKeyDiv(\"P\")} to pickup</div> : instruction;\r\n    instruction = props.player.nearbyPortal!==null?  getPortalInstruction(props.player.nearbyPortal) : instruction;\r\n\r\n    return(\r\n        <div id=\"aware\" style={{display:props.player.interacting?'none':'block'}}>\r\n            {instruction}\r\n        </div>\r\n    );\r\n}\r\n\r\nclass Stats extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSaveBtnClick = this.handleSaveBtnClick.bind(this);\r\n    }\r\n\r\n\r\n    handleSaveBtnClick() {\r\n        this.props.saveGame();\r\n    }\r\n\r\n    render() {\r\n\r\n        const bg_color = 'lightgrey';\r\n\r\n        const style = {\r\n            width:  this.props.width,\r\n            height: 80,\r\n            margin:  'auto',\r\n            marginTop: '20px',\r\n            borderLeft:'10px solid white',\r\n            borderRight:'10px solid white',\r\n            borderTop: '5px solid white',\r\n            backgroundColor: bg_color,\r\n            color: 'black',\r\n            fontFamily: 'gameboy',\r\n            fontSize: getFontSize(1.5),\r\n            display:'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems:'center',\r\n        }\r\n\r\n        const level = this.props.player.battle.level;\r\n        const winperc = getRounded(this.props.player.battle.won*100/(this.props.player.battle.won + this.props.player.battle.lost))\r\n\r\n        return(\r\n            <div id=\"stats\" style={style}>\r\n                <div style={{width:'55%', display:'flex', alignItems:'center'}}>\r\n                    <div style={{width:80, height:80, ...centerBgImg( `${this.props.player.skin.src}/head.png`), backgroundColor:bg_color}}/>\r\n                    <div style={{display:'flex', flexDirection:'column', justifyContent:'center'}}>\r\n                        <div style={{margin:'5px', alignSelf:'flex-start'}}> {this.props.player.name} </div>\r\n                        <div style={{display:'flex'}}>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle(getLevelColor(level))}}> Lvl:{level} </div>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle(getLevelColor(level))}}> Exp:{this.props.player.battle.exp} </div>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle(getWinPercColor(winperc))}}> Win%:{winperc}</div>\r\n                            <div style={{margin:'5px', alignSelf:'flex-end', ...bgStyle('orange')}}>{`Tribes Defeated: ${Object.keys(this.props.player.battle.defeatedGangMembers).length}/${BATTLE_NUM_GANG_MEMBERS}`}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{width:'35%', height:'70%', ...solidBorder(2, '#DB5435', 10), backgroundColor:'#639AA1', color:'white', display:'flex', flexDirection:'column', justifyContent:'center', paddingLeft:'10px'}}>\r\n                    <AwareComponent player={this.props.player}/>\r\n                </div>\r\n                <div style={{display:'flex', alignItems: 'center'}}>\r\n                    <button disabled={(this.props.player.isAnimating || this.props.player.frozen || this.props.player.inBattle || this.props.player.interacting)} \r\n                            style={{margin:'5px', ...bgStyle(\"#FD974F\" , '#57ABB3'), backgroundColor: '#FD974F', fontFamily:'gameboy'}} onClick={this.handleSaveBtnClick}><FontAwesomeIcon style={{color:\"white\", marginBottom:'4px'}} size=\"2x\" icon={faSave}/> Save\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Stats);","import React, {Component} from 'react';\r\nimport Player from './PlayerComponent';\r\nimport Map from './MapComponent';\r\nimport { AddMap, LoadGameFromDisk, InitViewportAction  } from '../redux/ActionCreators';\r\nimport { level } from '../data/Levels/1/index';\r\nimport { connect } from 'react-redux';\r\nimport ConversationDisplay from './ConversationDisplayComponent';\r\nimport Inventory from './InventoryComponent';\r\nimport Loading from './LoadingComponent';\r\nimport Battle from './BattleComponent';\r\nimport Stats from './StatsComponent';\r\nimport { PROPS_PATH } from '../helpers/constants';\r\n\r\n\r\nconst mapStatetoProps = state => {\r\n    return({\r\n        map: state.map,\r\n        viewport: state.viewport,\r\n        battle: state.battle,\r\n        statemanager: state.statemanager,\r\n    });\r\n}\r\n\r\nconst mapDispatchtoProps = dispatch => {\r\n    return({\r\n        loadMap: (level) => { dispatch(AddMap(level)); },\r\n        loadGameFromDisk: () => { dispatch(LoadGameFromDisk()); },\r\n        initViewport: (dims) => { dispatch(InitViewportAction(dims)); },\r\n    });\r\n}\r\n\r\nclass World extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initViewport([this.props.width, this.props.height]);\r\n        if(!this.props.loadgame)\r\n            this.props.loadMap(level);\r\n        else {\r\n            this.props.loadGameFromDisk()\r\n        }\r\n    }\r\n\r\n    \r\n    render() {\r\n        \r\n        const worldStyle = {\r\n            position: 'relative',\r\n            margin:  'auto',\r\n            width: this.props.width,\r\n            height: this.props.height,\r\n            border: '10px solid white',\r\n            overflow: 'hidden',\r\n            backgroundColor: 'black',\r\n        }\r\n\r\n        if(this.props.map.isLoading) {\r\n            return(\r\n                <div id=\"world\"  style={{...worldStyle, marginTop:'60px'}}>\r\n                    <Loading msg=\"Loading Map\"/>\r\n                </div>\r\n            );\r\n        } else if (this.props.statemanager.savingState) {\r\n            return(\r\n                <div id=\"world\"  style={{...worldStyle, marginTop:'60px'}}>\r\n                    <Loading msg=\"Freezing state\"/>\r\n                </div>\r\n            );\r\n        } else if(this.props.battle.isOpen) {\r\n            return(\r\n                <div id=\"world\"  style={{...worldStyle, marginTop:'60px'}}>\r\n                    <Battle battle={this.props.battle} />\r\n                </div> \r\n            );\r\n        } \r\n        else {\r\n            return(\r\n                <React.Fragment>\r\n                    <Stats width={this.props.width} />\r\n                    <div id=\"world\" style={worldStyle}>\r\n                        <Map map={this.props.map} viewport={this.props.viewport}/>\r\n                        <Player viewport={this.props.viewport} handleBack={this.props.handleBack}/>\r\n                        <ConversationDisplay />\r\n                        <Inventory />\r\n                    </div>\r\n                    <img src={`${PROPS_PATH}/loading.png`} alt=\"Loading\" style={{display:'none'}}></img>\r\n                </React.Fragment>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(World);","import React, {Component} from 'react';\r\nimport { SAVED_GAME, PROPS_PATH } from '../helpers/constants';\r\nimport { solidBorder, centerBgImg, getFontSize } from '../helpers/funcs';\r\n\r\n\r\n\r\nconst checkSavedGame = () => {\r\n    try {\r\n        const serializedState = localStorage.getItem(SAVED_GAME);\r\n        return serializedState!==null;\r\n      } catch (err) {\r\n        alert(\"Issue accessing local storage. There will be problem in saving the game!\");\r\n        return false;\r\n      }\r\n}\r\n\r\n\r\n\r\nconst MenuBtn = (props) => {\r\n    \r\n    const basestyle = {\r\n        width:'350px',\r\n        padding: '10px',\r\n        fontFamily: 'pixel',\r\n        fontSize: getFontSize(2),\r\n        margin:'10px',\r\n        backgroundColor: '#FD974F',\r\n        ...solidBorder(2, '#57ABB3', 5),\r\n    };\r\n\r\n    const disbaledstyle = {\r\n        ...basestyle,\r\n        color: 'black',\r\n        opacity: '0.5',\r\n    };\r\n\r\n    if(props.disabled) {\r\n        return(\r\n            <button disabled style={disbaledstyle}>{props.title}</button>\r\n        )\r\n    } else {\r\n        return(\r\n            <button onClick={function() {props.onClick();}} style={basestyle}>{props.title}</button>\r\n        )\r\n    }\r\n}\r\n\r\nclass MainMenu extends Component {\r\n    render() {\r\n\r\n        const style = {\r\n            position: 'absolute',\r\n            left: 0, top: 0,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent:'center',\r\n            alignItems: 'center',\r\n        }\r\n\r\n        return(\r\n            <div style={{...style, width: this.props.width, height: this.props.height}}>\r\n                <div style={{position:'relative', width:'100%', height: '60%', overflow:'hidden'}}>\r\n                    <div className=\"animateTitle\" style={{position:'absolute',width:\"100%\", height:\"100%\",...centerBgImg(`${PROPS_PATH}/title.png`, null, 'auto')}}/>\r\n                </div>\r\n                <div className=\"showMenu\" style={{position:'relative', width:'100%', height: '40%', display:'flex', flexDirection:'column', alignItems:'center', opacity:0}}>\r\n                    <MenuBtn title=\"Start New Game\" disabled={false} onClick={this.props.startNewGame}/>\r\n                    <MenuBtn title=\"Load Game\" disabled={!checkSavedGame()} onClick={this.props.loadGame}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainMenu;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { centerBgImg, solidBorder, playSoundEffect, getFontSize } from '../helpers/funcs';\r\nimport { SetPlayerInfoAction, StartNewJourneyAction } from '../redux/ActionCreators';\r\nimport { BEEP_3_SOUND, PROPS_PATH } from '../helpers/constants';\r\n\r\nconst SELECT_URL = `${PROPS_PATH}/playerselect/`;\r\nconst NAME_MIN = 3, NAME_MAX = 15;\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return({\r\n        initPlayerInfo: ({name, character}) => { dispatch(SetPlayerInfoAction(name, character)) },\r\n        startNewJourney: () => { dispatch(StartNewJourneyAction()); },\r\n    });\r\n}\r\n\r\nconst checkName = (name) => {\r\n    var pattern = /^[a-z]{3,15}$/i;\r\n    return pattern.test(name);\r\n}\r\n\r\nconst CharacterPane = (props) => {\r\n    return(\r\n        <div style={{width:220, height:300}} onClick={function(){ props.click(props.option);}} >\r\n            <button className={props.option===props.selected?\"selected\":\"\"}  style={{width:'100%', height:'100%', ...centerBgImg(`${SELECT_URL}${props.option}.png`, props.bgColor, 'crop')}}></button>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass PlayerSelect extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleCharacterClick = this.handleCharacterClick.bind(this);\r\n        this.handleNameChange = this.handleNameChange.bind(this);\r\n        this.validateAndSend = this.validateAndSend.bind(this);\r\n        this.state = {\r\n            character: null,\r\n            name: \"\",\r\n            errmsg:\"\"\r\n        }\r\n    }\r\n\r\n    handleNameChange(event) {\r\n        playSoundEffect(BEEP_3_SOUND);\r\n        this.setState({\r\n            name: event.target.value,\r\n            errmsg:\"\"\r\n        })\r\n    }\r\n\r\n    handleCharacterClick(option) {\r\n        playSoundEffect(BEEP_3_SOUND);\r\n        this.setState({\r\n            character: option,\r\n            errmsg:\"\"\r\n        });\r\n    }\r\n\r\n    validateAndSend() {\r\n        if(this.state.character===null) {\r\n            this.setState(\r\n                { errmsg: \"Please select an avatar!\", }\r\n            );\r\n            return;\r\n        } else if(!checkName(this.state.name)) {\r\n            this.setState(\r\n                { errmsg: `Invalid Name!`,}\r\n            );\r\n            return;\r\n        } else {\r\n            this.props.startNewJourney();\r\n            this.props.initPlayerInfo(this.state);\r\n            this.props.startJourney();\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const style = {\r\n            position: 'absolute',\r\n            left: '50%',\r\n            marginTop: 10,\r\n            transform: 'translate(-50%, 0%)',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            fontFamily: 'pixel',\r\n            fontSize: getFontSize(3),\r\n        }\r\n\r\n        return(\r\n            <div className=\"animateTitle\" style={{...style, width: '100%', height: '100%'}}>\r\n                <button onClick= {this.props.handleBack} style={{padding:'5px', marginLeft:'5px', backgroundColor: '#FD974F', alignSelf:'flex-start',...solidBorder(1, '#57ABB3', 5)}}><i className=\"fa fa-arrow-left fa-2x\"></i></button>\r\n                <div style={{margin:'20px', padding:'10px', color:'black', backgroundColor:'#FD974F', borderTop:'2px #57ABB3 solid', borderBottom:'2px #57ABB3 solid'}}>Select Your Avatar</div>\r\n                <div style={{width:'80%', height:'60%', display: 'flex', flexDirection: 'row', justifyContent:'space-between', alignItems: 'center',}}>\r\n                    <CharacterPane option=\"player_1\" click={this.handleCharacterClick} selected={this.state.character} bgColor='#FFE0C9'/>\r\n                    <CharacterPane option=\"player_2\" click={this.handleCharacterClick} selected={this.state.character} bgColor='#B0F8FF'/>\r\n                </div>\r\n                <div style={{width:'90%', height: '50px' , margin:'10px',display:'flex', justifyContent:'center', alignItems:'center'}}>\r\n                    <label htmlFor = \"player\" style={{marginRight:'20px', fontSize:getFontSize(2), color:'black'}}> Avatar name </label> \r\n                    <div style={{width:'60%', fontFamily:'pixel',}}>\r\n                        <input onChange={this.handleNameChange} type = \"text\" name = \"player\" id = \"player\" style={{width:'100%', fontFamily:'pixel' ,fontSize:getFontSize(2), color:'#57ABB3'}} value={this.state.name}/>\r\n                        <div style={{width:'100%', fontSize: getFontSize(1), color:'grey'}}>{NAME_MIN} to {NAME_MAX} english alphabet characters</div>\r\n                    </div>\r\n                </div>\r\n                <button onClick={this.validateAndSend} style={{width:350, fontFamily:'pixel',fontSize:getFontSize(2.5), margin:'50px', padding:'10px' ,backgroundColor: '#FD974F', ...solidBorder(2, '#57ABB3', 5),}}>Start Journey</button>\r\n                <p style={{color:'red', fontSize:getFontSize(2)}}>{this.state.errmsg}</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(PlayerSelect);","export const RESOURCES = [\r\n    'assets/images/80/characters/baby/head.png',\r\n    'assets/images/80/characters/baby/sprite.png',\r\n    'assets/images/80/characters/boss/head.png',\r\n    'assets/images/80/characters/boss/sprite.png',\r\n    'assets/images/80/characters/bully_1/head.png',\r\n    'assets/images/80/characters/bully_1/sprite.png',\r\n    'assets/images/80/characters/cat_black/sprite.png',\r\n    'assets/images/80/characters/cat_orange/sprite.png',\r\n    'assets/images/80/characters/cat_white/sprite.png',\r\n    'assets/images/80/characters/chef/sprite.png',\r\n    'assets/images/80/characters/crush_1/head.png',\r\n    'assets/images/80/characters/crush_1/sprite.png',\r\n    'assets/images/80/characters/crush_2/head.png',\r\n    'assets/images/80/characters/crush_2/sprite.png',\r\n    'assets/images/80/characters/crush_3/head.png',\r\n    'assets/images/80/characters/crush_3/sprite.png',\r\n    'assets/images/80/characters/crush_4/head.png',\r\n    'assets/images/80/characters/crush_4/sprite.png',\r\n    'assets/images/80/characters/extras/player_tmp/head.png',\r\n    'assets/images/80/characters/extras/player_tmp/sprite_long.png',\r\n    'assets/images/80/characters/extras/player_tmp/sprite_tmp.png',\r\n    'assets/images/80/characters/extras/prof/head.png',\r\n    'assets/images/80/characters/extras/prof/professor_80.png',\r\n    'assets/images/80/characters/extras/prof/sprite.png',\r\n    'assets/images/80/characters/friend_1/head.png',\r\n    'assets/images/80/characters/friend_1/sprite.png',\r\n    'assets/images/80/characters/friend_2/head.png',\r\n    'assets/images/80/characters/friend_2/sprite.png',\r\n    'assets/images/80/characters/friend_3/head.png',\r\n    'assets/images/80/characters/friend_3/sprite.png',\r\n    'assets/images/80/characters/friend_4/head.png',\r\n    'assets/images/80/characters/friend_4/sprite.png',\r\n    'assets/images/80/characters/friend_5/head.png',\r\n    'assets/images/80/characters/friend_5/sprite.png',\r\n    'assets/images/80/characters/friend_6/head.png',\r\n    'assets/images/80/characters/friend_6/sprite.png',\r\n    'assets/images/80/characters/friend_7/head.png',\r\n    'assets/images/80/characters/friend_7/sprite.png',\r\n    'assets/images/80/characters/friend_8/head.png',\r\n    'assets/images/80/characters/friend_8/sprite.png',\r\n    'assets/images/80/characters/friend_9/head.png',\r\n    'assets/images/80/characters/friend_9/sprite.png',\r\n    'assets/images/80/characters/kid_1/head.png',\r\n    'assets/images/80/characters/kid_1/sprite.png',\r\n    'assets/images/80/characters/kid_2/head.png',\r\n    'assets/images/80/characters/kid_2/sprite.png',\r\n    'assets/images/80/characters/kid_3/head.png',\r\n    'assets/images/80/characters/kid_3/sprite.png',\r\n    'assets/images/80/characters/nurse/head.png',\r\n    'assets/images/80/characters/nurse/sprite.png',\r\n    'assets/images/80/characters/player_1/head.png',\r\n    'assets/images/80/characters/player_1/sprite.png',\r\n    'assets/images/80/characters/player_2/head.png',\r\n    'assets/images/80/characters/player_2/sprite.png',\r\n    'assets/images/80/characters/prof/head.png',\r\n    'assets/images/80/characters/prof/sprite.png',\r\n    'assets/images/80/characters/puppy_brown/sprite.png',\r\n    'assets/images/80/characters/puppy_white/head.png',\r\n    'assets/images/80/characters/puppy_white/sprite.png',\r\n    'assets/images/80/characters/tribe_1/head.png',\r\n    'assets/images/80/characters/tribe_1/sprite.png',\r\n    'assets/images/80/characters/tribe_2/head.png',\r\n    'assets/images/80/characters/tribe_2/sprite.png',\r\n    'assets/images/80/characters/tribe_3/head.png',\r\n    'assets/images/80/characters/tribe_3/sprite.png',\r\n    'assets/images/80/characters/tribe_4/head.png',\r\n    'assets/images/80/characters/tribe_4/sprite.png',\r\n    'assets/images/80/characters/tribe_5/head.png',\r\n    'assets/images/80/characters/tribe_5/sprite.png',\r\n    'assets/images/80/objectsAndProps/enter.png',\r\n    'assets/images/80/objectsAndProps/hen.png',\r\n    'assets/images/80/objectsAndProps/items.png',\r\n    'assets/images/80/objectsAndProps/leave.png',\r\n    'assets/images/80/objectsAndProps/loading.png',\r\n    'assets/images/80/objectsAndProps/PAPER.png',\r\n    'assets/images/80/objectsAndProps/portal.png',\r\n    'assets/images/80/objectsAndProps/ROCK.png',\r\n    'assets/images/80/objectsAndProps/SCISSORS.png',\r\n    'assets/images/80/objectsAndProps/title.png',\r\n    'assets/images/80/objectsAndProps/town.png',\r\n    'assets/images/80/objectsAndProps/playerselect/player_1.png',\r\n    'assets/images/80/objectsAndProps/playerselect/player_2.png',\r\n]","import React, {Component} from 'react';\r\nimport World from './WorldComponent';\r\nimport MainMenu from './MainMenuComponent';\r\nimport PlayerSelectComponent from './PlayerSelectComponent';\r\nimport { getViewportDim, playSoundEffect, centerBgImg, preloadPictures } from '../helpers/funcs';\r\nimport ReactHowler from 'react-howler';\r\nimport { MAIN_MENU_MUSIC, BEEP_2_SOUND, BEEP_LONG_SOUND, PROPS_PATH } from '../helpers/constants';\r\nimport Loading from './LoadingComponent';\r\nimport { RESOURCES } from '../data/resourcepaths';\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            menu: false,\r\n            playerselect: false,\r\n            world: false,\r\n            loadgame: false,\r\n            screenDim: getViewportDim(window.screen.width, window.screen.height),\r\n        }\r\n        this.bg = `${PROPS_PATH}/town.png`;\r\n        this.handleStartNewGame = this.handleStartNewGame.bind(this);\r\n        this.handleLoadGame = this.handleLoadGame.bind(this);\r\n        this.handleStartJourney = this.handleStartJourney.bind(this);\r\n        this.handleBack = this.handleBack.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        const renderMenu = function() {\r\n            this.setState({\r\n                loading: false,\r\n                menu: true,\r\n                playerselect: false,\r\n                world: false,\r\n                loadgame: false,\r\n            });\r\n        }.bind(this);\r\n\r\n        preloadPictures(RESOURCES, renderMenu);\r\n    }\r\n\r\n    handleStartNewGame() {\r\n        playSoundEffect(BEEP_2_SOUND);\r\n        this.setState({\r\n            menu: false,\r\n            playerselect: true,\r\n            world: false,\r\n            loadgame: false,\r\n        });\r\n    }\r\n\r\n    handleLoadGame() {\r\n        playSoundEffect(BEEP_LONG_SOUND);\r\n        this.setState({\r\n            menu: false,\r\n            playerselect: false,\r\n            world: true,\r\n            loadgame: true,\r\n        });\r\n    }\r\n\r\n    handleStartJourney() {\r\n        playSoundEffect(BEEP_LONG_SOUND);\r\n        this.setState({\r\n            menu: false,\r\n            playerselect: false,\r\n            world: true,\r\n            loadgame: false,\r\n        })\r\n    }\r\n\r\n    handleBack() {\r\n        playSoundEffect(BEEP_2_SOUND);\r\n        this.setState({\r\n            menu: true,\r\n            playerselect: false,\r\n            world: false,\r\n            loadgame: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        \r\n        const style = {\r\n            position: 'relative',\r\n            margin: '60px auto',\r\n            border: '10px solid white',\r\n            overflow: 'hidden',\r\n            width: this.state.screenDim[0],\r\n            height: this.state.screenDim[1],\r\n            ...centerBgImg(this.bg, 'black', 'cover'),\r\n        }\r\n\r\n        let UI_COMPONENT = null, AUDIO_COMPONENT = null;\r\n\r\n        if(this.state.loading) {\r\n            UI_COMPONENT = <Loading msg=\"Loading Resources\"/>;\r\n            AUDIO_COMPONENT = null;\r\n        } else if(this.state.menu) {\r\n            UI_COMPONENT = <div style={style}><MainMenu width={this.state.screenDim[0]} height={this.state.screenDim[1]} startNewGame={this.handleStartNewGame} loadGame={this.handleLoadGame} /></div>;\r\n            AUDIO_COMPONENT = <ReactHowler src={MAIN_MENU_MUSIC} loop={true} html5={false} volume={0.4}/>;\r\n        } else if(this.state.playerselect) {\r\n            UI_COMPONENT = <div style={style}><PlayerSelectComponent width={this.state.screenDim[0]} height={this.state.screenDim[1]}  startJourney={this.handleStartJourney} handleBack={this.handleBack}/></div>;\r\n            AUDIO_COMPONENT = <ReactHowler src={MAIN_MENU_MUSIC} loop={true} html5={false}  volume={0.4}/>;\r\n        } else if(this.state.world) {\r\n            UI_COMPONENT = <World width={this.state.screenDim[0]} height={this.state.screenDim[1]} loadgame={this.state.loadgame} handleBack={this.handleBack}/>;\r\n            AUDIO_COMPONENT = null;\r\n        } else {\r\n            UI_COMPONENT = <div style={{fontFamily:'gameboy', fontSize:'20px', color:'white'}}>Unknown error. PLEASE RELOAD PAGE.</div>;\r\n            AUDIO_COMPONENT = null;\r\n        }\r\n\r\n        return(\r\n            <React.Fragment>\r\n                {UI_COMPONENT}\r\n                {AUDIO_COMPONENT}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;","import * as ActionTypes from './ActionTypes';\r\nimport { DOWN } from '../helpers/constants';\r\nimport { getValue } from '../helpers/funcs';\r\nimport { SKINS } from '../data/skins';\r\n\r\nconst DEFAULT_SKIN = \"player_1\";\r\n\r\nconst INITIAL_STATE = { \r\n                        name: \"PLAYER\",\r\n                        skin: SKINS[DEFAULT_SKIN],\r\n                        position: [0, 0],\r\n                        direction: DOWN,\r\n                        spriteLocation: SKINS[DEFAULT_SKIN][DOWN],\r\n                        isAnimating: false,\r\n                        nextPosition: [],\r\n                        walkIndex: 0,\r\n                        frameInterval: 0,\r\n                        interacting: false,\r\n                        frozen: false,\r\n                        nearbyNPC: null,\r\n                        nearbyGameObj: null,\r\n                        nearbyPortal: null,\r\n                        inBattle: false,\r\n                        battle: {\r\n                                level: 1,\r\n                                exp: 0,\r\n                                won: 0,\r\n                                lost: 0,\r\n                                defeatedGangMembers:{},\r\n                        }\r\n        };\r\n\r\nconst getUpdatedGangMembersList = (defeatedGangMembers, newGangMember) => {\r\n        let newDefeatedGangMembers = {...defeatedGangMembers};\r\n        if(newGangMember!==null) {\r\n                newDefeatedGangMembers[newGangMember] = 1;\r\n        } \r\n        return(newDefeatedGangMembers);\r\n}\r\n\r\n\r\nexport const Player = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n                return({\r\n                        ...INITIAL_STATE,\r\n                });\r\n        case ActionTypes.ADD_MAP:\r\n                return({\r\n                        ...state, \r\n                        position: action.payload.player.position, \r\n                        direction: getValue(state.direction, action.payload.player.direction),\r\n                        spriteLocation: state.skin[getValue(state.direction, action.payload.player.direction)],\r\n                        isAnimating: false,\r\n                        nextPosition: [],\r\n                        walkIndex: 0,\r\n                        interacting: false,\r\n                        frozen: false,\r\n                        nearbyNPC: null,\r\n                        nearbyGameObj: null,\r\n                        nearbyPortal: null,\r\n                        inBattle: false,\r\n                        battle: {\r\n                                ...action.payload.secondary? state.battle:INITIAL_STATE.battle, \r\n                        }\r\n                });\r\n        case ActionTypes.SET_PLAYER_INFO:\r\n                return({\r\n                        ...state,\r\n                        name: action.payload.name,\r\n                        skin: SKINS[action.payload.skinIdx],\r\n\r\n                });\r\n        case ActionTypes.UPDATE_PLAYER_POSITION:\r\n                return({...state, \r\n                        position: action.payload.position, \r\n                        walkIndex: (state.walkIndex+1)%state.skin.walkSpriteCount\r\n                });\r\n        case ActionTypes.UPDATE_PLAYER_DIRECTION:\r\n                return({...state, \r\n                        direction: action.payload.direction, \r\n                        spriteLocation: state.skin[action.payload.direction]\r\n                });\r\n        case ActionTypes.UPDATE_PLAYER_ANIMATION:\r\n                return({...state, \r\n                        isAnimating: action.payload.isAnimating, \r\n                        nextPosition: action.payload.newpos, \r\n                        walkIndex: 0\r\n                });\r\n        case ActionTypes.SET_DIALOG_STATUS:\r\n                return({\r\n                        ...state,\r\n                        interacting: true,\r\n                });\r\n        case ActionTypes.RESET_DIALOG_STATUS:\r\n                return({\r\n                        ...state,\r\n                        interacting: false,\r\n                });\r\n        \r\n        case ActionTypes.SAVE_STATE_INITIATED:\r\n                return({\r\n                        ...state,\r\n                        frozen: true,\r\n                });\r\n        case ActionTypes.SAVE_STATE_END:\r\n                return({\r\n                        ...state,\r\n                        frozen: false,\r\n                });\r\n\r\n        case ActionTypes.RESTORE_STATE:\r\n                return({\r\n                        ...action.payload.state.player,\r\n                        battle: {...state.battle},\r\n                        direction: state.direction,\r\n                        spriteLocation: state.skin[state.direction],\r\n                        frozen: false,\r\n                });\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                return({\r\n                        ...action.payload.state.player,\r\n                                frozen: false,\r\n                });\r\n        case ActionTypes.UPDATE_NEARBY_NPC: \r\n                return({\r\n                        ...state,\r\n                        nearbyNPC: action.payload.npcId,\r\n                });\r\n        case ActionTypes.UPDATE_NEARBY_GAMEOBJ: \r\n                return({\r\n                        ...state,\r\n                        nearbyGameObj: action.payload.id,\r\n                });\r\n        case ActionTypes.UPDATE_NEARBY_PORTAL: \r\n                return({\r\n                        ...state,\r\n                        nearbyPortal: action.payload.portal? {...action.payload.portal}:null,\r\n                });\r\n        case ActionTypes.START_BATTLE:\r\n                return({\r\n                        ...state,\r\n                        inBattle: true,\r\n                });\r\n        case ActionTypes.END_BATTLE:\r\n                return({\r\n                        ...state,\r\n                        inBattle: false,\r\n                        battle: {\r\n                                level: action.payload.player.newlevel,\r\n                                exp: action.payload.player.newexp,\r\n                                won: action.payload.battleWinner===1? state.battle.won+1: state.battle.won,\r\n                                lost: action.payload.battleWinner===-1? state.battle.lost+1: state.battle.lost,\r\n                                defeatedGangMembers: getUpdatedGangMembersList(state.battle.defeatedGangMembers, action.payload.player.gangMember),\r\n                        },\r\n                });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\n\r\nconst INITIAL_STATE = { \r\n                        name: null,\r\n                        tiles: [],\r\n                        width: 0,\r\n                        height: 0,\r\n                        isLoading: true,\r\n                        src: null,\r\n                        audioSrc: null,\r\n                    }\r\n\r\nexport const Map = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            });\r\n\r\n        case ActionTypes.ADD_MAP:\r\n            return({...state, \r\n                    name: action.payload.name,\r\n                    tiles: action.payload.tiles, \r\n                    width: action.payload.width,\r\n                    height: action.payload.height,\r\n                    src: action.payload.src,\r\n                    audioSrc: action.payload.audioSrc,\r\n                    isLoading: false,\r\n                    });\r\n        case ActionTypes.MAP_LOADING:\r\n            return({\r\n                ...state,\r\n                isLoading: true,\r\n            });\r\n        case ActionTypes.RESTORE_STATE:\r\n            return({\r\n                ...action.payload.state.map,\r\n                isLoading: false,\r\n            });\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return({\r\n                ...action.payload.state.map,\r\n                isLoading: false,\r\n            });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n                        start: [0, 0],\r\n                        end: [],\r\n                        width:0,\r\n                        height:0,\r\n                        viewportDims:[0, 0], //width X height\r\n                        camera:[[0,0],[0,0]],\r\n                    }\r\n\r\nexport const ViewPort = ( state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.INIT_VIEWPORT_DIMS:\r\n            return({\r\n                ...state,\r\n                viewportDims: action.payload.viewportDims,\r\n                camera: action.payload.camera,\r\n            })\r\n        case ActionTypes.ADD_MAP:\r\n            return({...state,\r\n                        start: action.payload.viewport.start,\r\n                        end: action.payload.viewport.end,\r\n                        width:action.payload.width, \r\n                        height: action.payload.height,\r\n                    });\r\n        case ActionTypes.UPDATE_MAP_ORIGIN:\r\n            return({...state,  start: action.payload.origin,\r\n                                end: [action.payload.origin[0]+state.width, action.payload.origin[1]+state.height]});\r\n\r\n        case ActionTypes.RESTORE_STATE:\r\n            return({\r\n                ...action.payload.state.viewport,\r\n            });\r\n\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return({\r\n                ...action.payload.state.viewport,\r\n            });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport {tileToMapCoordinates} from '../helpers/funcs';\r\nimport {TILE_SIZE } from '../helpers/constants';\r\n\r\nconst INITIAL_STATE = {\r\n    list:  [],\r\n    frozen: false,\r\n  }\r\n\r\nexport const NPC = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            });\r\n\r\n        case ActionTypes.ADD_MAP:\r\n            if(!action.payload.npc)\r\n                return state;\r\n            return(\r\n                { \r\n                    frozen: false,\r\n                    list :action.payload.npc.map( npc => {\r\n                        return({...npc, \r\n                                position: tileToMapCoordinates(npc.pathArr[0], TILE_SIZE),\r\n                                spriteLocation: npc.skin[npc.direction],\r\n                                defaultDirection: npc.direction,\r\n                                isAnimating: false,\r\n                                nextPosition: [],\r\n                                walkIndex: 0,\r\n                                pathIdx: 0,\r\n                                pathDir: 1,\r\n                                lastUpdated: performance.now(),\r\n                                isWaiting: false,\r\n                                interacting: false,\r\n                                battle: 'battle' in npc? npc.battle: false,\r\n                                battlerType: 'battlerType' in npc? npc.battlerType: null,\r\n                                inBattle: false,\r\n                                battleFlag: 'battleFlag' in npc? npc.battleFlag : false,\r\n                                defeatedCount: 'defeatedCount' in npc? npc.defeatedCount: 0,\r\n                                talkFlag: 'talkFlag' in npc? npc.talkFlag: true,\r\n                            })\r\n                        })\r\n                }\r\n            );\r\n        case ActionTypes.UPDATE_NPC_POSITION:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                            if(npc.id===action.payload.id)\r\n                                return({...npc, \r\n                                        position: action.payload.position, \r\n                                        walkIndex: (npc.walkIndex+1)%npc.skin.walkSpriteCount,\r\n                                });\r\n                            else\r\n                                return npc;\r\n                    })\r\n                });\r\n                    \r\n        case ActionTypes.UPDATE_NPC_DIRECTION:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                        if(npc.id===action.payload.id)\r\n                            return({...npc,  \r\n                                    direction: action.payload.direction, \r\n                                    spriteLocation: npc.skin[action.payload.direction]\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n\r\n        case ActionTypes.UPDATE_NPC_ANIMATION:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                        if(npc.id===action.payload.id) {\r\n                            let pathIdx = npc.pathIdx, \r\n                                pathDir = npc.pathDir,\r\n                                isWaiting = npc.isWaiting, lastUpdated = npc.lastUpdated;\r\n                            \r\n                            if(!action.payload.isAnimating) {\r\n                                lastUpdated = performance.now();\r\n                                pathIdx = pathIdx + pathDir;\r\n                                if(pathDir===1 && pathIdx===(npc.pathArr.length-1)) {\r\n                                    isWaiting = true;\r\n                                    pathDir = -1;\r\n                                } else if(pathDir===-1 && pathIdx===0) {\r\n                                    isWaiting = true;\r\n                                    pathDir = 1;\r\n                                }\r\n                            }\r\n                            return({...npc,  \r\n                                    isAnimating: action.payload.isAnimating, \r\n                                    nextPosition: action.payload.newpos, \r\n                                    pathIdx: pathIdx, \r\n                                    pathDir: pathDir,\r\n                                    isWaiting: isWaiting,\r\n                                    lastUpdated: lastUpdated\r\n                            });\r\n                        } else\r\n                            return npc;\r\n                    })\r\n                });\r\n                    \r\n        case ActionTypes.RESET_NPC_WAITING:\r\n                return({\r\n                    ...state,\r\n                    list: state.list.map( npc => {\r\n                        if(npc.id===action.payload.id)\r\n                            return({...npc,  \r\n                                    isWaiting: false,\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n        case ActionTypes.SET_DIALOG_STATUS:\r\n                return({\r\n                    ...state,\r\n                    list:  state.list.map( npc => {\r\n                        if(npc.id===action.payload.npcId)\r\n                            return({...npc,  \r\n                                    interacting: true,\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n        case ActionTypes.RESET_DIALOG_STATUS:\r\n                    return({\r\n                        ...state,\r\n                        list: state.list.map( npc => {\r\n                            if(npc.id===action.payload.npcId)\r\n                                return({...npc,  \r\n                                        interacting: false,\r\n                                        talkFlag: true,\r\n                                    });\r\n                            else\r\n                                return npc;\r\n                        })\r\n                    });\r\n        case ActionTypes.SAVE_STATE_INITIATED:\r\n                return({\r\n                    ...state,\r\n                    frozen: true,\r\n                });\r\n        case ActionTypes.SAVE_STATE_END:\r\n                return({\r\n                    ...state,\r\n                    frozen: false,\r\n                });\r\n        case ActionTypes.RESTORE_STATE:\r\n                return({\r\n                    list: action.payload.state.npc.list.map( npc => {\r\n                        return({\r\n                            ...npc,\r\n                            isWaiting: false,\r\n                        });\r\n                    } ),\r\n                    frozen: false,\r\n                });\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                return({\r\n                    list: action.payload.state.npc.list.map( npc => {\r\n                        return({\r\n                            ...npc,\r\n                            isWaiting: false,\r\n                        });\r\n                    } ),\r\n                    frozen: false,\r\n                });\r\n\r\n        case ActionTypes.START_BATTLE:\r\n                return({\r\n                    ...state,\r\n                    list:  state.list.map( npc => {\r\n                        if(npc.id===action.payload.npc.id)\r\n                            return({...npc,  \r\n                                    inBattle: true,\r\n                                });\r\n                        else\r\n                            return npc;\r\n                    })\r\n                });\r\n        case ActionTypes.END_BATTLE:\r\n                    return({\r\n                        ...state,\r\n                        list: state.list.map( npc => {\r\n                            if(npc.id===action.payload.npcId)\r\n                                return({...npc,  \r\n                                        inBattle: false,\r\n                                        defeatedCount: action.payload.battleWinner===1? npc.defeatedCount+1:npc.defeatedCount,\r\n                                        battleFlag: true,\r\n                                    });\r\n                            else\r\n                                return npc;\r\n                        })\r\n                    });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport {tileToMapCoordinates} from '../helpers/funcs';\r\nimport {TILE_SIZE } from '../helpers/constants';\r\n\r\n\r\nexport const GameObject = (state = [], action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return([]);\r\n            \r\n        case ActionTypes.ADD_MAP:\r\n            let id=0;\r\n            if(!action.payload.gameobjects)\r\n                return state;\r\n            return(\r\n                action.payload.gameobjects.map( gameobject => {\r\n                    return({...gameobject, \r\n                            id: id++,\r\n                            position: tileToMapCoordinates(gameobject.position, TILE_SIZE),\r\n                    })\r\n                })\r\n            );\r\n        case ActionTypes.ADD_OBJECT_TO_INVENTORY:\r\n            return(state.filter( gameobject => (gameobject.id !== action.payload.object.id)));\r\n\r\n        case ActionTypes.RESTORE_STATE:\r\n            return(\r\n                action.payload.state.gameobjects.concat()\r\n            );\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return(\r\n                    action.payload.state.gameobjects.concat()\r\n            );\r\n\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    isOpen: false, \r\n    position: \"top\",\r\n    person1: {},\r\n    person2: {},\r\n    dialogIdx: 0,\r\n    speakerIdx: 0,\r\n    npcId: null,\r\n    battleConversation: false,\r\n };\r\n\r\nexport const Dialog = (state = {...INITIAL_STATE}, action) => {\r\n            switch(action.type) {\r\n                case ActionTypes.START_NEW_JOURNEY:\r\n                    return({\r\n                        ...INITIAL_STATE\r\n                    });\r\n                case ActionTypes.SET_DIALOG_STATUS:\r\n                    return({\r\n                        ...INITIAL_STATE,\r\n                        isOpen: true,\r\n                        position: action.payload.position,\r\n                        person1: action.payload.person1,\r\n                        person2: action.payload.person2,\r\n                        npcId: action.payload.npcId,\r\n                        dialogIdx: 0,\r\n                        speakerIdx: 0,\r\n                        battleConversation: action.payload.battleConversation, \r\n                    });\r\n                case ActionTypes.RESET_DIALOG_STATUS:\r\n                        return({\r\n                            ...INITIAL_STATE,\r\n                        });\r\n                case ActionTypes.NEXT_DIALOG:\r\n                    if(state.speakerIdx===0) {\r\n                        return({\r\n                            ...state,\r\n                            speakerIdx: 1,\r\n                        })\r\n                    } else {\r\n                        return({\r\n                            ...state,\r\n                            speakerIdx: 0,\r\n                            dialogIdx: (state.dialogIdx + 1) % state.person1.dialogs.length,\r\n                        })\r\n                    }\r\n                default: \r\n                    return state;\r\n            }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    isOpen: false, \r\n    HEALER : [],\r\n    CURRENCY: [],\r\n    EATABLE: [],\r\n };\r\n\r\nexport const Inventory = (state = {...INITIAL_STATE}, action) => {\r\n            switch(action.type) {\r\n                case ActionTypes.START_NEW_JOURNEY:\r\n                    return({\r\n                        ...INITIAL_STATE,\r\n                    });\r\n                    \r\n                case ActionTypes.TOGGLE_INVENTORY_DISPLAY:\r\n                    return({\r\n                        ...state,\r\n                        isOpen: !state.isOpen,\r\n                    });\r\n\r\n                case ActionTypes.ADD_OBJECT_TO_INVENTORY:\r\n                    let statecpy = {...state};\r\n                    statecpy[action.payload.object.type.type] = state[action.payload.object.type.type].concat(action.payload.object);\r\n                    return(statecpy);\r\n\r\n                case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n                    return({\r\n                        ...action.payload.state.inventory,\r\n                    });\r\n\r\n                default: \r\n                    return state;\r\n            }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n                        savingState: false,\r\n                        prevStates: [],\r\n                    }\r\n\r\nexport const StateManager = ( state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            })\r\n        case ActionTypes.SAVE_STATE_INITIATED:\r\n            return({\r\n                    ...state,\r\n                    savingState: true,\r\n            });\r\n        case ActionTypes.SAVE_STATE:\r\n            const cpyPrevStates = [...state.prevStates];\r\n            cpyPrevStates.push(action.payload.state);\r\n            return({\r\n                ...state,\r\n                prevStates: cpyPrevStates,\r\n                savingState: false,\r\n            });\r\n        case ActionTypes.SAVE_STATE_END:\r\n            return({\r\n                    ...state,\r\n                    savingState: false,\r\n            });\r\n        case ActionTypes.RESTORE_STATE:\r\n            let statecpy = {\r\n                ...state,\r\n                prevStates: action.payload.prevStates,\r\n                savingState: false,\r\n            };\r\n            statecpy[action.payload.mapinfo.map] = {\r\n                gameobjects: action.payload.mapinfo.gameobjects,\r\n                npc: action.payload.mapinfo.npc,\r\n            }\r\n            return(statecpy);\r\n        case ActionTypes.RESTORE_STATE_FROM_DISK:\r\n            return({\r\n                ...action.payload.state.statemanager,\r\n                savingState: false,\r\n            });\r\n        default: \r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\nimport { BATTLE_MUSIC } from '../helpers/constants';\r\n\r\n\r\nconst squareMatrix = (n) => {\r\n    let matrix = [];\r\n    for(let i=0; i<n; i++) {\r\n        matrix.push(new Array(n).fill(0));\r\n    }\r\n    return matrix;\r\n}\r\n\r\nconst BASE_LIVES = 5;\r\n\r\n\r\nconst getLives = (level) => {\r\n    return(BASE_LIVES + (level-1)*2);\r\n}\r\n\r\nconst INITIAL_STATE = { \r\n                        isOpen: false,\r\n                        inIntro: true,\r\n                        inEnd: false,\r\n                        currRound: 0,\r\n                        player: {\r\n                            name: \"Player\",\r\n                            src: \"\",\r\n                            level: 1,\r\n                            exp: 0,\r\n                            lastMove: null,\r\n                            score: 0,\r\n                            lives: BASE_LIVES,\r\n                            maxLives: BASE_LIVES,\r\n                            markovMatrix: squareMatrix(3), \r\n                            initialStats: {\r\n                                level: 1,\r\n                                exp: 0,\r\n                            },\r\n                        },\r\n                        npc: {\r\n                            id: null,\r\n                            name: \"NPC\",\r\n                            src:\"\",\r\n                            level: 1,\r\n                            battlerType: null,\r\n                            lastMove: null,\r\n                            lives: BASE_LIVES,\r\n                            maxLives: BASE_LIVES,\r\n                            score: 0,\r\n                        },\r\n                        lastWinner: 0,\r\n                        finalWinner: 0,\r\n                        summary: \"Use arrow keys to select and press Enter\",\r\n                        music: null,\r\n                    };\r\n\r\nexport const Battle = (state = {...INITIAL_STATE}, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.START_NEW_JOURNEY:\r\n            return({\r\n                ...INITIAL_STATE,\r\n            });\r\n        case ActionTypes.START_BATTLE:\r\n            return({\r\n                ...INITIAL_STATE,\r\n                isOpen: true,\r\n                player: {\r\n                    ...INITIAL_STATE.player,\r\n                    name: action.payload.player.name,\r\n                    src:action.payload.player.skin.src,\r\n                    level: action.payload.player.battle.level,\r\n                    exp: action.payload.player.battle.exp,\r\n                    lives: getLives(action.payload.player.battle.level),\r\n                    maxLives: getLives(action.payload.player.battle.level), \r\n                    markovMatrix: squareMatrix(3), \r\n                    initialStats: {\r\n                        level: action.payload.player.battle.level,\r\n                        exp: action.payload.player.battle.exp,\r\n                    },\r\n                },\r\n                npc: {\r\n                    ...INITIAL_STATE.npc,\r\n                    id: action.payload.npc.id,\r\n                    name: action.payload.npc.name,\r\n                    src: action.payload.npc.skin.src,\r\n                    level: action.payload.npc.level,\r\n                    battlerType: action.payload.npc.battlerType,\r\n                    lives: getLives(action.payload.npc.level),\r\n                    maxLives: getLives(action.payload.npc.level),  \r\n                },\r\n                music: 'battleMusic' in action.payload.npc? action.payload.npc.battleMusic: BATTLE_MUSIC,\r\n            })\r\n\r\n        case ActionTypes.END_BATTLE_INTRO:\r\n            return({\r\n                ...state,\r\n                inIntro: false,\r\n            });\r\n        case ActionTypes.SUBMIT_MOVES:\r\n            let cpyMatrix = [...state.player.markovMatrix];\r\n            if(state.player.lastMove!==null) {\r\n                cpyMatrix[state.player.lastMove][action.payload.playermove]+=1;   \r\n            } \r\n            return({\r\n                ...state,\r\n                currRound: state.currRound+1,\r\n                player: {\r\n                    ...state.player,\r\n                    lastMove: action.payload.playermove,\r\n                    score: action.payload.winner===1? state.player.score+1: state.player.score,\r\n                    lives: action.payload.winner===-1? Math.max(state.player.lives-1,0): state.player.lives,\r\n                    markovMatrix: cpyMatrix,\r\n                },\r\n                npc: {\r\n                    ...state.npc,\r\n                    lastMove: action.payload.npcmove,\r\n                    score: action.payload.winner===-1? state.npc.score+1: state.npc.score,\r\n                    lives: action.payload.winner===1? Math.max(state.npc.lives-1,0): state.npc.lives,\r\n                },\r\n                lastWinner: action.payload.winner,\r\n                summary: action.payload.summary,\r\n            });\r\n\r\n        case ActionTypes.END_BATTLE:\r\n            return({\r\n                ...state,\r\n                inEnd: true,\r\n                player: {\r\n                    ...state.player,\r\n                    level: action.payload.player.newlevel,\r\n                    exp: action.payload.player.newexp,\r\n                },\r\n                finalWinner: action.payload.battleWinner,\r\n            })\r\n        case ActionTypes.CLOSE_BATTLE:\r\n                return({\r\n                    ...state,\r\n                    isOpen: false,\r\n                })\r\n        default: \r\n            return state;\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { Player } from './player';\r\nimport { Map } from './map';\r\nimport { ViewPort } from './viewport';\r\nimport { NPC } from './npc';\r\nimport { GameObject } from './gameobject'\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { Dialog } from './dialog';\r\nimport { Inventory } from './inventory';\r\nimport { StateManager } from './statemanager';\r\nimport { Battle } from './battle';\r\n\r\nconst rootReducer = combineReducers({\r\n    player : Player,\r\n    map: Map,\r\n    viewport: ViewPort,\r\n    npc: NPC,\r\n    gameobjects: GameObject,\r\n    dialog: Dialog,\r\n    inventory: Inventory,\r\n    statemanager: StateManager,\r\n    battle: Battle,\r\n});\r\n\r\n\r\nexport const ConfigureStore = () =>  createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n    \r\n\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport './App.css';\r\nimport Main from './components/MainComponent';\r\nimport { ConfigureStore } from './redux/ConfigureStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={ConfigureStore()}>\r\n        <Main />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}